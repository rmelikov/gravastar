# Gravastar: Ternary Validation, Moral Geometry, and Gauge-Invariant Admissible Outcomes

**Author:** Ramin Melikov (Independent Researcher, St. Louis, MO) · ORCID: 0009-0001-4232-2222 · Email: [ramin.melikov@gmail.com](mailto:ramin.melikov@gmail.com)

> I claim; my claim is receipt-true to any admissible observer; therefore I count.<br>
> Warranted assertibility under open-ended inquiry confers epistemic standing.<br>
> *Epigraph provenance: Descartes [9]; Dewey [10]; Peirce [11].*

## Abstract

We present **Gravastar**, a microphysics-agnostic, *teleomorphic* (ends-first) validation calculus that operationalizes the **Principle of Superposition (PoS)**: *“Do only that, which would be acceptable to all.”* Here, *acceptable to all* means **universally admissible under open-join audit**: **any observer admissible under the declared observer-equivalence group $G$** (e.g., paraphrase, ordering, units/encodings, tokenization, locale) and who follows the public method reproduces the decision within declared budgets; any compliant counterexample defeats the claim.

The calculus is formalized by the **Timeline Selection Theorem (TST)** and a ternary decision gate $\delta\in\{-1,0,+1\}$: $\delta=+1$ admits and actualizes a candidate timeline, $\delta=0$ preserves superposition, and $\delta=-1$ vetoes.

Decisions draw on an **acceptability field** $\Phi(x,t)$ with preregistered bands $\Phi_{\text{neutral}}$ (indifference) and $\Phi_{\min}$ (strict pass), together with a **moral geometry** $y=\mathrm{arctanh}(x)$. We map $\Phi$ to orientation by $x = 2(\Phi/\Phi_{\max}) - 1$, **where $\Phi_{\max}$** is the preregistered maximum acceptability in the pinned **III.json manifest**; thus $x\!\to\!-1^{+}$ marks moral egoism, $x=0$ neutrality, and $x\!\to\!1^{-}$ moral perfection. The gradient $dy/dx = 1/(1-x^2)$ yields an explicit **repair vector** whenever $\delta\in\{-1,0\}$. All comparisons obey **round-before-compare** at precisions fixed in **III.json** (budgets, rounding, tie policy).

Correctness is enforced by fail-closed **floors** that **dominate $\Phi$**: a **G-floor** (gauge invariance under admissible redescriptions; observer-equivalence group G), the **PoS Screen** (neutrality operations only), **WITNESS** (asynchronous $W(n)$ with separability bounds $B(n)$), **CAUSALITY/ISO** (near-isotropy $A^\star$ and fitted front-speed cap $\hat c \le 1$), **CAPTION → RECEIPT** byte-equality binding, and **DETERMINISM**. A default invariant set (**DII-4**) is preregistered in **III.json**: $R(u)$ (universality ratio), $A^\star$, $\hat c$, and $W(n)$ vs $B(n)$. Methods are standardized via **ScanProtocol v1** (bidirectional scans, dark-window readout, $\ge 3\cdot\tau_{\text{reset}}$ waits, three-grid alias refuter; with bright/dark basis disclosure when interference or phase matters).

An optional engineered-\$\Phi$ layer (Discrete Nonlinear Transport) is quarantined—useful for “soliton-like” dynamics—yet cannot relax floors and must publish a causality cap $\hat c$. **Portability is demonstrated on the Adamas-1D physical testbed** (e.g., carbon-nanotube (CNT) strain/spectroscopy runs) with $\delta$-windows, byte-equality receipts, and end-to-end **REPLAY-RFD**; see also **SSH-like topological transitions under CNT strain** for context. In an agentless limit (CHSH [1]; see §9) of the witness program (e.g., **Clauser–Horne–Shimony–Holt, CHSH [1]**), the framework recovers standard quantum predictions; in all cases, admissibility is decided by $\delta$, not narrative. Panels/coverage may be reported as evidence, but **never define “all.”** The result is a gauge-invariant, time-stable, auditable standard for **admissible outcomes** that makes the PoS actionable and falsifiable.

**Operational translation.** A claim has standing **if and only if** its warrant is **publicly reproducible** by any competent inquirer following the shared method; it is **invariant under admissible redescriptions** and **stable across time**; and **any compliant counterexample defeats it**. In this paper, “receipt-true” means **$\delta = +1$** with **floors dominating $\Phi$**, a **G-floor pass**, and **TTDA time spine** (UTC-LCRO badge, streaming/batch parity, explain\_url), with **caption→receipt binding** and **REPLAY-RFD** to first divergence. The validation state is **ternary-encoded as** $\delta\in\{-1,0,+1\}$; “count” means **admitted to the $\delta$ decision calculus** (subject to the PoS Screen and supersession).

**Author keywords:**
Principle of Superposition (PoS); open-join audit; ternary validation (δ); moral geometry; acceptability field Φ; gauge invariance (G-floor); TTDA time governance; receipts & byte-equality binding; REPLAY-RFD deterministic replay; Adamas-1D testbed; observer-equivalence group G; teleomorphic.

# Table of Contents

1. Introduction
1.1 Motivation and scope
1.2 The Principle of Superposition (PoS): “acceptable to all”
1.3 Contributions and summary of results
1.4 Paper organization

2. Preliminaries & Notation
2.1 Symbols, sets, and rounding conventions (round-before-compare)
2.2 Admissible observers and the observer-equivalence group $G$
2.3 The pinned **III.json manifest** (budgets, thresholds, tie policy)

3. Moral Geometry & Acceptability Field
3.1 Acceptability field $\Phi(x,t)$ and bands $\Phi_{\min}, \Phi_{\text{neutral}}$
3.2 Mapping $\Phi \to x$ via $x = 2(\Phi/\Phi_{\max}) - 1$ (with $\Phi_{\max}$ preregistered)
3.3 Moral state $y=\mathrm{arctanh}(x)$, gradient $dy/dx = 1/(1-x^2)$, and repair vector

4. Timeline Selection Theorem (TST) & Ternary Validation
4.1 Decision gate $\delta \in \{-1,0,+1\}$: semantics and admissibility
4.2 TST statement and operational consequences
4.3 Counterexample defeat rule and supersession

5. Floors: Fail-Closed Invariants that Dominate $\Phi$
5.1 **G-floor**: gauge invariance under admissible re-descriptions
5.2 **PoS Screen**: neutrality-preserving operations
5.3 **WITNESS**: asynchronous $W(n)$ vs separability bounds $B(n)$
5.4 **CAUSALITY/ISO**: near-isotropy $A^\star$ and fitted front-speed cap $\hat c \le 1$
5.5 **CAPTION→RECEIPT**: byte-equality binding of figures/tables to claims
5.6 **DETERMINISM**: RNG freeze, seeds, and platform parity

6. Temporal Governance (TTDA)
6.1 UTC-anchored Clock Disclosure Badge (UTC-LCRO)
6.2 Right-to-Temporal-Resolution and RG-grid budgets
6.3 Streaming↔Batch parity bound $|\delta_{\text{stream}} - \delta_{\text{batch}}| \le \Pi + 0.01\Pi$

7. Receipts & Auditability
7.1 **Receipt v2**: code/data/SBOM hashes, thresholds, energy
7.2 Caption→receipt token trailers and byte-equality verification
7.3 **REPLAY-RFD** (Replay-to-First-Divergence): definition and audit procedure (not Tree Evaluation [2,3,4])

8. ScanProtocol v1 (Methods Standardization)
8.1 Bidirectional scans and dark-window readout
8.2 Reset waits $\ge 3 \cdot \tau_{\text{reset}}$
8.3 Three-grid alias refuter
8.4 Basis disclosure when interference/phase matters (bright/dark)

9. Witness Program and Agentless Limit
9.1 CHSH [1]-style tests and admissibility reporting
9.2 Agentless limit: recovery of standard quantum predictions
9.3 Panels/coverage as evidence (why panels ≠ “all”)

10. Engineered-$\Phi$ (Quarantined Dynamics)
10.1 Discrete Nonlinear Transport (DNT) model and parameters
10.2 Causality cap reporting $\hat c$ and quarantine boundary
10.3 Falsification windows and admissible deviations

11. Adamas-1D Physical Testbed
11.1 Hardware & setup (e.g., CNT strain/spectroscopy runs)
11.2 $\delta$-windows, byte-equality receipts, and end-to-end REPLAY-RFD
11.3 Results summary and portability notes

12. Falsification, Threat Models, and Governance
12.1 Open-join audit workflow and reproducibility budgets
12.2 Adversarial attempts (gauge violations, time-skew, aliasing)
12.3 Supersession, versioning, and public revocation

13. Related Work
13.1 Foundational tests (e.g., CHSH [1])
13.2 Complexity/audit lineage (Tree Evaluation [2,3,4], Cook–Mertz, Williams)
13.3 Teleomorphic/CA context and distinctions from proprietary mechanisms

14. Discussion & Limitations
14.1 What Gravastar does (and does not) claim
14.2 Scalability and deployment considerations
14.3 Ethical notes on PoS and universal admissibility

15. Future Work
15.1 Expanded witness suites and cross-domain portability
15.2 Engineered-$\Phi$ soliton engineering road map
15.3 Gravastar-TVLM / LLM integration pathways

16. Acknowledgments

17. Data, Code & Receipt Availability

18. References

---

Appendices

Appendix A. Formal statement/proof sketch of TST and $\delta$ calculus lemmas
Appendix B. G-floor test suite and admissible re-description classes
Appendix C. TTDA derivations, RG-grid definitions, and parity diagnostics
Appendix D. **Receipt v2** JSON schema and verification scripts
Appendix E. **ScanProtocol v1** checklists and operator run-cards
Appendix F. Estimation of **DII-4** invariants $(R(u), A^\star, \hat c, W(n)\!:\!B(n))$
Appendix G. Adamas-1D hardware specs and calibration curves
Appendix H. Engineered-$\Phi$ (DNT) parameter tables and ablations (quarantined)
Appendix I. REPLAY-RFD auditor’s guide and first-divergence exemplars
Appendix J. Right-to-Temporal-Resolution API (endpoints, budgets, audit logs)
Appendix K. Extended examples: round-before-compare, tie policy, and repair vectors
Appendix L. Glossary of terms and notation (PoS, floors, $G$, receipts, etc.)

---

# 1. Introduction
## 1.1 Motivation and scope

Scientific claims, safety decisions, and model deployments are often adjudicated by **narrative** rather than by a uniform, audit-ready calculus. Two pathologies recur across fields: (i) **context drift** (small changes in wording, encoding, locale, or timebase flip a result), and (ii) **temporal fragility** (streaming vs. batch, clock skew, or replay order alter the decision). **Gravastar** is motivated by the need for a **microphysics-agnostic, ends-first (teleomorphic)** standard that decides *admissible outcomes* the same way everywhere, under open scrutiny.

Gravastar operationalizes the **Principle of Superposition (PoS)**—*“Do only that, which would be acceptable to all.”* Here, **“acceptable to all” means *universally admissible under open-join audit***: any observer admissible under the declared observer-equivalence group $G$ who follows the public method reproduces the decision within declared budgets; any compliant counterexample defeats it. The calculus itself is value-neutral about content; it encodes *how* claims must be warranted to **count**.

Concretely, the framework provides:

Correctness is enforced by fail-closed **floors that dominate $\Phi$**. In brief: **G-floor** (gauge invariance across admissible re-descriptions), **PoS Screen** (neutrality-only ops), **WITNESS** (asynchronous $W(n)$ vs. separability bounds $B(n)$), **CAUSALITY/ISO** (near-isotropy $A^\star$, front-speed cap $\hat c \le 1$), **CAPTION→RECEIPT** (byte-equality binding of figures/tables to claims), and **DETERMINISM** (RNG freeze, platform parity). These floors are prerequisites; if a floor fails, $\delta$ cannot pass on the basis of $\Phi$.

**Temporal governance (TTDA)** supplies the time spine: a UTC-anchored **Clock Disclosure Badge**, a **Right-to-Temporal-Resolution** budget, and a streaming↔batch parity bound $|\delta_{\text{stream}}-\delta_{\text{batch}}| \le \Pi + 0.01\,\Pi$. Evidence is packaged as **Receipt v2** (code/data/SBOM hashes, thresholds, energy) and audited by **REPLAY-RFD** (Replay-to-First-Divergence), enabling any admissible observer to reproduce decisions and pinpoint the first mismatch.

**Scope—what this paper does and does not claim.**

**Intended users and artifacts.** Experimentalists, ML/AI deployment teams, governance/audit bodies, and open-science venues can adopt Gravastar to ship claims with: (i) a **$\delta$ table** and **repair vector**, (ii) **Receipt v2** bundles, (iii) TTDA co-reports, and (iv) a **REPLAY-RFD** trace. The result is a submission-ready, microphysics-agnostic standard for **admissible outcomes** under open-join audit.

## 1.2 The Principle of Superposition (PoS): “acceptable to all”
Only neutrality-preserving operations are permitted while δ=0; repairs must not tilt the gate.
**Law (plain language).** *Do only that, which would be acceptable to all.* In Gravastar, “acceptable to all” means **universally admissible under open-join audit**: any observer who is **admissible under the declared observer-equivalence group** $G$ and who follows the public method must be able to reproduce the decision within preregistered budgets; **one compliant counterexample defeats** the claim.

**Who is “all”?** “All” is not a survey panel or a coverage metric. It is the **open, unbounded class of admissible observers**—any party who (i) applies admissible re-descriptions from $G$ (e.g., paraphrase, ordering, units/encodings, tokenization, locale), (ii) uses the pinned **III.json** manifest (budgets, thresholds, rounding, tie policy), (iii) respects **TTDA** time governance, and (iv) executes **REPLAY-RFD**. Panels and coverage may be reported as *evidence*, but **never define “all.”** This keeps PoS from collapsing into “all affected” or other selection-dependent notions that re-introduce moral egoism.

**Operational form (acceptability).** Let $\tau$ be a candidate timeline/action with receipts, and let $M$ denote the published method (code, parameters, III.json, TTDA budgets, scan protocol). Define for any admissible observer $o$,

$$
\delta_o(\tau; M) \in \{-1,0,+1\}.
$$

PoS is satisfied for $\tau$ iff:

$$
\textbf{(i) Floors)}\quad \forall o:\ \text{all floors pass and dominate } \Phi;\qquad
\textbf{(ii) Reproducibility)}\quad \forall o:\ \delta_o(\tau; M)=+1\ \text{within budgets};
$$

$$
\textbf{(iii) Invariance)}\quad \forall g\inG,\ \forall o:\ \delta_o(\,g\!\cdot\!\tau;\, g\!\cdot\!M\,)=\delta_o(\tau;M);
\qquad
\textbf{(iv) Time stability)}\quad |\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi;
$$

$$
\textbf{(v) Defeat)}\quad \text{If }\exists\ \text{a compliant counterexample, then }\delta\neq+1\text{ (claim loses standing).}
$$

If any condition fails, **PoS requires non-actualization**: either **preserve superposition** ($\delta=0$) or **veto** ($\delta=-1$).

**How PoS interfaces with the calculus.**

  $$
  x = 2(\Phi/\Phi_{\max})-1,\quad y=\mathrm{arctanh}(x),\quad \frac{dy}{dx}=\frac{1}{1-x^2}.
  $$

  When $\delta\in\{-1,0\}$, the **repair vector** is read off from the geometry (how to change inputs to reach $\Phi_{\min}$ under the floors).

**Decision rule (sketch).**

1. **Verify floors.** If any floor fails → $\delta=-1$ (report failure + repair vector).
2. **Compute effective field.** Apply budgets (e.g., TTDA) and **round-before-compare** per **III.json**; compare to $\Phi_{\min}$, $\Phi_{\text{neutral}}$.
3. **Gate.** If $\Phi \ge \Phi_{\min}$ and floors pass → $\delta=+1$; if $\Phi \in \Phi_{\text{neutral}}$ → $\delta=0$; else $\delta=-1$.
4. **Audit.** Publish **Receipt v2** and a **REPLAY-RFD** trace; run $G$-tests and TTDA parity checks; invite open-join reproduction.
5. **Supersession.** Any **compliant counterexample** (floor violation, invariance break, parity breach, or successful REPLAY-RFD divergence) **defeats** the standing and triggers supersession.

**What PoS guarantees (and what it doesn’t).** PoS guarantees that **actualized outcomes** are **gauge-invariant, time-stable, and counterexample-defeasible**, with a published **repair path** for non-admissible proposals. It does **not** prescribe moral content or optimize welfare metrics; it **enforces the warrant** required for a claim to **count** under the universal quantifier “all.”

## 1.3 Contributions and summary of results

**Problem.** Across science, engineering, and AI deployment, admissibility of claims is too often decided by narrative, tuning, or panel heuristics that fail under re-description (paraphrase, units/encodings, tokenization), timing changes (streaming vs. batch), or replay. **Gravastar** supplies a portable, audit-ready calculus that makes *“acceptable to all”* operational, falsifiable, and reproducible.

**Contributions.**

**Summary of results.** The paper delivers: (i) a **provable decision kernel** (TST + $\delta$ calculus) with floors that guarantee **gauge invariance and time stability**; (ii) an **operational geometry** that yields **repair vectors** for non-admissible proposals; (iii) a **time spine** (TTDA) and **receipt stack** (Receipt v2 + REPLAY-RFD) that make outcomes **replayable to first divergence**; (iv) a **standardized methods layer** (ScanProtocol v1, DII-4) for portable measurement; (v) a **witness program** including an agentless limit that aligns with quantum predictions; and (vi) a **quarantined dynamics** option (DNT) for soliton engineering that preserves auditability and causality caps. Collectively, these components constitute a **submission-ready, microphysics-agnostic standard** for **admissible outcomes** under the universal law *“acceptable to all.”*

## 1.4 Paper organization

**Section 2 — Preliminaries & notation.** Symbols and conventions; admissible observers and the observer-equivalence group $G$; the pinned **III.json manifest** (budgets, thresholds, rounding, tie policy) and the **round-before-compare** rule.

**Section 3 — Moral geometry & acceptability field.** Definition of the acceptability field $\Phi(x,t)$; preregistered bands $\Phi_{\min}$ and $\Phi_{\text{neutral}}$; mapping $\Phi \to x = 2(\Phi/\Phi_{\max})-1$ (with $\Phi_{\max}$ preregistered) and moral state $y=\mathrm{arctanh}(x)$; construction of the **repair vector**.

**Section 4 — Timeline Selection Theorem (TST) & ternary validation.** Decision gate $\delta\in\{-1,0,+1\}$ and semantics; TST statement and operational consequences; defeat by compliant counterexample and public **supersession**.

**Section 5 — Floors (fail-closed invariants).** Formal specification of **G-floor**, **PoS Screen**, **WITNESS** $(W(n)$ vs $B(n))$, **CAUSALITY/ISO** $(A^\star,\ \hat c\le 1)$, **CAPTION→RECEIPT** (byte-equality), and **DETERMINISM** (RNG freeze, platform parity); procedures and proofs that **floors dominate $\Phi$**.

**Section 6 — Temporal governance (TTDA).** UTC-anchored Clock Disclosure Badge; Right-to-Temporal-Resolution and RG-grid budgets; streaming↔batch parity bound $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi + 0.01\Pi$; integration of temporal budgets into comparisons.

**Section 7 — Receipts & auditability.** **Receipt v2** schema (code/data/SBOM hashes, thresholds, energy); caption→receipt binding by byte-equality; **REPLAY-RFD** (Replay-to-First-Divergence) definition, auditor workflow, and outputs.

**Section 8 — ScanProtocol v1 (methods standardization).** Bidirectional scans; dark-window readout; reset waits $\ge 3\cdot \tau_{\text{reset}}$; three-grid alias refuter; basis disclosure when interference/phase matters.

**Section 9 — Witness program & agentless limit.** CHSH-style agentless tests; admissibility reporting; recovery of standard quantum predictions in the agentless limit; why panels/coverage are evidence but never define “all.”

**Section 10 — Engineered-$\Phi$ (quarantined dynamics).** **Discrete Nonlinear Transport (DNT)** module for soliton-like studies; quarantine boundary (no relaxation of floors); causality cap $\hat c$; falsification windows.

**Section 11 — Adamas-1D physical testbed.** Hardware/setup (e.g., CNT strain/spectroscopy runs); $\delta$-windows; end-to-end **REPLAY-RFD**; portability notes and SSH-like strain-transition context.

**Section 12 — Falsification, threat models, and governance.** Open-join audit workflow; adversarial classes (gauge violations, time-skew, aliasing); revocation and public supersession protocols.

**Section 13 — Related work.** Foundational tests (e.g., CHSH); complexity/audit lineage (Tree Evaluation [2,3,4], Cook–Mertz, Williams); teleomorphic/CA context and distinctions from proprietary mechanisms.

**Section 14 — Discussion & limitations.** What Gravastar does and does not claim; scalability and deployment considerations; ethical notes on PoS and universal admissibility.

**Section 15 — Future work.** Expanded witness suites and cross-domain portability; soliton-engineering roadmap for engineered-$\Phi$; Gravastar-TVLM / LLM integration pathways.

**Section 16 — Acknowledgments.**

**Section 17 — Data, code & receipt availability.** Links/identifiers for repositories, **explain\_url**, and distribution of Receipt v2 bundles and audit traces.

**Section 18 — References.**

**Appendices (A–L).** Formal TST statement and lemmas (A); G-floor test suite (B); TTDA derivations and diagnostics (C); Receipt v2 schema and scripts (D); ScanProtocol v1 run-cards (E); DII-4 estimation $(R(u), A^\star, \hat c, W(n)\!:\!B(n))$ (F); Adamas-1D hardware and calibration (G); DNT parameters and ablations (H); REPLAY-RFD auditor’s guide with exemplars (I); Right-to-Temporal-Resolution API (J); rounding/ties and repair-vector worked examples (K); glossary (L).

---

# 2. Preliminaries & Notation
## 2.1 Symbols, sets, and rounding conventions (round-before-compare)

**Sets & basic notation.**

**Core symbols (alphabetical).**

---

### Rounding conventions: **round-before-compare**

All admissibility comparisons are executed with **deterministic rounding at declared precision** *before* any inequality is evaluated. This removes platform and representation ambiguity.

**R1 — Canonicalization, then rounding.**
For any scalar metric $m$ (e.g., $\Phi, A^\star, \hat c, R(u), W(n)$), apply in order:

1. **Unit cast** to the canonical unit in **III.json** (SI or domain-declared).
2. **Budgeting** if specified (e.g., subtract declared measurement bias or apply TTDA budget to form an effective value; details per-metric in §2.3/§6).
3. **Rounding** to precision $p_m$ from **III.json** using tie policy $\mathsf{tie\_m}$ (default: *bankers/half-even*).

We denote $\mathrm{round}_{p,\mathsf{tie}}(v)$ as the deterministic operator.

**R2 — Round then compare (scalar thresholds or band endpoints).**
Let $(p_{\mathrm{cmp}}, \mathsf{tie}_{\mathrm{cmp}})$ be the **comparison** rounding parameters for statistic $m$ (or for its band). Compute

$$
\tilde m \leftarrow \mathrm{round}_{p_{\mathrm{cmp}},\mathsf{tie}_{\mathrm{cmp}}}(m),\qquad
\tilde\theta \leftarrow \mathrm{round}_{p_{\mathrm{cmp}},\mathsf{tie}_{\mathrm{cmp}}}(\theta).
$$

Then compare $\tilde m$ to $\tilde\theta$ per the declared relation:

*Band variant.* For a band $B$ with endpoints $\theta_L,\theta_U$, round both endpoints with the same $(p_{\mathrm{cmp}},\mathsf{tie}_{\mathrm{cmp}})$. If the band is **closed** (recommended), pass iff $\tilde\theta_L \le \tilde m \le \tilde\theta_U$. For half-open bands, adjust the inequalities accordingly and declare the closure in `III.json`.

*Notes.* Do not round $m$ or $\theta$ elsewhere on the gate path (avoid double-rounding). If the quantity is time-like, replace `round` with the pinned quantizer $\mathrm{quant}_{\Delta,\text{epoch}}(\cdot)$. Any NaN/missing $\theta$ fails closed.

**R3 — Bands and windows.**
For band tests (e.g., $\Phi \in \Phi_{\text{neutral}}$), round endpoints and statistic at the same precision $p_\Phi$ before interval membership is evaluated.

**R4 — Vectors and aggregates.**
For vector metrics, apply **R1–R3** component-wise *before* any aggregation (e.g., min/max/mean). If the threshold is on the aggregate (e.g., $\|\mathbf v\|_2 \ge \theta$), compute the aggregate from rounded components, then apply **R2**.

**R5 — Deterministic tie policy.**
Tie policy is fixed per metric in **III.json**. Allowed values include **half-even**, **half-up**, **toward-zero**, or **floor/ceil** (rare; only when justified). The manifest must not mix policies within the *same* metric across sections.

**R6 — Binary floating-point guard.**
If binary floating point is used at run-time, the receipt must pin: (i) the library and flags, (ii) decimal presentation precision, and (iii) an **ulp tolerance** for internal checks. External admissibility still follows **R1–R3** with the manifest’s decimal precision.

**R7 — Boolean gates from rounded values.**
The ternary decision gate uses rounded comparisons:

  Here tildes indicate quantities rounded under **R1–R3**.

**R8 — Stream↔batch parity and time checks.**
Parity/temporal checks compare **rounded** statistics at the declared precision unless the manifest specifies an exact match for discrete states (e.g., $\delta$). For reported real-valued deltas (latency, energy, AUC), apply **R1–R3** before evaluating the TTDA bound.

**R9 — Strings and bytes (non-numeric).**
Numeric rounding never applies to **CAPTION→RECEIPT**: captions bind to receipts by **byte-equality** (no normalization). Any transformation for display must be documented and excluded from the bound bytes.

---

#### Canonical compare (reference pseudocode)

```text
function CMP(m, θ, spec):
    # spec: {unit, precision p, tie_policy, budgeting}
    v ← cast_unit(m, spec.unit)
    t ← cast_unit(θ, spec.unit)
    v ← apply_budgeting(v, spec.budgeting)   # optional per III.json
    ṽ ← round(v, p=spec.p, tie=spec.tie_policy)
    t̃ ← round(t, p=spec.p, tie=spec.tie_policy)
    return (ṽ ≥ t̃)  # or the declared relation
```

This **CMP** function (with metric-specific $p$ and tie policy from **III.json**) is the only admissible way to compare measured quantities to thresholds/bands anywhere in the calculus. All receipt-producing code must call the same routine; auditors re-execute it verbatim during **REPLAY-RFD**.

## 2.2 Admissible observers and the observer-equivalence group $G$

**Admissible observer (plain definition).**
An observer is *admissible* if they can (i) obtain the public artifacts and method $M$ (code, data, **III.json** manifest, TTDA budgets, ScanProtocol), (ii) execute **REPLAY-RFD** and the declared tests on their own infrastructure, (iii) respect the fail-closed floors (no hidden inputs, RNG freeze, platform parity), and (iv) apply only the **declared re-descriptions** from the observer-equivalence group $G$. Admissibility is **open-join**: no credential or affiliation is required; adversarial auditors are included.

**What $G$ is.**
$G$ is a *declared, preregistered* set of *invertible* re-descriptions that must **not** change the semantic content of the claim but may change its *presentation, encoding, or reference frame*. Elements $g\inG$ act on both the timeline $\tau$ and the method $M$: $g\!\cdot\!(\tau,M) \mapsto (\tau',M')$. The identity $e$ and composition/inverses are included (group structure). **Scope is explicit**: only classes listed in **III.json** count as admissible; anything outside is out-of-scope for the G-floor.

**Canonical classes (declared in the manifest).**

**Excluded transformations (non-admissible).**
Any operation that *adds/removes/edits* substantive content; truncation/summarization; paraphrases failing the equivalence check; dataset swaps or filtering beyond the declared selection; undisclosed pre- or post-processing; lossy re-encodings that alter parsed values; any time manipulation not anchored to UTC-LCRO; any unit change outside declared tolerances; changes that violate **CAPTION→RECEIPT** byte-equality for published artifacts.

**G-floor requirement (invariance).**
Let $\delta(\tau;M)\in\{-1,0,+1\}$ be the decision produced by the pipeline under floors and TTDA. The **G-floor passes** iff for all declared $g\inG$,

$$
\delta(g\!\cdot\!\tau;\, g\!\cdot\!M)=\delta(\tau;M),
$$

with all numeric comparisons executed **round-before-compare** at the precisions in **III.json**, and with the same TTDA budgets. Where the pipeline yields real-valued diagnostics (e.g., $R(u), A^\star, \hat c, W(n)$), the manifest may specify a *tolerance* $\eta$ for reporting drift; **the gate $\delta$ itself must be invariant**. If any $g$ flips $\delta$, the floor fails (claim cannot be admitted on $\Phi$).

**G-test protocol (published and receipt-backed).**

**How $G$ interacts with other floors.**

**Admissible observer checklist (what an auditor must do).**

1. Fetch the artifacts and **III.json** manifest; verify hashes (Receipt v2).
2. Disclose environment (platform parity) and clocks (TTDA badge).
3. Reproduce $\delta(\tau;M)$ and diagnostics with **round-before-compare**.
4. Execute $G_\text{test}$; confirm $\delta$-invariance; record **REPLAY-RFD** traces.
5. If any compliant counterexample emerges (floor breach, invariance break, parity violation, first-divergence mismatch): publish it; the claim loses standing (supersession).

**Design intent.**
$G$ encodes *which* re-descriptions the method promises to tolerate. The **G-floor** converts that promise into a **pass/fail invariant** that *dominates $\Phi$*: no amount of score mass can compensate for a broken invariance. This keeps “acceptable to all” aligned with **universal admissibility under open-join audit**, rather than with sample-dependent or narration-dependent acceptance.

## 2.3 The pinned III.json manifest (budgets, thresholds, tie policy)

**Purpose.** The **III.json** manifest is the *single source of truth* for every numeric and procedural knob that affects admissibility. It pins units, thresholds, precisions, **tie policy** for rounding, temporal budgets, allowed $G$-re-descriptions, ScanProtocol parameters, and invariant definitions. All admissibility checks call into this manifest; auditors re-use it verbatim during **REPLAY-RFD**. The manifest is bound by **byte-equality** to captions via **CAPTION→RECEIPT** and is immutable for a given claim; any change creates a superseding manifest.

---

### Normative requirements (what the manifest MUST contain)

  * Enumerated *classes* of admissible re-descriptions (paraphrase class & checker parameters, unit classes, tokenizers, encodings, locale formats, time-base adapters, etc.).
  * A `g_test_plan` with representative instances per class (coverage card).

* **ScanProtocol v1.**

  * `bidirectional_scans` (true/false), `dark_window` readout parameters, `wait_min` (e.g., `>= 3 * tau_reset`), `alias_refuter` settings, and basis disclosure flags.

* **Determinism & platforms.**

  * RNG policy (frozen seeds or RNG-free), library versions, hardware parity expectations, and ulp tolerances for internal numeric checks (external admissibility still follows the decimal rounding rules).

* **Engineered-$\Phi$ (if used).**

  * A quarantined `dnt` block (graph spec, step size, nonlinearity, caps) with an explicit `c_hat_cap` and a statement that floors remain unrelaxed.

---

### Illustrative skeleton (abbreviated)

{
  "schema_version": "1.0.1",
  "claim_uuid": "urn:uuid:REPLACE-ME",
  "created_utc": "2025-09-24T15:22:07Z",
  "author_fingerprint": "REPLACE-ME",
  "explain_url": "https://REPLACE-ME",
  "hashes": {
    "iii_json_sha256": "REPLACE-ME",
    "receipt_v2_sha256": "REPLACE-ME"
  },
  "supersedes": {
    "prior_hashes": [],
    "reason": ""
  },

  "units": {
    "Phi": "1.0 (unitless)",
    "A_star": "1.0 (unitless)",
    "c_hat": "1.0 (unitless)",
    "R_u": "1.0 (unitless)",
    "W_over_B": "1.0 (unitless)",
    "energy": "joule",
    "time": "second"
  },

  "rounding": {
    "Phi":      { "precision": 4, "tie_policy": "half_even" },
    "A_star":   { "precision": 4, "tie_policy": "half_even" },
    "c_hat":    { "precision": 4, "tie_policy": "half_even" },
    "R_u":      { "precision": 4, "tie_policy": "half_even" },
    "W_over_B": { "precision": 4, "tie_policy": "half_even" },
    "energy":   { "precision": 3, "tie_policy": "half_even" },
    "latency_ms": { "precision": 1, "tie_policy": "half_even" }
  },

  "phi": {
    "phi_max": 1.0000,
    "phi_min": 0.8000,
    "phi_min_op": ">=",
    "phi_neutral": [0.4000, 0.7999],
    "phi_neutral_closure": "closed"
  },

  "invariants": {
    "R_u":    { "op": ">=", "threshold": 0.9500, "n": 1000, "alpha": 0.01 },
    "A_star": { "op": "<=", "threshold": 0.0500 },
    "c_hat":  { "op": "<=", "threshold": 1.0000 },
    "W_B":    { "design": "async", "bound_type": "separable", "alpha": 0.01 }
  },

  "ttda": {
    "utc_lcro": { "clock_badge": true, "leap_seconds": "IERS_2025_09" },
    "pi_budget": 0.0100,
    "rg_grid": { "H": 24, "m": 4, "k": 3 },
    "deviation_policy": {
      "Phi": { "mode": "clamp", "amount": "pi_budget" },
      "latency_ms": { "mode": "subtract_bias", "bias": 0.4 }
    }
  },

  "G_group": {
    "classes": {
      "paraphrase":     { "checker": "eqcheck_v2", "threshold": 0.98 },
      "units":          { "allow": ["SI"], "constants": "CODATA_2022" },
      "tokenization":   { "allow": ["BPE", "WordPiece"], "normalize": "NFC" },
      "encoding":       { "allow": ["UTF-8", "UTF-16"], "newline": ["LF","CRLF"] },
      "locale_format":  { "dates": "ISO-8601", "digits": "Latn" },
      "timebase":       { "adapter": "to_utc_lcro" },
      "ordering":       { "policy": "order_invariant_inputs_only" },
      "data_wrappers":  { "json_key_order": "ignore_if_declared", "csv_delims": [",",";"] }
    },
    "g_test_plan": { "paraphrase": 50, "units": 10, "tokenization": 10, "encoding": 6, "locale_format": 8, "timebase": 6, "ordering": 6, "data_wrappers": 6 }
  },

  "scan_protocol_v1": {
    "bidirectional_scans": true,
    "dark_window": { "start_ms": 200, "length_ms": 50 },
    "wait_min": ">=3*tau_reset",
    "alias_refuter": { "grids": 3 },
    "basis_disclosure": { "interference": true, "phase_sensitive": true }
  },

  "determinism": {
    "rng": "frozen",
    "seeds": { "global": 1234567 },
    "libs": { "blas": "OpenBLAS-0.3.24", "fft": "FFTW-3.3.10" },
    "platform": { "cpu_arch": "x86_64|arm64", "os_family": "linux|macos|windows" },
    "ulp_tolerance": 1
  },

  "diagnostic_tolerances": {
    "Phi": 0.0005,
    "A_star": 0.0005,
    "R_u": 0.0005,
    "c_hat": 0.0005
  },

  "dnt": {
    "enabled": false,
    "graph": "laplacian:REPLACE",
    "dt": 0.01,
    "nonlinearity": "-beta*tanh(y/kappa)",
    "c_hat_cap": 0.95,
    "quarantine": true
  }
}

*Note:* Values are illustrative; exact numbers belong to your experiment. Every field used by the pipeline must be declared here; undeclared knobs are non-compliant.

---

### How the manifest is used in the calculus

* **Comparison gates.** All inequalities in the **δ** gate and floors use the manifest’s `units` → `rounding` → `thresholds` in that order (see §2.1 CMP pseudocode). *Both* statistic and threshold are rounded per metric before compare.
* **Floors ≫ Φ.** Floor checks (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) are parameterized by III.json. If any floor fails, admission by $\Phi$ is disallowed irrespective of `phi_min`.
* **Temporal budgets.** TTDA’s `pi_budget` and RG-grid `Omega(H,m,k)` feed into effective metrics (e.g., `deviation_policy` for $\Phi$); the manifest defines *how* to budget (subtract bias, clamp, widen, etc.).
* **G-floor invariance.** The declared $G$ classes and `g_test_plan` define the **coverage card** for invariance testing; *the δ decision itself must be invariant* (tolerances may exist for *diagnostics*, never for δ).
* **ScanProtocol standardization.** Acquisition/processing steps (bidirectional scans, dark windows, waits, alias refuter, basis disclosure) are fixed here; departures invalidate replay/admission.

---

### Immutability, versioning, and supersession

* **Pinning & byte-equality.** The manifest file is included in **Receipt v2** and bound to figures/tables by **CAPTION→RECEIPT** (byte-equality). Auditors verify the same bytes before REPLAY-RFD.
* **No in-place edits.** Any change—even to comments—creates a new manifest with a new hash and a `supersedes` link. Supersession revokes the standing of the prior claim and republishes δ and receipts.
* **Monotonic tightening.** Where applicable (e.g., thresholds), changes SHOULD be monotonic-tightening; loosening requires an explicit, receipt-backed justification in the supersession note.

---

### Minimal auditor checklist against **III.json**

1. Verify `iii_json_sha256` matches the bytes you obtained (Receipt v2).
2. Confirm your environment satisfies `determinism.libs/rng` and clock settings in `ttda.utc_lcro`.
3. Re-run δ with the manifest’s `units` → `deviation_policy` → `rounding` → `thresholds`.
4. Execute the `G_group.g_test_plan`; δ must be invariant across all declared samples.
5. Confirm floor passes using the manifest’s **DII-4** specs and ScanProtocol settings.
6. Publish your **REPLAY-RFD** trace IDs and any compliant counterexample; the latter triggers supersession.

The manifest’s role is to remove ambiguity: it states *exactly* how numbers are made comparable, *what* invariances are promised, and *which* budgets the time spine affords—so that any admissible observer reproduces the same δ under open-join audit.

---

# 3. Moral Geometry & Acceptability Field
## 3.1 Acceptability field $\Phi(x,t)$ and bands $\Phi_{\min}, \Phi_{\text{neutral}}$
(both statistic and thresholds are rounded at the pinned precision before comparison).

**Purpose and range.**
The **acceptability field** $\Phi(x,t)$ is a time-indexed, unit-normalized scalar that summarizes the warrant of a candidate timeline/action $\tau$ under the published method $M$. It is defined on a canonical domain and codomain

$$
\Phi:\ \mathcal{X}\times\mathbb{T}\ \longrightarrow\ [0,\ \Phi_{\max}],
$$

with $\Phi_{\max}$ preregistered in the **III.json** manifest. $\Phi$ is not “preference”; it is the *declared, reproducible score* on which the $\delta$-gate operates after all floors have passed.

**Construction (receipt-backed).**
Every instance of $\Phi$ must be produced by a *deterministic* pipeline pinned in **Receipt v2** and parameterized entirely by **III.json**:

* **Inputs.** A set of receipt-traceable primitives $\{s_i\}$ (e.g., measured statistics, constraint checks, energy/latency, witness scores). Each $s_i$ is canonicalized to declared units and optionally budgeted by TTDA (per §2.3), then **rounded before compare** (per §2.1).
* **Monotone components.** Each primitive contributes via a fixed, preregistered mapping $g_i:\mathbb{R}\!\to\![0,1]$ that is explicitly declared (e.g., piecewise-linear thresholding, logistic with fixed parameters). No undisclosed learned weights at decision time.
* **Nonnegative mixture.** We combine components with nonnegative weights $\alpha_i\ge 0$ that sum to $\le 1$, all pinned in **III.json**:

  $$
  \Phi(x,t)=\Phi_{\max}\cdot\sum_i \alpha_i\, g_i\!\big(s_i(x,t)\big),
  $$

  optionally plus a declared *reserve* term for admissibility margin (also pinned). This prevents negative-compensation “gaming” and keeps repairs interpretable.
* **Determinism.** RNGs are frozen; platform/library versions are pinned (see DETERMINISM floor). Any change to mappings or weights requires supersession.

**Effective field and TTDA.**
Temporal budgets apply *before* gating. Let $\Pi_{\text{eff}}$ be the manifest-declared deviation for the relevant window; the **effective** field used by the $\delta$-gate is

$$
\Phi_{\text{eff}}(x,t)\;=\;\mathrm{clamp}\big(\Phi(x,t)-\Pi_{\text{eff}},\ 0,\ \Phi_{\max}\big),
$$

then rounded per §2.1 (R1–R3). Stream↔batch parity is evaluated on the **rounded** values.

**Bands and semantics.**
Let $\rho_\Phi$ and $\mathsf{tie}_\Phi$ be the **comparison** precision and tie policy for $\Phi$ pinned in `III.json`. For any scalar $z$, write

$$
\tilde z \;\coloneqq\; \mathrm{round}_{\rho_\Phi,\;\mathsf{tie}_\Phi}(z).
$$

Two preregistered regions in $[0,\Phi_{\max}]$ govern the decision:

* **Strict pass band $\Phi_{\min}$.** A scalar threshold declared in `III.json`. After floors and TTDA budgeting, if

  $$
  \tilde\Phi_{\text{eff}} \ \ge\ \widetilde{\Phi_{\min}}
  $$

  then the *field* condition for admission is satisfied (the $\delta$-gate may set $\delta=+1$ provided all floors pass).
  **Strictness rule.** The default relation is non-strict $(\ge)$. If `III.json` declares a **strict** relation $(>)$, then **equality after rounding does not pass**.

* **Neutral band $\Phi_{\text{neutral}}$.** A nonempty interval with endpoints declared in `III.json`. Let $\tilde\Phi_L \coloneqq \mathrm{round}_{\rho_\Phi,\mathsf{tie}_\Phi}(\Phi_L)$ and $\tilde\Phi_U \coloneqq \mathrm{round}_{\rho_\Phi,\mathsf{tie}_\Phi}(\Phi_U)$.
  **Closure rule (normative).** The neutral band is **closed after rounding**:

  $$
  \tilde\Phi_{\text{eff}} \in [\,\tilde\Phi_L,\ \tilde\Phi_U\,] \;\Longrightarrow\; \delta=0,
  $$

  and only neutrality-preserving operations (PoS Screen) are allowed.

* **Otherwise.** If the rounded value is **neither** a strict pass **nor** in the rounded neutral band—i.e., $\tilde\Phi_{\text{eff}} \notin [\tilde\Phi_L,\tilde\Phi_U]$ and $\tilde\Phi_{\text{eff}} < \widetilde{\Phi_{\min}}$—the proposal is **vetoed** $(\delta=-1)$.

All tests above are **round-then-compare**: both the statistic and the relevant thresholds/endpoints are rounded with $(\rho_\Phi,\mathsf{tie}_\Phi)$ **before** applying the declared inequality.

**Floors dominate $\Phi$.**
The **G-floor**, **PoS Screen**, **WITNESS**, **CAUSALITY/ISO**, **CAPTION→RECEIPT**, and **DETERMINISM** are fail-closed invariants. If any floor fails, admission via $\Phi$ is disallowed regardless of magnitude: *no amount of score mass can rescue a floor failure*.

**Invariance and reporting.**
Under admissible re-descriptions $g\inG$, the *decision* $\delta$ must be invariant. The manifest may allow small, reported drift in diagnostics (including $\Phi$) with a public tolerance $\eta$; such drift may **never** flip $\delta$ across a band boundary. G-tests publish a coverage card and **REPLAY-RFD** trace IDs.

**Mapping to orientation and repairs.**
We map the field to a dimensionless orientation

$$
x \;=\; 2\big(\Phi_{\text{eff}}/\Phi_{\max}\big)-1 \quad\in (-1,1),
$$

with moral state $y=\mathrm{arctanh}(x)$ and gradient $dy/dx=1/(1-x^2)$. When $\delta\in\{-1,0\}$, the **repair vector** is computed as the *minimal declared adjustment* $\Delta s$ to primitives $\{s_i\}$ that raises $\Phi_{\text{eff}}$ to $\Phi_{\min}$ **without violating floors** (e.g., a convex program with nonnegative component changes and manifest-pinned sensitivities). The resulting repair card (top-$k$ actionable levers, expected $\Delta\Phi$, and energy/time costs) is emitted in the receipt.

**Edge cases (fail-closed).**

* **Missing primitives.** If a required $s_i$ is absent or out of declared range, set $\delta\in\{0,-1\}$ per manifest policy; never impute values to force $\delta=+1$.
* **Ambiguous units/encodings.** If canonicalization fails, G-floor fails → $\delta=-1$.
* **Panel/coverage evidence.** Panels may supply $s_i$ but **never** define “all”; PoS remains universal via open-join audit.

**Auditor recipe (summary).**

1. Recompute $\Phi$ from pinned $\{s_i\}, g_i, \alpha_i$ after canonicalization and budgeting.
2. Form $\Phi_{\text{eff}}$ and round both statistic and band endpoints.
3. Apply the band logic to obtain the field verdict; verify floors; output $\delta$.
4. Confirm $\delta$-invariance across $G_{\text{test}}$ and publish **REPLAY-RFD** traces.

This specification makes $\Phi$ *public, deterministic, and repairable*, aligning PoS (“acceptable to all”) with an audit-ready, gauge-invariant, and time-stable decision procedure.

## 3.2 Mapping $\Phi \to x$ via $x = 2(\Phi/\Phi_{\max}) - 1$ (with $\Phi_{\max}$ preregistered)

**Purpose.** We normalize the effective acceptability score to a **dimensionless orientation**

$$
x \;=\; 2\big(\Phi_{\text{eff}}/\Phi_{\max}\big)-1 \;\in (-1,1),
$$

where $\Phi_{\max}>0$ is **preregistered** in the pinned **III.json** manifest and $\Phi_{\text{eff}}$ is the TTDA-budgeted field from §3.1. This affine map preserves order and puts the geometry on a fixed interval, enabling a canonical moral state $y=\mathrm{arctanh}(x)$ and a well-defined gradient $dy/dx=1/(1-x^2)$ for **repair vectors**.

**Semantics of the endpoints and center.**

* $x \to -1^{+}$: *moral egoism* / vanishing admissibility (field near 0).
* $x = 0$: *moral neutrality* (field at mid-scale $\Phi_{\max}/2$).
* $x \to 1^{-}$: *moral perfection* / saturating admissibility (field near $\Phi_{\max}$).
  Limits are asymptotic; the open interval $(-1,1)$ is maintained by clamping (below).

**Manifest coupling and rounding.**

* $\Phi_{\max}$ is declared once in **III.json** (`phi.phi_max`) and may not depend on inputs.
* All comparisons that **govern $\delta$** are executed **in $\Phi$-space** (bands $\Phi_{\min}, \Phi_{\text{neutral}}$) with **round-before-compare** per §2.1; $x$ and $y$ are used for geometry, diagnostics, and repair—not for gating.
* If reporting thresholds in $x$-space is convenient, derive

  $$
  x_{\min} \;=\; 2(\Phi_{\min}/\Phi_{\max}) - 1,\qquad
  x_L,\,x_U \;=\; 2(\Phi_{L,U}/\Phi_{\max}) - 1,
  $$

  but the authoritative gate remains the rounded $\Phi$-domain test.

**Clamping and edge cases (fail-closed).**

* Compute $x_{\text{raw}} = 2(\Phi_{\text{eff}}/\Phi_{\max})-1$ and **clamp** to $(-1,1)$ after numeric rounding of inputs per §2.1:

  $$
  x \leftarrow \mathrm{clamp}(x_{\text{raw}},-1+\epsilon,\;1-\epsilon),
  $$

  with a manifest-declared tiny $\epsilon$ (e.g., $10^{-9}$) to avoid singularities in $y=\mathrm{arctanh}(x)$.
* If $\Phi_{\max}$ is missing/invalid (≤0) or if $\Phi$ cannot be canonicalized to the declared unit, **G-floor or determinism** fails ⇒ $\delta=-1$.

**Monotonicity and invariance.**

* The map is strictly **monotone increasing** in $\Phi$; therefore any admissible re-description $g\inG$ that perturbs diagnostics without flipping the $\Phi$-band cannot flip the orientation order.
* Drift tolerances (if any) published in **III.json** for diagnostics must **never** allow a $\Phi$-band crossing; hence $\delta$ remains invariant under $G$.

**Geometry and repairs.**

* With $x$ defined, the **moral state** $y=\mathrm{arctanh}(x)\in\mathbb R$ linearizes progress near the extremes (large magnitude $|y|$ indicates proximity to $\pm1$).
* The **repair vector** seeks the minimal, manifest-admissible adjustment $\Delta s$ to primitives $\{s_i\}$ that raises $\Phi_{\text{eff}}$ to $\Phi_{\min}$ (thus $x$ to $x_{\min}$) **without violating floors**. Because

  $$
  \Delta x \;=\; \frac{2}{\Phi_{\max}}\ \Delta \Phi_{\text{eff}},
  $$

  sensitivities of $x$ inherit directly from $\Phi$; reporting repairs in $x$ or $\Phi$ is equivalent up to the constant factor $2/\Phi_{\max}$.

**Auditor recipe (summary).**

1. Recompute $\Phi$ (and $\Phi_{\text{eff}}$) using the manifest; verify floors.
2. Map to $x = 2(\Phi_{\text{eff}}/\Phi_{\max})-1$ and clamp to $(-1+\epsilon,1-\epsilon)$.
3. Derive $y=\mathrm{arctanh}(x)$ for geometry; **do not** gate $\delta$ in $x$-space.
4. If $\delta\in\{0,-1\}$, publish the repair card in $\Phi$ and optionally $x/y$; confirm no $G$-admissible re-description flips the $\Phi$-band.

This normalization fixes the scale, preserves ordering, and gives a smooth, singularity-aware geometry for computing and communicating repairs, while keeping the **authoritative admissibility** strictly in the $\Phi$-domain under the manifest’s rounding and band rules.

## 3.3 Moral state $y=\mathrm{arctanh}(x)$, gradient $dy/dx = \tfrac{1}{1-x^2}$, and repair vector

**Moral state (geometry).**
Given orientation $x\in(-1,1)$ from §3.2, define the **moral state**

$$
y \;=\; \mathrm{arctanh}(x) \;\in\; \mathbb{R}.
$$

This map is odd, strictly increasing, and sends the open interval $(-1,1)$ to $\mathbb{R}$. Near the extremes $x\to\pm 1$ the state magnitude $|y|$ grows without bound, so equal steps in $y$ correspond to progressively smaller steps in $x$ (and hence in $\Phi$) as one approaches saturation. The **local metric** induced by this chart is

$$
\frac{dy}{dx} \;=\; \frac{1}{1-x^2},
$$

which we treat as the canonical **sensitivity** of state to orientation. Distances in $y$-space,

$$
d((x_1),(x_2)) \;=\; \bigl|\,\mathrm{arctanh}(x_2)-\mathrm{arctanh}(x_1)\,\bigr|,
$$

serve as an invariant way to report “how far” a proposal sits from a target orientation (e.g., from the pass boundary).

**Chain to the field and primitives.**
Orientation $x$ is an affine image of the **effective field** $\Phi_{\text{eff}}$ (after TTDA budgeting), $x = 2(\Phi_{\text{eff}}/\Phi_{\max})-1$; thus

$$
\frac{dx}{d\Phi_{\text{eff}}} \;=\; \frac{2}{\Phi_{\max}}, 
\qquad
\frac{dy}{d\Phi_{\text{eff}}} \;=\; \frac{2}{\Phi_{\max}\,(1-x^2)}.
$$

Let $\{s_i\}$ be the **receipt-traceable primitives** (canonicalized, budgeted, and rounded per §2.1–§2.3) entering $\Phi$ via declared monotone maps $g_i$ and nonnegative weights $\alpha_i$ (see §3.1):

$$
\Phi \;=\; \Phi_{\max}\,\sum_i \alpha_i\, g_i\!\big(s_i\big).
$$

Inside the unclamped region of $\Phi_{\text{eff}}=\mathrm{clamp}(\Phi-\Pi_{\text{eff}},0,\Phi_{\max})$, the **field gradient** in primitive space is

$$
\nabla_{s}\Phi \;=\; \bigl(\,\Phi_{\max}\,\alpha_i\, g_i'(s_i)\,\bigr)_i,
$$

and the **state gradient** follows by chain rule,

$$
\nabla_{s} y \;=\; \frac{2}{\Phi_{\max}(1-x^2)}\,\nabla_{s}\Phi 
\;=\; \left(\, \frac{2\,\alpha_i\, g_i'(s_i)}{1-x^2}\, \right)_i .
$$

At a clamp boundary ($\Phi-\Pi_{\text{eff}}\le 0$ or $\ge \Phi_{\max}$), $\frac{d\Phi_{\text{eff}}}{d\Phi}$ is $0$ until the proposed update exits the saturated region; the repair routine must account for this piecewise behavior.

**Repair objective (first principles).**
When the $\delta$-gate yields $\delta\in\{0,-1\}$, Gravastar must output an explicit **repair vector**—an admissible, minimal-change adjustment to move the proposal to the strict pass band $\Phi_{\min}$ **without violating floors**. Let the **needed lift** in effective field be

$$
\Delta\Phi_{\text{need}} \;=\; \max\!\bigl\{\,0,\ \Phi_{\min}-\Phi_{\text{eff}} \,\bigr\}.
$$

We pose a constrained optimization in primitive space:

$$
\begin{aligned}
\text{minimize}\quad & \|\Delta s\|_{W} \\
\text{subject to}\quad 
& \Phi_{\text{eff}}(s+\Delta s) \;\ge\; \Phi_{\min}, \\
& \Delta s_i \ \text{respects declared monotonicities (e.g., nonnegativity) and units}, \\
& \text{all **floors** (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) remain satisfied}.
\end{aligned}
$$

Here $\|\cdot\|_W$ is a manifest-declared norm or quadratic form reflecting action costs (energy/time/latency). If the feasible set is empty under the floors, the system returns **no admissible repair** and $\delta$ cannot be $+1$.

**First-order repair (closed form).**
When $\Phi_{\text{eff}}$ is differentiable at $s$ and floors permit infinitesimal updates, a **first-order** repair approximates the minimal move along the field gradient. Let $g=\nabla_s\Phi$ and $g\neq 0$. For a weighted Euclidean norm $\|v\|_W^2 = v^\top W v$ with $W\succ 0$,

$$
\Delta s^{(1)} 
\;=\; \arg\min_{\Delta s}\bigl\{\ \|\Delta s\|_W \ :\ g^\top \Delta s \ \ge\ \Delta\Phi_{\text{need}}\ \bigr\}
\;=\; \frac{\Delta\Phi_{\text{need}}}{\|g\|_{W^{-1}}}\, \frac{W^{-1}g}{\|g\|_{W^{-1}}},
$$

where $\|g\|_{W^{-1}}=\sqrt{g^\top W^{-1}g}$. This yields the **least-cost** primitive shift that achieves the required lift to first order. The corresponding changes in orientation/state are

$$
\Delta x^{(1)} \;=\; \frac{2}{\Phi_{\max}}\,\Delta\Phi^{(1)}, 
\qquad
\Delta y^{(1)} \;=\; \frac{2}{\Phi_{\max}(1-x^2)}\,\Delta\Phi^{(1)} ,
$$

with $\Delta\Phi^{(1)} \approx g^\top \Delta s^{(1)} = \Delta\Phi_{\text{need}}$ when unclamped. If TTDA budgeting is active, ensure $\Phi_{\text{eff}}(s+\Delta s^{(1)})$ exceeds $\Phi_{\min}$ **after** the same budget is applied.

**Trust-region and integer/side constraints.**
If primitives carry bounds, discreteness, or side-constraints (e.g., sample counts, dwell times), we solve a **trust-region** variant,

$$
\min \ \|\Delta s\|_W \quad \text{s.t.}\quad 
g^\top \Delta s \ge \Delta\Phi_{\text{need}},\ \ \|\Delta s\|_\infty \le r,\ \ \Delta s \in \mathbb{Z}^{\mathcal{I}}\times\mathbb{R}^{\mathcal{C}},
$$

or fall back to a manifest-declared convex program (e.g., linear program with monotone $g_i$). In all cases, we verify floors on the proposed update; violating a floor nullifies the repair.

**TTDA-aware repairs.**
Because $\Phi_{\text{eff}}=\mathrm{clamp}(\Phi-\Pi_{\text{eff}},\cdot)$, repairs may target **$\Phi$** (improve measurements) and/or **$\Pi_{\text{eff}}$** (reduce lateness/jitter within the Right-to-Temporal-Resolution). The repair card must specify which portion of the lift comes from each lever and certify that the **stream↔batch parity** bound remains satisfied.

**Reporting (repair card).**
Each non-admitting decision publishes a **repair card** in the receipt:

* **Gap:** $\Delta\Phi_{\text{need}}$, $\Delta x_{\text{need}}=\tfrac{2}{\Phi_{\max}}\Delta\Phi_{\text{need}}$, and $\Delta y_{\text{need}}=\tfrac{2}{\Phi_{\max}(1-x^2)}\Delta\Phi_{\text{need}}$ at the current $x$.
* **Top-$k$ levers:** entries of $\Delta s^{(1)}$ (or solved $\Delta s$) with units, predicted $\Delta\Phi$, and costs under $\|\cdot\|_W$.
* **Temporal slice:** share of lift attributed to reducing $\Pi_{\text{eff}}$ (if applicable).
* **Floor checks:** confirmation that G-floor invariance, CAUSALITY/ISO ($\hat c$), WITNESS ($W\!:\!B$), CAPTION→RECEIPT, and DETERMINISM remain satisfied after the update.
* **Audit hook:** REPLAY-RFD trace ID demonstrating the post-repair decision.

**Edge cases (fail-closed).**
If canonicalization fails, a floor fails, or the feasible set under floors is empty, the system returns **no admissible repair** and preserves superposition or vetoes ($\delta\in\{0,-1\}$) per policy. Panels/coverage may populate primitives $s_i$ but can never redefine “all”; admissibility remains universal via open-join audit.

This geometry-and-repair layer makes shortfalls **actionable**: it translates a $\Phi$-band miss into a minimal, floor-respecting path to admissibility, reported in both $\Phi$- and $x/y$-coordinates and reproducible under REPLAY-RFD.

---

Example (monotone, capped card): define $g_i(x) = \min(\Phi_{\max}, \tfrac{a}{1+e^{-b(x-c)}})$ with $a=\Phi_{\max}$, $b>0$, and $c$ the mid-threshold. Any piecewise-linear monotone variant with $0 \le g_i(x) \le \Phi_{\max}$ and capped slope is acceptable.

# 4. Timeline Selection Theorem (TST) & Ternary Validation
## 4.1 Decision gate $\delta \in \{-1,0,+1\}$: semantics and admissibility

**Role.** The ternary gate $\delta$ is the sole authority that determines whether a candidate timeline/action $\tau$ **actualizes**. It implements the Principle of Superposition (PoS) by distinguishing **admit** ($+1$), **preserve superposition** ($0$), and **veto** ($-1$) under open-join audit.

---

### Semantics

* **$\delta = +1$ (admit/actualize).**
  The claim **counts**: it is eligible as evidence/decision input. Floors pass; $\Phi_{\text{eff}}$ meets the strict pass band; invariance and time-stability hold. A **receipt** and **REPLAY-RFD** trace are published.

* **$\delta = 0$ (preserve superposition).**
  The claim is **not rejected** but **not actualized**. Neutrality operations only (PoS Screen). A **repair vector** must be published; any attempt to “tilt” neutrality is non-admissible.

* **$\delta = -1$ (veto).**
  The claim is **ruled out** under current artifacts/budgets. Either a floor failed or the field is below the neutral band. A repair vector is still required unless infeasible under floors.

**Panels/coverage.** May be included as primitives feeding $\Phi$ but **never define “all.”** “All” is the unbounded class of admissible observers (§2.2).

---

### Authoritative evaluation order (fail-closed)

1. **Floors (dominate $\Phi$).**
   Verify **G-floor**, **PoS Screen**, **WITNESS** $(W(n):B(n))$, **CAUSALITY/ISO** $(A^\star,\ \hat c\!\le\!1)$, **CAPTION→RECEIPT** (byte-equality), **DETERMINISM** (RNG freeze/platform parity).
   If any floor fails → $\boxed{\delta=-1}$ (publish floor failure + repair vector).

2. **Compute effective field.**
   Form $\Phi_{\text{eff}}=\mathrm{clamp}(\Phi-\Pi_{\text{eff}},0,\Phi_{\max})$ (TTDA). Canonicalize units; apply **round-before-compare** at precisions/ties from **III.json** (§2.1).

3. **Band test (in $\Phi$-space).**
   With rounded values $\tilde\Phi_{\text{eff}},\widetilde{\Phi_{\min}},\widetilde{\Phi_{\text{neutral}}}$:

   * If $\tilde\Phi_{\text{eff}}\ge \widetilde{\Phi_{\min}}$ → candidate **passes the field**.
   * Else if $\tilde\Phi_{\text{eff}}\in \widetilde{\Phi_{\text{neutral}}}$ → neutrality required.
   * Else → below neutral.

4. **Time parity & invariance checks.**
   Enforce TTDA stream↔batch bound $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le\Pi+0.01\Pi$ (rounded stats). Enforce $\delta(g\!\cdot\!\tau;\,g\!\cdot\!M)=\delta(\tau;M)$ for all declared $g\inG$. Any violation → $\boxed{\delta\neq+1}$ with supersession of any prior $+1$.

5. **Gate.**

   $$
   \delta \;=\;
   \begin{cases}
   +1 & \text{if floors pass, }\tilde\Phi_{\text{eff}}\ge\widetilde{\Phi_{\min}}, \text{ and TTDA/G-floor hold},\\[2pt]
   0  & \text{if floors pass and }\tilde\Phi_{\text{eff}}\in\widetilde{\Phi_{\text{neutral}}},\\[2pt]
   -1 & \text{otherwise.}
   \end{cases}
   $$

---

### Properties (sketch)

* **Idempotence.** Re-running the pipeline with the same artifacts/manifest yields the same $\delta$ (determinism floor + round-before-compare).
* **Gauge invariance.** For all $g\inG$, $\delta$ is invariant (numeric drift tolerances apply to diagnostics, never to the gate).
* **Temporal stability.** $\delta$ is stable across admissible execution modes within TTDA budgets.
* **Floors ≫ $\Phi$.** No amount of field mass can compensate a floor failure.
* **Defeat by counterexample.** Any compliant counterexample (floor breach, G-flip, TTDA breach, or REPLAY-RFD divergence) **revokes standing** of any prior $\delta=+1$ (public **supersession**).

---

### Multi-candidate handling (ties & selection)

The gate is applied **per candidate** $\tau_k$. If multiple $\tau_k$ achieve $\delta=+1$, the paper’s **III.json** MUST specify the tie policy: **(a)** adopt a declared secondary criterion (rounded before compare); **(b)** maintain $\delta=0$ (superposition) until external constraints resolve; or **(c)** publish all $+1$ with their receipts. Hidden, post-hoc policies are non-admissible.

---

### Decision provenance record (published with every $\delta$)

* III.json hash & version; Receipt v2 hash; energy/runtime; platform/clock badges.
* Floor pass/fail table (DII-4 values, $A^\star, \hat c, W\!:\!B, R(u)$).
* $\Phi$ components, $\Phi_{\text{eff}}$, band endpoints (all rounded), and $\delta$.
* G-coverage card; TTDA parity report; **REPLAY-RFD** trace ID.
* If $\delta\in\{0,-1\}$: published **repair vector** and feasibility notes.

---

### Pseudocode (normative)

```text
function DECIDE(τ, M, III):
    if not FLOORS_PASS(τ, M, III): 
        publish_repair()
        return δ = -1
    Φ_eff ← clamp( Φ(τ,M) - Π_eff(III), 0, Φ_max(III) )
    if not BAND_TEST_PASSES(Φ_eff, III): 
        if IN_NEUTRAL(Φ_eff, III): 
            publish_repair()
            return δ = 0
        else:
            publish_repair()
            return δ = -1
    if not TTDA_PARITY_OK(τ,M,III): 
        publish_repair()
        return δ = 0
    if not G_INVARIANT(τ,M,III): 
        publish_repair()
        return δ = 0
    publish_receipt_and_RFD()
    return δ = +1
```

**Note.** All compares in `FLOORS_PASS`, `BAND_TEST_PASSES`, and `TTDA_PARITY_OK` use **round-before-compare** at per-metric precision/tie policy (III.json). `G_INVARIANT` requires **δ-invariance** across the declared $G$-tests.

---

**Scope reminder.** The $\delta$-gate adjudicates **admissibility**, not moral content or optimization. It operationalizes *“acceptable to all”* as **universal admissibility under open-join audit**, with explicit, reproducible grounds for admission, neutrality, or veto.

## 4.2 TST statement and operational consequences

**Setup.** Fix a candidate timeline/action $\tau$, public method $M$ (code, parameters), and the pinned **III.json** manifest. Let $G$ be the declared observer-equivalence group, and let **TTDA** specify the time spine (clock badge, RG budgets, stream↔batch parity). Let $\Phi$ be the receipt-backed acceptability field, with effective score

$$
\Phi_{\text{eff}} \;=\; \mathrm{clamp}\!\big(\Phi - \Pi_{\text{eff}},\,0,\,\Phi_{\max}\big),
$$

all numeric comparisons executed **round-before-compare** at per-metric precision/tie policy from **III.json**.

---

### Timeline Selection Theorem (TST)

**Theorem (Global admissibility & defeat).**
Assume:

1. (**Floors**) All fail-closed floors **pass and dominate** $\Phi$: **G-floor**, **PoS Screen**, **WITNESS** $(W(n)\!:\!B(n))$, **CAUSALITY/ISO** $(A^\star,\ \hat c\le 1)$, **CAPTION→RECEIPT** (byte-equality), **DETERMINISM** (RNG freeze/platform parity).
2. (**Time spine**) **TTDA** holds: clock disclosure is valid; RG budgets honored; stream↔batch parity satisfies $\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi + 0.01\Pi$ (on rounded diagnostics).
3. (**Field pass**) The rounded effective field meets the strict pass band: $\tilde\Phi_{\text{eff}} \ge \widetilde{\Phi_{\min}}$.

Then:

* (**Existence & uniqueness**) There is a **unique** admissibility decision $\delta=+1$ such that for **every** admissible observer $o$ and **every** $g\inG$,

  $$
  \delta_o\!\big(g\!\cdot\!\tau;\,g\!\cdot\!M\big) \;=\; +1,
  $$

  when run with the same III.json, floors, and TTDA budgets. Equivalently, $\delta$ is a function of the equivalence class $[\tau,M]_{G}$ and of the manifest/time spine only.

* (**Receipt reproducibility**) Any replay using **REPLAY-RFD** with byte-identical artifacts yields the same $\delta=+1$ up to first divergence (no divergence occurs under the premises).

* (**Minimality**) If condition (3) is weakened (below $\Phi_{\min}$) or (1)–(2) are violated, the theorem’s conclusion fails and $\delta\neq +1$.

Conversely:

* (**Defeat by compliant counterexample**) If there exists **any** admissible observer $o^\star$, re-description $g^\star\inG$, or time-mode within TTDA for which a compliant run produces a **floor failure**, a **parity breach**, a **G-flip**, or a **REPLAY-RFD** first-divergence on bound bytes, then the claim **cannot** sustain $\delta=+1$. Any previously published $+1$ is **revoked by supersession**.

*Sketch rationale.* Floors enforce gauge invariance, determinism, and causal/time stability; TTDA bounds inter-mode drift; round-before-compare removes representation ambiguity. Under these, the decision is invariant within the declared equivalence class and reproducible by open-join audit; otherwise, a single compliant counterexample defeats admission.

---

### Operational consequences

* **Idempotence & auditability.** Re-running the pipeline with the same bytes and manifest yields the same $\delta$. Auditors must obtain the same $\delta$ (no dependence on private knobs); any observed mismatch manifests as a first-divergence in **REPLAY-RFD**.

* **Floors ≫ $\Phi$.** No accumulation of score mass in $\Phi$ can compensate a failed floor. Attempted “score trade-offs” are non-admissible. Practically: fix invariance/time/receipt issues **before** optimizing $\Phi$.

* **Neutrality preservation (PoS Screen).** If floors pass but $\tilde\Phi_{\text{eff}}\in\widetilde{\Phi_{\text{neutral}}}$, then TST forbids actualization: $\delta=0$. Only neutrality-preserving operations are allowed until a repair lifts to $\Phi_{\min}$.

* **Monotonicity (tightening).** Replacing **III.json** by a *tightened* manifest (higher thresholds, stricter floors, smaller budgets) cannot flip $\delta$ from $-1/0$ to $+1$ on unchanged bytes. Loosening may enable $+1$ but requires an explicit, receipt-backed **supersession**.

* **G-coverage accountability.** The **G-floor** passes only with a published **coverage card** for the declared $G_{\text{test}}$. TST’s guarantee applies to the full declared $G$; if the class is later narrowed, prior $+1$ must be superseded.

* **Time stability in practice.** Publishing the TTDA parity report is mandatory for $+1$. If the bound is violated ex post (e.g., new batch replay), the previous $+1$ is superseded—even if $\Phi$ stayed above $\Phi_{\min}$.

* **Repair soundness.** When $\delta\in\{0,-1\}$, the published **repair vector** is a sufficient plan: if the specified adjustments are executed and all floors still pass, then conditions (1)–(3) are met and TST implies $\delta=+1$. Lesser adjustments have no such guarantee.

* **Composition of independent subclaims.** Suppose a conjunction claim $\tau=\bigwedge_k \tau_k$ where each $\tau_k$ has $\delta_k=+1$ under a *shared* manifest/time spine and no cross-floor interference. Then TST admits the conjunction $\delta=+1$. If any subclaim fails TST, the conjunction cannot be admitted.

* **Panels/coverage are evidence, not “all.”** Panels may feed $\Phi$ as primitives but **never define the universal quantifier** in TST. The quantifier ranges over **all admissible observers** under open-join audit.

* **Supersession protocol (public).** Any compliant counterexample triggers revocation of standing and republication with updated receipts/manifest. The superseding record must include the REPLAY-RFD trace and the precise violated premise (which of (1)–(3)).

---

### Practical checklist (to claim $\delta=+1$ under TST)

1. Publish **Receipt v2** and **III.json**; freeze RNG; declare $G$ and the **G-test** plan.
2. Show **floor pass** table (DII-4; $A^\star,\ \hat c,\ W\!:\!B,\ R(u)$) with **round-before-compare**.
3. Show $\tilde\Phi_{\text{eff}}\ge \widetilde{\Phi_{\min}}$ (rounded) and the TTDA parity report within $\Pi+0.01\Pi$.
4. Publish **REPLAY-RFD** trace IDs; publish the **G-coverage card** with δ-invariance.
5. Declare repair plan anyway; it becomes active if supersession is later required.

Under these conditions, the **Timeline Selection Theorem** certifies that the admission decision is **gauge-invariant, time-stable, and reproducible**—and that **one** compliant counterexample suffices to defeat it.

## 4.3 Counterexample defeat rule and supersession

**Defeat rule (plain statement).**
A single **compliant counterexample**—produced by any admissible observer under open-join audit—**defeats** any previously published $\delta=+1$ for the same claim. “Defeat” means the admission decision loses standing and must be **superseded** publicly.

**What counts as a compliant counterexample.**
An artifact bundle $\mathcal{C}$ defeats the claim iff **all** of the following hold:

1. **Scope & bytes.** The bundle references the exact published bytes (code/data/Receipt v2/**III.json**) or a declared $g\inG$ re-description of inputs/method. Captions bind **by byte-equality** (CAPTION→RECEIPT).
2. **Time spine.** Clocks disclosed; execution anchored to **UTC-LCRO**; **TTDA** budgets honored; stream↔batch parity check included.
3. **Rounding discipline.** All admissibility comparisons use **round-before-compare** at the manifest’s per-metric precision and tie policy.
4. **Determinism & parity.** RNG freeze (or RNG-free path), platform parity satisfied per manifest.
5. **Repro evidence.** A **REPLAY-RFD** trace shows the first instruction/step at which the auditor’s replay diverges from the claim’s reference trace **on bound bytes**, or yields a different $\delta$ while meeting (1)–(4).
6. **Violation type.** At least one of:

   * **Floor failure** (G-floor, PoS Screen, WITNESS $W:B$, CAUSALITY/ISO $A^\star,\hat c$, CAPTION→RECEIPT, DETERMINISM).
   * **TTDA breach** (clock/RG noncompliance or parity bound violated on rounded diagnostics).
   * **G-flip** of $\delta$ under a declared $g\inG$.
   * **Band misgate** (with proper rounding) showing $\tilde\Phi_{\text{eff}} \not\ge \widetilde{\Phi_{\min}}$ when the claim asserted it was.
   * **REPLAY-RFD divergence** on bound bytes before admission is reached.

Artifacts that alter semantics (non-admissible transforms), use private knobs, or ignore rounding/TTDA do **not** count; they are rejected with a receipt-backed rationale.

**Immediate consequences of defeat.**
Upon receipt of a compliant counterexample:

* The prior $\delta=+1$ is **revoked**; the record is marked **Superseded** with a link to the defeating REPLAY-RFD trace.
* The claim’s live status becomes $\delta\in\{0,-1\}$:

  * **Floor violation or REPLAY-RFD divergence on bound bytes → $\delta=-1$** (veto).
  * **Pure TTDA/G-coverage shortfall without floor breach → $\delta=0$** (neutral; PoS Screen applies).
* A **repair vector** must be published (if feasible under floors), indicating the minimal adjustments that would restore admission.

**Supersession protocol (public, receipt-backed).**
Supersession is a new publication that **replaces** the defeated admission:

1. **New manifest.** Publish a revised **III.json** with a new hash, listing `supersedes: <prior_iii_json_sha256>` and the **specific violated premise** (floor/TTDA/G/Band/RFD).
2. **Monotonic discipline.** Thresholds and floors SHOULD tighten; any loosening must be explicitly justified (receipt-backed) and flagged.
3. **Re-adjudication.** Recompute $\Phi$, TTDA budgets, floors, and $\delta$ under the new manifest; publish **REPLAY-RFD** traces and a new Receipt v2.
4. **Cross-references.** The superseding record links the defeating trace, the prior DOI/identifier, and the repair outcomes (applied/not-feasible).
5. **Announce scope.** If $G$ is narrowed or ScanProtocol changed, state it; prior $+1$ claims cannot be retro-defended by post-hoc narrowing.

**Burden and timelines (norms, not clocks).**
Open-join audit means *anyone* may file $\mathcal{C}$. The **burden of re-proof** lies with the original claimant: either concede defeat (publish supersession) or show, via REPLAY-RFD, that $\mathcal{C}$ is non-compliant (and why). No private adjudication is admissible.

**Multi-subclaim and composition effects.**
For a conjunction $\tau=\bigwedge_k \tau_k$, a compliant defeat of any admitted subclaim $\tau_j$ defeats the conjunction’s $\delta=+1$. Independent subclaims not implicated retain their own $\delta$-status.

**Edge cases & abuse resistance.**

* **Duplicate claims.** Byte-identical artifacts under a new caption are defeated en bloc by the original counterexample (CAPTION→RECEIPT).
* **Ambiguous rounding.** Not possible: per-metric precision and tie policy are pinned in **III.json**; counterexamples must use them.
* **Bad-faith floods.** Non-compliant submissions are rejected with a short, receipt-backed explanation (which field of (1)–(6) failed). No private blacklists.

**Public status page (normative fields).**
Every claim maintains a machine-readable status:
`{ claim_uuid, iii_json_sha256, receipt_sha256, δ, status: active|superseded, superseded_by?, defeating_rfd?, floors_passed, ttda_parity, g_coverage_card }`.

**Why one counterexample is enough.**
The calculus encodes *universal admissibility*: “acceptable to all” means *no compliant observer* can overturn the admission. Therefore, one compliant counterexample demonstrates non-universality and collapses standing. The **supersession** mechanism turns that collapse into a public, reproducible update path—tightening the method or declaring the boundary where repairs are infeasible under the floors.

---

# 5. Floors: Fail-Closed Invariants that Dominate $\Phi$
## 5.1 G-floor: gauge invariance under admissible re-descriptions
Floors dominate Φ: if any floor fails (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM), Φ cannot admit (see §5).

**Purpose.** The G-floor guarantees that admissibility does **not** depend on presentation, encoding, or reference frame. A claim may be admitted only if the decision $\delta$ is **invariant** under the preregistered observer-equivalence group $G$ (declared in **III.json**).

**Group action.**
$G$ is a group of *invertible* re-descriptions acting on both inputs and method:

$$
g\!\cdot\!(\tau,M)\;=\;(\tau',M'),\qquad g\inG,
$$

with identity $e$, closure, and inverses. Classes (each parameterized in the manifest) typically include: paraphrase (semantic-preserving), ordering/association (set permutations), units & scales (SI, affine with declared constants), tokenization/segmentation (BPE/WordPiece/Unigram with pinned normalization), encodings & Unicode (UTFs; NFC/NFKC), locale formats (dates/numbers), time bases (to **UTC-LCRO**), and data wrappers (CSV/JSON idempotent variants). The manifest lists **only** admissible classes; anything else is out-of-scope.

**Invariant to be proved (normative).**

$$
\boxed{\;\delta(g\!\cdot\!\tau;\,g\!\cdot\!M)\;=\;\delta(\tau;M)\quad\text{for all }g\inG\;}
$$

with **all** comparisons executed **round-before-compare** at per-metric precision/ties from **III.json** (§2.1). Diagnostics (e.g., $\Phi, R(u), A^\star, \hat c, W\!:\!B$) may exhibit **reported drift** up to a public tolerance $\eta$ in the manifest; **δ itself must not drift**. Floors continue to **dominate** $\Phi$.

**Canonicalization-first design (recommended).**
Pipelines SHOULD canonicalize *before* feature extraction (units → SI, Unicode → NFC, time → UTC-LCRO, tokenizer normalization), then compute $\Phi$. This realizes invariance by construction, shrinking the space of surprises in $G$-testing.

**Paraphrase admissibility (semantic-preserving only).**
Paraphrase $g_{\text{para}}$ is admissible iff a pinned equivalence harness verifies **content preservation** at/above threshold $\theta$ (declared in **III.json**). The harness is deterministic and may combine:

* bidirectional textual entailment with pinned models/checkpoints (RNG-frozen),
* schema/slot agreement (key facts, numbers, units),
* answer-equivalence on a pinned QA probe set.
  Summarization, truncation, or augmentation are **non-admissible** (fail the harness).

**Non-admissible transforms (examples).**
Any content-changing edit, undisclosed filtering, dataset swap, lossy recoding that alters parsed values, unpinned spell-correction, drifting clocks/timezones, or any change breaking **CAPTION→RECEIPT** byte equality.

**G-test protocol (receipt-backed).**

1. **Declaration.** In **III.json**, name classes, parameters, and the **coverage plan** $\mathcal G_{\text{test}} \subseteq G$ (representative instances per class).
2. **Execution.** For each $g\in \mathcal G_{\text{test}}$, run the pipeline end-to-end; record $\delta_g$, diagnostics, and a **REPLAY-RFD** trace ID.
3. **Report.** Publish a **G-coverage card** (counts, instances, pass/fail) and per-class drift tables (all numbers rounded per §2.1).
4. **Verdict.** The G-floor **passes** iff $\delta_g=\delta$ for all tested $g$ and no class-level violation is found. Any compliant $g$ that flips $\delta$ ⇒ **G-floor failure** (claim cannot be admitted on $\Phi$).

**Interaction with other floors.**

* **CAPTION→RECEIPT.** Testing does not weaken byte-equality; captions bind to receipts by bytes.
* **DETERMINISM.** RNG freeze/platform pinning apply to all $g$-runs.
* **TTDA.** All $g$-runs must satisfy the same time spine (clock badge, RG budgets, stream↔batch parity).
* **PoS Screen.** If $\tilde\Phi_{\text{eff}}\in \widetilde{\Phi_{\text{neutral}}}$ under any admissible $g$, neutrality holds ($\delta=0$)—you may not cherry-pick frames.

**Failure modes & compliant counterexamples.**
A **single** admissible $g^\star$ producing a $\delta$-flip (with proper rounding, TTDA, and REPLAY-RFD) **defeats** any prior $+1$ and triggers **supersession** (§4.3). Common causes: unit cast omissions, tokenizer-dependent parsing, locale/date drift, timebase discrepancies, paraphrase checker undercoverage.

**Repair vectors for G-violations (must not relax floors).**
Admissible repairs include: pushing canonicalization earlier; adding robust parsing; pinning constants; tightening the paraphrase harness; declaring stricter class boundaries in **III.json** (narrowing $G$ with justification); or re-expressing $\Phi$ in invariant features. *Increasing* $\Phi$ alone cannot rescue a G-failure.

**Pseudocode (normative skeleton).**

```text
function G_FLOOR_PASS(τ, M, III):
    δ_ref ← DECIDE_NO_G(τ, M, III)          # floors, TTDA, Φ-band; no G-loop yet
    for g in III.G_group.g_test_plan:
        (τg, Mg) ← APPLY(g, τ, M, III)
        assert TTDA_OK(τg, Mg, III)
        δ_g ← DECIDE_NO_G(τg, Mg, III)      # same rounding & thresholds
        record_RFD(g, τg, Mg)
        if δ_g ≠ δ_ref: return FAIL
    publish_G_coverage_card()
    return PASS
```

`DECIDE_NO_G` uses **round-before-compare** and all floors **except** the G-loop itself; `APPLY` is a pinned adapter for the class; `record_RFD` stores the REPLAY-RFD identifier per instance.

**Audit checklist (for admissible observers).**

* Verify **III.json** declares $G$ classes and the coverage plan.
* Reproduce δ and all $g$-runs with the same rounding/tie policy; publish REPLAY-RFD IDs.
* Confirm δ-invariance; if any compliant $g$ flips δ, file the counterexample (automatically triggers defeat).

**Design intent.**
The G-floor converts “acceptable to all” into a **semantic invariance obligation** formalized as a group action. It prevents admission by **presentation gaming** and ensures that what counts is the **equivalence class** $[\tau,M]_{G}$ under declared, auditable re-descriptions—not a particular wording, encoding, or clock setting.

## 5.2 PoS Screen: neutrality-preserving operations

**Purpose.**
When the band test yields $\delta=0$ (cf. §4.1), the **Principle of Superposition (PoS)** requires that we *preserve superposition*: no action may tilt the system toward actualization by presentation, framing, or selective data handling. The **PoS Screen** is the fail-closed guard that restricts what can be done in the neutral state and certifies that any work performed is *neutrality-preserving*.

**Neutral state and guard band.**
Let the rounded effective field be $\tilde\Phi_{\text{eff}}\in\widetilde{\Phi_{\text{neutral}}}=[\widetilde{\Phi_L},\widetilde{\Phi_U}]$. The manifest MAY declare a **neutral guard margin** $\gamma_N\ge0$ so that:

* **Free-neutral zone:** $\tilde\Phi_{\text{eff}}\in[\widetilde{\Phi_L}+\gamma_N,\ \widetilde{\Phi_U}-\gamma_N]$ → neutral operations permitted (below).
* **Tight-neutral zone:** within $\gamma_N$ of either endpoint → *freeze unless* the operation carries a *certified non-crossing proof* (bounded drift proof) in the receipt.
  Crossing the neutral band boundary by any neutral operation is a **PoS Screen failure**.

**What counts as a neutrality-preserving operation.**
An operation $\mathcal{O}$ performed while $\delta=0$ is admissible **iff** it satisfies *all* of the following under the same III.json and TTDA budgets:

1. **Band invariance (rounded).** After $\mathcal{O}$, the recomputed, rounded $ \tilde\Phi_{\text{eff}}' \in \widetilde{\Phi_{\text{neutral}}}$.
2. **Monotone floors.** All floors still **pass** and are not weakened (no class narrowing of $G$, no larger TTDA budgets, no looser thresholds).
3. **Symmetry (no selective tilting).** Inputs, measurement time, and preprocessing are *symmetrically* allocated across competing candidates or arms per a predeclared plan; no cherry-picking or outcome-conditioned stopping.
4. **Determinism & replay.** RNGs remain frozen; a **REPLAY-RFD** trace is published for the operation, showing byte-identical reproducibility.
5. **G-invariance preserved.** $\delta$-invariance under all declared $g\inG$ still holds after $\mathcal{O}$.

**Canonical neutral operations (examples).**

* **Measurement extension (symmetric).** Collect additional samples for all arms per a pre-registered allocation (e.g., round-robin or fixed quotas), with identical ScanProtocol settings.
* **Preprocessing canonicalization.** Move unit conversions/Unicode normalization earlier, or add lossless parsers—*without* modifying thresholds or bands.
* **Clarity-only edits.** Caption or code comments that do not touch bound bytes (CAPTION→RECEIPT enforces this).
* **Latency/jitter reduction within TTDA.** Engineering changes that *reduce* $\Pi_{\text{eff}}$ (e.g., fixing clock drift) while keeping the same budgets or tighter.
* **Diagnostic publication.** Adding drift tables, G-coverage cards, or auditor notebooks.

**Non-neutral (forbidden) while $\delta=0$.**

* Any change that **loosens** floors, widens TTDA budgets, or narrows $G$.
* **Selective evidence accrual** (sampling more where it helps a particular arm), or outcome-dependent stopping without a predeclared plan.
* **Band-crossing edits** (even if “small”) that push $\tilde\Phi_{\text{eff}}$ above $\widetilde{\Phi_{\min}}$ without going through the repair pathway.
* Any modification that breaks **CAPTION→RECEIPT** byte equality for published artifacts.

**From neutrality to admission (proper pathway).**
Transitioning from $\delta=0$ to $\delta=+1$ is allowed **only** via a **repair vector** (§3.3) that:

* Achieves $\tilde\Phi_{\text{eff}}' \ge \widetilde{\Phi_{\min}}$ *after* TTDA budgeting and rounding;
* Keeps all floors passing, unchanged or tighter;
* Preserves G-invariance and stream↔batch parity;
* Publishes a REPLAY-RFD trace for the post-repair run.
  Any other route to $+1$ is a PoS Screen violation.

**Receipts and declaration.**
Every neutral operation publishes a **Neutrality Card** in the receipt:

* Operation spec and scope, with **pre-registered plan ID** (if applicable);
* Before/after $\tilde\Phi_{\text{eff}}$, with guard-band status;
* Floor pass table (no loosening), TTDA parity report;
* Symmetry audit (allocation table across arms);
* REPLAY-RFD trace ID.

**Pseudocode (normative skeleton).**

```text
function POS_SCREEN_OK(state):
    assert state.δ == 0
    if not FLOORS_PASS(state): return FAIL
    if not TTDA_PARITY_OK(state): return FAIL
    if not SYMMETRY_OK(state.plan, state.data): return FAIL
    Φeff' ← recompute_effective_field(state)   # same III.json; round-before-compare
    if not IN_NEUTRAL_BAND(Φeff', III): return FAIL
    if not G_INVARIANT(state): return FAIL
    publish_neutrality_card(state)
    return PASS
```

**Edge cases (fail-closed).**

* **Tight-neutral crossing risk.** If the predicted drift envelope could cross a boundary, *freeze* and switch to the repair pathway (or expand symmetric data first to enlarge margin).
* **Panels/coverage.** Panels may expand evidence symmetrically but never define “all”; PoS remains universal via open-join audit.
* **Supersession trigger.** If any neutral operation causes a floor failure, TTDA breach, or G-flip (detected via REPLAY-RFD), the claim cannot remain $\delta=0$; publish defeat and follow §4.3.

**Design intent.**
The PoS Screen makes “preserve superposition” a *testable protocol*, not a slogan. While neutral, you may clarify, canonicalize, and *symmetrically* gather more evidence; you may not tilt the playing field. Actualization must come through a receipt-backed repair that survives the same floors, time spine, and G-invariance that guarded neutrality.

## 5.3 WITNESS: asynchronous $W(n)$ vs separability bounds $B(n)$

**Purpose.**
**WITNESS** certifies that cross-part correlations observed in a claim are compatible with the declared causal/separability stance. It does so by computing an **asynchronous** finite-sample witness series $W(n)$ and comparing it—under pinned pairing rules and error control—to a **separability bound** $B(n)$ declared in **III.json**. This is a *fail-closed floor*: no amount of score mass in $\Phi$ can override a WITNESS failure.

---

**Model and null.**
A trial record contains time-tagged settings/outcomes $z_i=(a_i,b_i,x_i,y_i,t_i)$ produced under ScanProtocol v1 (§2.3). A pinned score map $f(z_i)\in[\ell,u]$ defines the witness:

$$
\widehat{W}(n)=\frac{1}{n}\sum_{i=1}^n f(z_i).
$$

The **null class** $\mathcal{H}_0$ (“separable”)—e.g., local hidden variables, no illicit side-channels, no post-selection beyond the declared pairing rule—induces a finite-sample **upper (or lower) bound** $B(n)$ at level $\alpha$ (Hoeffding/Bentkus/empirical-Bernstein or a family-specific finite-sample bound), all pinned in **III.json**.

* **Family.** Declared by `witness.family` (e.g., `CHSH`, `XOR`, `custom_linear`), with the exact $f$ and range $[\ell,u]$ byte-bound in **Receipt v2**.
* **Direction.** Declared by `witness.direction ∈ { nonseparable_required, separable_required }`:

  * `nonseparable_required`: *to pass*, data must **violate** separability at ≥ one $n$ on the predeclared ladder (evidence *for* non-separable structure).
  * `separable_required`: *to pass*, data must **not** violate separability at *any* $n$ on the ladder (evidence *against* illicit coordination).

---

**Asynchronous pairing (no coincidence loopholes).**
Events are paired by a pre-registered, **deterministic** rule:

* **Pair rule.** `witness.pair_rule` (e.g., event-ready herald; fixed time-window $\tau_c$; nearest-neighbor within guard windows) with all parameters pinned in **III.json**.
* **Time discipline.** UTC-LCRO clock badge; TTDA budgets apply; **stream↔batch parity** is reported on the same rounded diagnostics.
* **Alias refuter.** The three-grid alias refuter from ScanProtocol v1 is enabled to detect pairing bias; bright/dark basis disclosure is on when interference/phase matters.
* **Blinding.** If declared, settings are generated from a pinned RNG seed (or hardware RNG with receipt hash) *prior* to outcomes; blinding keys are published post-hoc in the receipt.

---

**Finite-sample bound $B(n)$ (pinned).**
The bound is computed from `witness.bound`:

$$
B(n)= B_0 \pm m(n,\alpha,\ell,u),
$$

where $B_0$ is the separable (or no-leakage) value for the family (e.g., CHSH $S\le 2$), and $m(\cdot)$ is the manifest-declared finite-sample slack. Optional multiple-look control is pinned (`alpha_spending`, `SPRT`, or fixed $n$ ladder). All compares use **round-before-compare** at the per-metric precision/tie policy.

---

**Floor decision rule (normative).**
Let $\{n_k\}$ be the predeclared **ladder** (in **III.json**). Define rounded values $\tilde W(n_k)$, $\widetilde{B}(n_k)$.

* If `nonseparable_required`: WITNESS **passes** iff
  (i) $\exists k:\ \tilde W(n_k) > \widetilde{B}(n_k)$ (strict violation at some ladder point),
  (ii) subsequent ladder points do not **retract** the violation beyond manifest-declared regression tolerance, and
  (iii) TTDA parity and other floors hold. Otherwise **fail**.
* If `separable_required`: WITNESS **passes** iff
  $\forall k: \ \tilde W(n_k) \le \widetilde{B}(n_k)$ (no violation at any look) and TTDA/other floors hold. Any single compliant violation ⇒ **fail**.

Violations are assessed in the **rounded** domain; tolerance for diagnostics drift never permits a pass→fail flip of this test.

---

**Interlocks with other floors.**

* **CAUSALITY/ISO.** Near-isotropy $A^\star$ and $\hat c\le 1$ reduce signalling/side-channel risk; a failure there defeats WITNESS even if $W(n)$ numerically clears $B(n)$.
* **G-floor.** Re-descriptions $g\inG$ must *not* flip the WITNESS verdict; any compliant $g$ that does so defeats the claim (supersession).
* **CAPTION→RECEIPT & DETERMINISM.** The exact $f$, pair rule, ladder, and alpha control are byte-bound; RNG and libraries are pinned—any deviation fails.

---

**Reporting (Witness Card).**
Every run publishes a **Witness Card**:

* Family, $f$ definition hash, $[\ell,u]$, `direction`, $\alpha$, and bound type.
* Pair rule and parameters; time-tag histograms; alias-refuter results.
* Ladder table: $n_k$, $\tilde W(n_k)$, $\widetilde{B}(n_k)$, pass/fail per step.
* Settings balance and no-signalling checks (marginals), with rounding discipline.
* TTDA parity report; G-coverage snippet for the witness pipeline.
* **REPLAY-RFD** trace ID to first divergence (none when compliant).

---

**Pseudocode (normative skeleton).**

```text
function WITNESS_FLOOR_PASS(stream, III):
    records ← PAIR_ASYNC(stream, III.witness.pair_rule)          # deterministic, time-tagged
    (f, ℓ, u) ← LOAD_WITNESS_FAMILY(III.witness.family)          # byte-bound map
    for k in III.witness.n_ladder:
        Wk ← mean( f(records[1..k]) )
        Bk ← FINITE_SAMPLE_BOUND(k, ℓ, u, III.witness)           # m(k, α, …)
        (Wk_t, Bk_t) ← ROUND_BEFORE_COMPARE(Wk, Bk, III.rounding.W_over_B)
        verdict_k ← (III.witness.direction == "nonseparable_required")
                     ? (Wk_t > Bk_t)
                     : (Wk_t ≤ Bk_t)
        log_step(k, Wk_t, Bk_t, verdict_k)
        if III.witness.direction == "separable_required" and (Wk_t > Bk_t):
            return FAIL
    # for nonseparable_required, require at least one strict violation and stability checks
    if III.witness.direction == "nonseparable_required" and not any_step_passed():
        return FAIL
    if not TTDA_PARITY_OK() or not NO_SIGNALING_CHECKS_OK():      # rounds per III
        return FAIL
    publish_witness_card_and_RFD()
    return PASS
```

---

**Edge cases (fail-closed).**

* **Post-hoc pairing or alpha fishing.** Non-predeclared pairing rules or unpinned multiple-look procedures are non-compliant.
* **Missing clocks or drift beyond TTDA.** Fail; repeat under corrected time spine.
* **Panels/coverage.** Panel data may be included but cannot redefine pairing, alpha, or “all”; open-join audit remains the quantifier.

---

**Examples (orientation only).**

* **CHSH family.** $f$ encodes the CHSH score $S$; separable $B_0=2$. For `nonseparable_required`, pass requires rounded $\hat S(n_k) > 2 + m(n_k,\alpha)$ at some $n_k$, with CAUSALITY/ISO and G-floor satisfied.
* **Separable guard.** In deployments where illicit coordination would be a defect, set `separable_required` to ensure $W(n)\le B(n)$ for all looks; any excess correlation triggers defeat and supersession.

**Design intent.**
WITNESS turns “no illicit correlation / or show bona fide non-separability” into a *finite-sample, asynchronous, receipt-backed* test. By pinning the family, pairing, and bounds in **III.json** and executing with **round-before-compare** under the time spine, it provides a clean, auditable gate that either certifies the intended correlation structure—or defeats the claim with a single compliant counterexample.

## 5.4 CAUSALITY/ISO: near-isotropy $A^\star$ and fitted front-speed cap $\hat c \le 1$

**Purpose.**
The **CAUSALITY/ISO** floor enforces two independent invariants that must hold *before* any appeal to the field $\Phi$:

1. **Near-isotropy $A^\star$**: observed directional/arm asymmetries remain within a preregistered tolerance;
2. **Front-speed cap $\hat c$**: fitted propagation speed of the earliest admissible influence does not exceed the unit cap (declared as 1 after canonicalization).

Both are **fail-closed**: a violation yields $\delta\neq +1$ regardless of $\Phi$.

---

**Declared scope and units (manifest-pinned).**

* Spatial baselines, arm/direction definitions, and sensors are listed in **III.json** (`iso.arms`, `iso.baselines`, `fs.baselines`).
* All distances and times are canonicalized to SI (meters, seconds) and then rescaled so that the legal cap is **1** (e.g., $c=1$ units); clocks are anchored to **UTC-LCRO** (TTDA).
* Estimators and thresholds are pinned:

  * `iso.estimator ∈ {chi2, maxdev, kl_pair}` with tolerance `iso.A_star_max`;
  * `fs.estimator ∈ {quantile, theil_sen, huber}` with quantile/robustness parameters; cap is `fs.c_cap = 1`.
* All comparisons execute **round-before-compare** at the per-metric precision/tie policy in **III.json**.

---

**Near-isotropy $A^\star$ (directional balance).**
Let $K$ be the number of arms/directions. For a receipt-pinned counting rule (per ScanProtocol v1), obtain nonnegative tallies $r_1,\dots,r_K$ (or any monotone statistic declared in the manifest). Define proportions $p_j=r_j/(\sum_k r_k)$.

The **estimator** for $A^\star$ is manifest-selectable; three canonical choices:

* **Max-deviation (normalized).**
  $A^\star = \max_j \frac{|p_j - 1/K|}{\sigma_j}$, with $\sigma_j$ a manifest-declared variance proxy (e.g., binomial $\sqrt{(1/K)(1-1/K)/N_{\text{eff}}}$).

* **Pearson chi-square (summarized).**
  $\chi^2 = \sum_{j=1}^{K}\frac{(r_j - \bar r)^2}{\bar r}$ with $ \bar r=\tfrac{1}{K}\sum r_j$; report $A^\star$ as the rounded p-value deficit or a monotone map thereof (pinned).

* **Pairwise KL-spread.**
  $A^\star = \max_{j,\ell} \bigl( D_{\mathrm{KL}}(p_j\!\parallel p_\ell) \bigr)$ on a coarse partition (pinned bins).

**Decision rule (rounded).**
With rounded $\tilde A^\star$ and tolerance $\widetilde{A^\star_{\max}}$: **pass** iff $\tilde A^\star \le \widetilde{A^\star_{\max}}$. Otherwise **fail**. Drift tolerances for *diagnostics* may be reported, but must not allow pass→fail flips after rounding.

**Notes.**

* Symmetry is evaluated on the *same* sampling window across arms; allocation is predeclared (PoS Screen).
* If G-admissible re-descriptions (e.g., unit/locale changes) flip the isotropy verdict, the G-floor fails.

---

**Front-speed cap $\hat c \le 1$ (earliest admissible influence).**
From time-tagged onsets $(d_i, t_i)$ over baselines $d_i>0$, define a pinned **onset functional** $t_{\text{on}}(d)$ (e.g., first threshold crossing of a monotone sensor summary, with hysteresis/denoising pinned). Fit a **one-sided** speed bound using the declared estimator:

* **Quantile front (default).**
  Fit the $\tau$-quantile regression (e.g., $\tau=0.05$) of $t$ vs $d$ through the origin (or with pinned intercept). The implied speed is the **max slope inverse** consistent with the lower envelope:

  $$
  \hat c \;=\; \max_i \frac{d_i}{\hat t_{\text{on}}(d_i)} \quad (\text{guarding against early outliers}).
  $$
* **Theil–Sen robust slope.**
  Compute median of pairwise slopes for $t$ vs $d$; take $\hat c$ as the maximal admissible inverse slope under the manifest’s tail model.
* **Huber (pinned $\delta$).**
  Robust linear fit with Huber loss; derive conservative $\hat c$ from the lower one-sided confidence band.

**Decision rule (rounded).**
With rounded $\tilde{\hat c}$ and cap $\widetilde{1}$ (by units): **pass** iff $\tilde{\hat c} \le \widetilde{1}$. Any $\tilde{\hat c} > 1$ ⇒ **fail**.

**Time discipline.**
All onsets use the **same** clock badge and RG budgets (TTDA); stream↔batch parity is checked on the rounded onset diagnostics. Missing or drifting clocks ⇒ fail-closed.

---

**Interlocks and precedence.**

* **Floors dominate $\Phi$.** A failure of $A^\star$ or $\hat c$ forbids $\delta=+1$, irrespective of score mass.
* **WITNESS coupling.** A front-speed violation invalidates a separability claim even if $W(n)$ nominally clears $B(n)$.
* **PoS Screen.** While $\delta=0$, neutral operations may *reduce jitter* or *improve synchronization*; any change that weakens the estimators or widens budgets is forbidden.
* **G-invariance.** Re-descriptions in $G$ must not change the pass/fail outcome after rounding.

---

**Reporting (Causality/ISO Card).**
Publish:

* Estimator specs and parameters (byte-bound), units, and the canonicalization proof.
* Arm counts and $A^\star$ table (pre/post rounding) vs $A^\star_{\max}$.
* Baseline plot $t$ vs $d$, onset functional, chosen fit, and the computed $\hat c$ (rounded) with confidence envelope.
* TTDA parity report; G-coverage snippet; **REPLAY-RFD** trace ID.

---

**Pseudocode (normative skeleton).**

```text
function CAUSALITY_ISO_FLOOR_PASS(stream, III):
    # Isotropy
    r[1..K] ← ARM_TALLIES(stream, III.iso)               # ScanProtocol v1
    Astar   ← ISO_ESTIMATOR(r, III.iso)
    (A_t, Amax_t) ← ROUND_BEFORE_COMPARE(Astar, III.iso.A_star_max, III.rounding.iso)
    if A_t > Amax_t: return FAIL

    # Front speed
    P ← ONSET_TUPLES(stream, III.fs)                     # {(d_i, t_on,i)}
    c_hat ← FRONT_SPEED_ESTIMATOR(P, III.fs)
    (c_t, cap_t) ← ROUND_BEFORE_COMPARE(c_hat, 1.0, III.rounding.fs)
    if c_t > cap_t: return FAIL

    # Time & G checks
    if not TTDA_PARITY_OK(stream, III): return FAIL
    if not G_INVARIANT_FOR_DIAGNOSTICS(stream, III): return FAIL

    publish_causality_iso_card_and_RFD()
    return PASS
```

---

**Edge cases (fail-closed).**

* **Insufficient geometry.** Fewer than two distinct baselines or degenerate arm counts ⇒ cannot fit/assess ⇒ **fail**.
* **Ambiguous onset.** If the pinned onset functional cannot be computed deterministically, or depends on unpinned denoising, ⇒ **fail**.
* **Overlapping windows/aliasing.** Violations flagged by the three-grid alias refuter (ScanProtocol v1) ⇒ **fail**.
* **Panels/coverage.** May contribute data but cannot redefine arms, baselines, or cap; “all” remains universal via open-join audit.

---

**Design intent.**
CAUSALITY/ISO prevents *presentation-induced anisotropy* and *superluminal shortcuts*. By pinning estimators, units, and the time spine—and by enforcing pass/fail **after rounding**—the floor yields a simple contract: **balanced geometry and sub-cap front speed or no admission**.

## 5.5 CAPTION→RECEIPT: byte-equality binding of figures/tables to claims

**Purpose.**
To prevent “chart-washing” and post-hoc drift, every **figure** and **table** in an admitted claim is bound **by bytes** to the exact code, data, parameters, and environment that generated it. The CAPTION→RECEIPT floor passes only if each visual/table artifact can be **replayed to first divergence (REPLAY-RFD)** from the **Receipt v2** bundle, and the **rendered bytes** (or canonical content bytes) match the digest recorded in the caption’s token trailer.

---

**What is bound (normative).** For each panel $p$ in figure $F$ or each table $T$:

* **Receipt v2**: global record (`receipt_sha256`, run metadata, energy/runtime, platform)
* **III.json**: manifest hash (`iii_sha256`)
* **Code**: one or more source/package digests (`code_sha256[]`)
* **Data**: immutable dataset/segment digests (`data_sha256[]` or `blake3[]`)
* **Config**: parameters, seeds, and tie policy (`cfg_sha256`, `rng_seed`)
* **SBOM**: software bill of materials (`sbom_sha256`)
* **Renderer**: deterministic renderer hash + font bundle hash (`renderer_sha256`, `font_sha256`)
* **Artifact**: the **render bytes** (e.g., PNG/PDF/SVG/CSV) or canonical **content bytes** digest (`artifact_sha256`)
* **Explain hook**: stable identifier (`explain_url` or `explain_id`) that replays the pipeline with **frozen** artifacts.

These appear as a single **token trailer** appended to the caption (human-readable + machine-parsable). Example (single line, no hidden fields):

```
[R2 receipt=sha256:ab12…; iii=sha256:cd34…; code=sha256:e5…,f6…; data=blake3:0a…,1b…; cfg=sha256:22…; sbom=sha256:7c…; renderer=sha256:9d…; font=sha256:aa…; artifact=sha256:fe…; explain=gravastar://rfd/FIG2/p1]
```

**Byte-equality.**

* **Rendered-byte binding** (preferred): the exact on-disk bytes shown in the paper hash to `artifact_sha256`. Any editorial re-export breaks equality ⇒ **fail**.
* **Content-byte binding** (fallback for publisher pipelines): the canonical **content stream** (e.g., CSV for tables; SVG path list for vector plots) is hashed **after** a pinned **metadata scrubber**; the scrubber’s digest is itself recorded. Both modes are declared in **III.json** per artifact.

---

**Deterministic rendering requirements (normative).**

* **Disable nonces & timestamps** in outputs and metadata; embed a constant creation time if required by the format.
* **Canonicalize** text encoding (UTF-8, NFC), newline style (LF), numeric formatting (rounding per §2.1), locale, and units.
* **Freeze** fonts (embed exact versions); pin renderer (e.g., Matplotlib commit) and OS rasterization.
* **Tables**: produce a canonical CSV (UTF-8, LF, sorted keys, quoted fields) whose bytes equal `artifact_sha256`; any styled table is a **view** over the canonical CSV.
* **Figures**: for vector formats, scrub IDs and ordering per pinned pass; for bitmaps, pin DPI and encoder settings.

---

**Floor decision rule.**
CAPTION→RECEIPT **passes** iff for **every** figure/table:

1. The caption token trailer parses and all listed digests are present;
2. **REPLAY-RFD** on the referenced bytes reproduces the artifact **without first divergence**;
3. The produced artifact’s bytes (or canonical content bytes) hash to `artifact_sha256`;
4. The numbers printed in the artifact match **rounded** values per **III.json** (round-before-compare);
5. The artifact is **G-invariant**: any admissible $g\inG$ re-description yields the **same $\delta$** and a content-equivalent artifact under the pinned canonicalizer.

Any failure ⇒ **floor fail** ⇒ $\delta\neq +1$.

---

**Interactions.**

* **G-floor (§5.1).** Binding survives admissible re-descriptions; if a $g$-transform alters the artifact’s **content** (beyond canonical form), G-floor fails.
* **TTDA.** Captions include **clock badge** and parity snippet; a later parity breach supersedes the figure’s standing.
* **PoS Screen (§5.2).** While $\delta=0$, “clarity-only” caption edits are allowed **iff** they do **not** touch the token trailer or bound bytes.
* **WITNESS/CAUSALITY (§5.3–5.4).** Witness families, pairing rules, and front-speed fits are byte-bound in the receipt; the figure/table must be regenerated from those pinned definitions.

---

**Publisher compatibility.**
If journals rewrap graphics, use **content-byte binding** plus a small **wrapper note** (“Rendered by publisher; content hash bound to receipt.”). Camera-ready packages must ship the **original artifacts** alongside the manuscript.

---

**Failure modes (examples).**

* Re-exported PDF/PNG changed encoder metadata ⇒ artifact hash mismatch ⇒ **fail**.
* Table values rounded in layout but not in source CSV per **III.json** ⇒ **fail**.
* Font substitution in production (not pinned) ⇒ render hash mismatch ⇒ **fail**.
* Missing/invalid token trailer ⇒ **fail**.

---

**Repair vectors (admissible).**

* Re-emit artifacts with pinned renderer/fonts and metadata scrubber;
* Move rounding to the **data layer** so table/figure text and CSV align;
* Switch to content-byte binding for publisher pipelines (declare in **III.json**);
* Strengthen CI to regenerate figures from Receipt v2 and compare hashes.

---

**Reporting (Caption→Receipt Card).**
For each artifact publish: ids, all digests, mode (render vs content), rounding spec, REPLAY-RFD trace ID, and a one-line “OK/DIFF\@byte N” result for audit.

---

**Pseudocode (normative skeleton).**

```text
function CAPTION_RECEIPT_FLOOR_PASS(doc, III):
    for art in doc.figures_and_tables:
        toks ← PARSE_TOKEN_TRAILER(art.caption)
        assert DIGESTS_PRESENT(toks, required_fields)
        bundle ← LOAD_RECEIPT_V2(toks.receipt)
        assert MATCHES_MANIFEST(bundle, III)
        out ← REPLAY_RFD(bundle, toks.explain, art.id)    # deterministic replay
        if III.binding_mode(art) == "render":
            ok ← HASH_BYTES(out.render_bytes) == toks.artifact_sha256
        else:  # "content"
            canon ← CANONICALIZE_CONTENT(out)
            ok ← HASH_BYTES(canon) == toks.artifact_sha256
        if not ok: return FAIL
        if not ROUNDED_NUMBERS_MATCH(art, III.rounding): return FAIL
        if not G_INVARIANT_ARTIFACT(art, III): return FAIL
    publish_caption_receipt_card()
    return PASS
```

---

**Design intent.**
CAPTION→RECEIPT turns each visual claim into a **verifiable contract**: what you see is exactly what the pinned method produced. No private knobs, no editorial drift, no silent re-exports. If the bytes don’t match—or can’t be replayed—the claim does **not** count.

## 5.6 DETERMINISM: RNG freeze, seeds, and platform parity

**Purpose.**
The **DETERMINISM** floor ensures that an admitted decision does **not** depend on hidden randomness, race conditions, or platform quirks. A claim may be admitted only if: (i) all stochastic sources are **frozen and recorded**; (ii) the run is **replayable to first divergence (REPLAY-RFD)** on the primary platform; and (iii) the **same $\delta$** is obtained across the declared **platform envelope** within the rounding/tie policy of **III.json**.

---

**Declared envelope (manifest-pinned).**
**III.json** must declare:

* `det.seed_spec`: scheme for all PRNGs (global seed, per-module sub-seeds, counter offsets);
* `det.prng_impls`: exact generators (e.g., PCG64, Philox, ChaCha20), precision, and stream splitting rules;
* `det.nd_ops`: list of backend ops forced into deterministic mode (e.g., cudnn/cublas FFT/convolution settings), or **disabled** if no deterministic variant exists;
* `det.numeric_mode`: IEEE-754 mode (round-to-nearest-even), FMA policy (on/off/pinned), denormals (flush or keep), and reduction order policy;
* `det.env`: pinned environment (container image hash, OS/kernel, driver/runtime, BLAS/DNN/MPI libs and versions), **SBOM** digest;
* `det.platforms`: platform set $\mathcal{P}$ for parity (e.g., {linux-x86\_64-CPU, linux-x86\_64-CUDA12.4});
* `det.parity_tolerance`: which **diagnostics** may drift (not $\delta$), and at what rounded tolerance (per §2.1);
* `det.io_policy`: data locality (no network, or pinned snapshots with digests), file ordering and glob policies;
* `det.threads`: pinned thread/affinity settings (e.g., OMP/MKL/BLAS thread counts), and scheduler determinism flags.

All **comparisons** that affect admissibility use **round-before-compare** at precisions declared in **III.json**.

---

**RNG freeze & provenance.**

* Every PRNG has a **named stream** with a **seed** and, if applicable, a **subsequence/offset**. The vector of (stream, seed, offset) is recorded in **Receipt v2**.
* Any *hardware randomness* used (e.g., witness setting generation) must be **snapshotted** (raw bits digest), accompanied by a pinned extractor, and treated as **data** thereafter.
* Stochastic pipeline stages (shuffles, augmentations, dropout, sampling) must **declare** which stream they consume and in what order; changing operator fusion or parallelism must not change stream consumption (or it is non-compliant).

---

**Platform parity (what must agree).**
Let $\mathcal{P}$ be the declared platform set. The floor **passes** only if:

1. **Primary replay:** On the **primary platform**, REPLAY-RFD reproduces all bound bytes **without first divergence** up to the decision point;
2. **$\delta$ invariance:** For **every** $p\in\mathcal{P}$, running with identical bytes, seeds, rounding, and budgets yields the **same $\delta$**;
3. **Rounded diagnostics parity:** Metrics reported for audit (e.g., $A^\star, \hat c, R(u), W:B$, $\Phi_{\text{eff}}$) may vary in raw floats but, after **round-before-compare**, fall within the manifest tolerances and do not induce a gate flip;
4. **No non-deterministic ops:** Any backend operator lacking a deterministic form is either **disabled**, replaced with a deterministic alternative, or the claim is **non-admissible**.

---

**Decision rule (rounded).**
DETERMINISM **passes** iff all of the following are true:

* **Seed discipline:** `det.seed_spec` is satisfied; seed vector in Receipt v2 matches runtime;
* **Replay:** Primary REPLAY-RFD has **no first divergence** on bound bytes;
* **$\delta$ parity:** $\delta_p = \delta$ for all $p\in\mathcal{P}$;
* **Tolerances:** All published diagnostics respect `det.parity_tolerance` **after** rounding per §2.1;
* **No unpinned entropy:** No unpinned clocks, timestamps, temp-file orderings, nondeterministic reductions, or network I/O affecting bound bytes.

Any single violation ⇒ **floor fail** ⇒ $\delta\neq +1$.

---

**Typical non-compliance (examples).**

* Data loaders enumerating files in non-deterministic OS order;
* Parallel reductions whose accumulation order depends on thread scheduling (different sum);
* GPU kernels using nondeterministic atomic updates;
* Mixed-precision kernels whose FMA policy differs across platforms, flipping a rounded threshold;
* Unpinned locale/Unicode normalization changing tokenization;
* Hidden time dependence (e.g., seeding from wall clock).

---

**Admissible repairs (do not relax floors).**

* **Pin versions** and swap nondeterministic ops for deterministic variants;
* **Canonicalize reductions** (e.g., stable sort + fixed-order accumulation, Kahan/Babouchev summation) where required by the gate;
* **Single-thread critical sections** for numerically sensitive kernels;
* **Disable GPU path** (or enable deterministic flags) and declare the new platform envelope;
* **Move rounding upstream** so displayed numbers and CSVs match the gate’s precision;
* **Freeze IO** (sorted globs; embedded snapshots with digests; no network reads).

---

**Reporting (Determinism Card).**
Every claim publishes:

* Platform set $\mathcal{P}$, container/OS/GPU/driver/library versions, **SBOM** digest;
* Seed vector (named streams), PRNG impls, FMA/denormal/reduction policies;
* Deterministic-ops list and backend flags; thread/affinity settings;
* IO policy and dataset digests;
* Parity table across $\mathcal{P}$: $\delta$ (identical), rounded diagnostics (within tolerance);
* Primary **REPLAY-RFD** trace ID to first divergence (none if compliant).

---

**Pseudocode (normative skeleton).**

```text
function DETERMINISM_FLOOR_PASS(bytes, III):
    assert SEEDS_MATCH_MANIFEST(bytes, III.det.seed_spec)
    assert PRNG_IMPLS_PINNED(III.det.prng_impls)
    assert ND_OPS_DISABLED_OR_DETERMINISTIC(III.det.nd_ops)
    assert NUMERIC_MODE_PINNED(III.det.numeric_mode)
    assert IO_POLICY_PINNED_AND_LOCAL(bytes, III.det.io_policy)

    # Primary replay
    out_primary ← REPLAY_RFD(bytes, III)
    if out_primary.first_divergence is not None: return FAIL

    # Platform parity
    δ_ref ← out_primary.δ
    for p in III.det.platforms:
        out_p ← RUN_ON_PLATFORM(bytes, III, p)
        if out_p.δ ≠ δ_ref: return FAIL
        if not DIAGNOSTICS_WITHIN_TOLERANCE_ROUNDED(out_p, III.det.parity_tolerance, III.rounding):
            return FAIL

    publish_determinism_card()
    return PASS
```

---

**Interlocks.**

* **CAPTION→RECEIPT (§5.5):** DETERMINISM supplies the byte-identical provenance CAPTION→RECEIPT relies on; any determinism break usually surfaces as a caption hash mismatch.
* **G-floor (§5.1):** All $g\inG$ tests reuse the **same seed vector**; seed changes across $g$ are non-compliant.
* **TTDA:** Randomness **never** substitutes for time discipline; parity must hold under the same budgets.

---

**Design intent.**
If admission hangs on dice rolls or scheduler luck, it is not *acceptable to all*. The DETERMINISM floor makes randomness **explicit, frozen, and replayable**, and it requires that $\delta$ **survive the platform envelope** after rounding—turning reproducibility from an aspiration into a hard precondition for counting.

---

# 6. Temporal Governance (TTDA)
Constraint (TTDA parity budget): |delta_stream − delta_batch| ≤ Π + 0.01·Π (see RG-grid Ω(H,m,k) in ScanProtocol).
## 6.1 UTC-anchored Clock Disclosure Badge (UTC-LCRO)

**Purpose.**
The **UTC-LCRO** badge makes all temporal claims auditable and comparable by pinning them to **Coordinated Universal Time (UTC)** and disclosing the **Local Clock & Reference Offset (LCRO)** used at execution. It is a **fail-closed** prerequisite for TTDA: no $\delta=+1$ may be issued without a valid badge, and any later badge non-compliance **supersedes** the decision.

**What “UTC-LCRO” encodes.**
UTC provides the universal epoch; **LCRO** records how the executing host’s clock relates to that epoch during the run. Formally, for a host clock $C_{\text{local}}(t)$ and a reference UTC source $C_{\text{UTC}}(t)$, the badge publishes:

* **Offset curve:** $\Delta(t)=C_{\text{local}}(t)-C_{\text{UTC}}(t)$ sampled at pinned intervals (start/end and ladder points).
* **Drift bound:** $\sup_t |\tfrac{d}{dt}\Delta(t)|$ (ppm) over the run window.
* **Jitter stats:** RMS and $p_{95}, p_{99}$ of short-term offset noise under the pinned sampler.
* **Resolution:** effective timestamp quantum $q$ (ns).
  All **comparisons** on time observables obey **round-before-compare** at the precision declared in **III.json**.

**Manifest fields (normative).**
`III.json.clock_badge` MUST declare:

* `utc_source`: `{PTP, NTP, GPSDO, TAI→UTC table}` and stratum/grandmaster IDs;
* `leap_table_sha256`: digest of leap-second table used for UTC conversion;
* `lc_id`: stable host clock identifier (hardware/VM UUID; monotonic clock type);
* `offset_max_ms`, `drift_max_ppm`, `jitter_max_ms`, `quantum_ns`: hard limits;
* `sample_plan`: cadence and duration for offset sampling (e.g., at start, every $m$ seconds, and at end);
* `monotonic_policy`: `{CLOCK_MONOTONIC[_RAW]}` for intervals; mapping policy between wall-time and monotonic time;
* `time_zone_policy`: all wall-times canonicalized to UTC; locale/Daylight Saving **forbidden** in bound bytes;
* `sync_artifacts`: digests of PTP/NTP configs and logs used to compute $\Delta(t)$.

**Badge token (published).**
Every admitted figure/table and the main receipt carry a compact token trailer:

```
[UTC-LCRO utc=PTP:gm=00:1B:19:…; leap=sha256:ab12…; lc_id=host:9f3…; 
 offset_ms@{t0,te}=-0.7,+0.3; drift_ppm≤0.8; jitter_ms[p95]=0.21; q=50ns; 
 logs=sha256:c4d…; sampler=10s]
```

**Operational requirements.**

1. **Anchoring.** All timestamps written to receipts, pairing rules (WITNESS), and ScanProtocol events must be in **UTC**; all intervals must be computed from a **monotonic** source pinned in the badge.
2. **Budgeting (TTDA).** The badge feeds TTDA’s deviation term $\Pi$. Effective field uses

   $$
   \Phi_{\text{eff}}=\mathrm{clamp}\!\bigl(\Phi-\Pi_{\text{eff}}(\text{offset},\ \text{drift},\ \text{jitter}),\,0,\,\Phi_{\max}\bigr),
   $$

   with the mapping from badge metrics to $\Pi_{\text{eff}}$ declared in **III.json**.
3. **Parity report.** Stream↔batch parity on the **rounded** diagnostics must satisfy
   $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\,\Pi$.
4. **Replay.** **REPLAY-RFD** reconstructs $\Delta(t)$ from `sync_artifacts` and refuses admission if the reconstructed badge violates limits.
5. **Rounding discipline.** All time thresholds (windows, guard bands, coincidence cutoffs, onset fits) are compared only after rounding to the declared `quantum_ns`.

**Decision rule (floor).**
The UTC-LCRO floor **passes** iff:

* The badge token is present and parses;
* Offsets/drift/jitter/resolution **do not exceed** (`offset_max_ms`, `drift_max_ppm`, `jitter_max_ms`, `quantum_ns`) after rounding;
* UTC conversion uses the declared leap table;
* Monotonic clock was used for all interval arithmetic;
* Stream↔batch parity bound holds (rounded);
* REPLAY-RFD reproduces the badge metrics from logs/configs **without first divergence**.

Any single failure ⇒ **floor fail** ⇒ $\delta\neq +1$.

**Interactions.**

* **WITNESS (§5.3).** Pairing rules consume UTC stamps; alias refuters and no-signalling checks must use the same badge.
* **CAUSALITY/ISO (§5.4).** Onset fitting and front-speed $\hat c$ rely on the badge’s resolution and drift bounds.
* **G-floor (§5.1).** Locale/format re-descriptions may not change UTC values or parity outcomes after rounding.
* **CAPTION→RECEIPT (§5.5).** Captions embed the badge token; publisher rewraps must preserve it or switch to content-hash mode with the same token.

**Common non-compliance (examples).**

* NTP step adjustments mid-run (time “jumps”);
* VM time-warps or host suspend/resume without monotonic correction;
* Missing leap-second table or mixed TAI/UTC arithmetic;
* Using wall-clock deltas instead of monotonic intervals;
* Hidden local-timezone formatting in bound bytes.

**Admissible repairs.**

* Switch to PTP or GPS-disciplined source; pin grandmaster;
* Increase sampler cadence; tighten offset/drift by enabling kernel PPS;
* Use monotonic-raw for intervals and compute wall-time only at serialization;
* Embed leap-second table; forbid OS time steps during runs (slew-only).

**Reporting (Clock Badge Card).**
Publish: UTC source & IDs, offset/drift/jitter series (rounded), resolution, sample plan, parity summary, leap-table digest, sync-log digests, and REPLAY-RFD trace ID.

**Pseudocode (normative skeleton).**

```text
function UTC_LCRO_FLOOR_PASS(run, III):
    badge ← EXTRACT_BADGE(run.caption_or_receipt)
    assert PARSE_OK(badge)
    (Δ, drift, jitter, q) ← RECONSTRUCT_FROM_LOGS(badge.logs, badge.utc_source, badge.leap)
    (Δ_t, Δ_max_t) ← ROUND_BEFORE_COMPARE(max_abs(Δ), III.clock.offset_max_ms)
    (drift_t, drift_max_t) ← ROUND_BEFORE_COMPARE(drift, III.clock.drift_max_ppm)
    (jitter_t, jitter_max_t) ← ROUND_BEFORE_COMPARE(jitter.p95, III.clock.jitter_max_ms)
    (q_t, q_max_t) ← ROUND_BEFORE_COMPARE(q, III.clock.quantum_ns)
    if Δ_t>Δ_max_t or drift_t>drift_max_t or jitter_t>jitter_max_t or q_t>q_max_t: return FAIL
    if not MONOTONIC_USED(run): return FAIL
    if not TTDA_PARITY_OK(run): return FAIL
    if REPLAY_RFD_BADGE_MISMATCH(run): return FAIL
    publish_clock_badge_card()
    return PASS
```

**Design intent.**
Time is part of the *method*, not the *data*. The UTC-LCRO badge turns that method into a public contract: **declare your clock, prove its behavior, quantify its limits, and bind them to your receipts**. Only then can claims be admissible “to all” across places, platforms, and days.

## 6.2 Right-to-Temporal-Resolution and RG-grid budgets

**Purpose.**
Temporal choices (bin widths, window offsets, and aggregators) must not be a hidden lever that changes admissibility. The **Right-to-Temporal-Resolution (RTR)** gives any admissible auditor the *ability and right* to recompute all time-sensitive diagnostics at finer/coarser resolutions and shifted window phases, within declared privacy and compute budgets. The **RG-grid** supplies the normative family of resamplings over which $\delta$ must be invariant (after rounding), and defines the drift budgets that bound permissible variation of diagnostics.

**RG-grid (formal).**
Let $\mathcal{R}$ be the family of deterministic resamplers

$$
\mathcal{R} \;=\; \bigl\{\, \mathsf{R}_{H,m,k} : H\in\mathcal{H},\ m\in\mathcal{M},\ k\in\mathcal{K}(H) \,\bigr\},
$$

parameterized by:

* **Scale $H$** (bin width): a dyadic or declared ladder $\mathcal{H}=\{H_{\min},2H_{\min},\dots,H_{\max}\}$ with $H_{\min}$ pinned to the badge resolution (≥ quantum in §6.1) and $H_{\max}$ covering the full run window.
* **Aggregator $m$**: $\mathcal{M} \subseteq \{\text{count}, \text{mean}, \text{trimmed\_mean}_\alpha, \text{quantile}_\tau, \text{sum}\}$ pinned in **III.json**, with parameters byte-bound.
* **Phase $k$** (window offset): a **three-grid alias refuter** $\mathcal{K}(H)=\{0,\ H/3,\ 2H/3\}$ (or a declared set) ensuring phase robustness.

Each $\mathsf{R}_{H,m,k}$ is a pure function (no IO, no network), consumes UTC-LCRO–anchored timestamps, and emits the *same schema* used by downstream diagnostics (WITNESS tallies, onset fits, $A^\star$, etc.). All admissibility compares use **round-before-compare** at precisions pinned in **III.json**.

**Right-to-Temporal-Resolution (RTR).**
Every claim MUST publish an **RTR interface** (containerized CLI or function entrypoint) that:

* Accepts $(H,m,k)$ in the declared domains and re-emits *all* time-sensitive diagnostics (including WITNESS ladder, $A^\star$, $\hat c$, $\Phi_{\text{eff}}$) together with their **rounded** values and parity reports.
* Runs under the same **TTDA budgets** and **badge** as the admission run; returns a **REPLAY-RFD** trace ID.
* Enforces privacy by applying the pinned sanitizer (if any) and reporting its perturbation budget $\varepsilon_{\text{priv}}$.

**RG-invariance (what must hold).**
Let $\mathcal{D}$ denote the vector of diagnostics that flow into gates/floors (not $\delta$ itself). For any two resamplers $\mathsf{R}_{H,m,k}, \mathsf{R}_{H',m',k'} \in \mathcal{R}$,

$$
\Delta_{\mathrm{RG}} \bigl(\tilde{\mathcal{D}}_{H,m,k},\, \tilde{\mathcal{D}}_{H',m',k'} \bigr)
\;\;\le\;\; \Pi_{\text{class}} + \varepsilon_{\text{join}} + \varepsilon_{\text{clock}} + \varepsilon_{\text{priv}},
$$

where:

* $\tilde{\mathcal{D}}$ denotes diagnostics after **round-before-compare** per metric;
* $\Pi_{\text{class}}$ is the declared classification/threshold drift budget;
* $\varepsilon_{\text{join}}$ accounts for stream/batch join latency and buffering;
* $\varepsilon_{\text{clock}}$ comes from the UTC-LCRO badge (offset, drift, jitter mapping);
* $\varepsilon_{\text{priv}}$ is the sanitizer’s worst-case distortion (if enabled).

**Admissibility invariance.**

$$
\boxed{\ \forall\,\mathsf{R}_{H,m,k}\in\mathcal{R}:\ \delta_{H,m,k} \;=\; \delta\ }
$$

i.e., $\delta$ must be identical across the RG-grid (floors still dominate $\Phi$). Diagnostics may drift within the budget **but cannot induce a gate flip** after rounding.

**Budget declaration (III.json).**
`rtr.rg_grid` lists $\mathcal{H},\mathcal{M},\mathcal{K}$; `rtr.budgets` declares $\Pi_{\text{class}}, \varepsilon_{\text{join}}, \varepsilon_{\text{clock}}, \varepsilon_{\text{priv}}$ and the metric used for $\Delta_{\mathrm{RG}}$ (e.g., max-norm on rounded gate inputs). The mapping from badge metrics (§6.1) to $\varepsilon_{\text{clock}}$ is explicit and pinned.

**Decision rule (floor-interaction).**
RTR/RG-grid **passes** iff:

1. The interface exists and replays under **REPLAY-RFD** without first divergence;
2. For the declared coverage set $\mathcal{R}_{\text{test}}\subseteq\mathcal{R}$ (at least all $(H\in\mathcal{H}, k\in\mathcal{K}(H))$ with a representative $m$ per family), **all** runs yield the same $\delta$;
3. The rounded diagnostic drift across $\mathcal{R}_{\text{test}}$ obeys the budget inequality above;
4. TTDA parity holds in each run; UTC-LCRO constraints are satisfied.

Failure at any step ⇒ no $\delta=+1$ (floors dominate $\Phi$); a **single** compliant auditor run that flips $\delta$ or exceeds the budget defeats admission and triggers **supersession** (§4.3).

**Reporting (RG-grid Card).**
Publish: the grid declaration; per-run rounded diagnostics; max and distribution of $\Delta_{\mathrm{RG}}$; TTDA parity tables; sanitizer parameters and $\varepsilon_{\text{priv}}$; and REPLAY-RFD trace IDs. Include a *phase sweep plot* (three-grid alias refuter) showing invariance to window offset.

**Common non-compliance.**

* Hidden downsampling or coalescing that changes pairing/onset logic across $H$;
* Using wall-clock intervals instead of the badge’s monotonic clock;
* Phase-sensitive heuristics (e.g., thresholding tied to bin edges) that induce flips;
* Sanitizer noise introduced post-gate (un-budgeted), altering reported numbers but not the gate inputs.

**Admissible repairs.**

* Move pairing/onset detection to a **phase-agnostic** kernel (continuous time), with binning applied *only* for display;
* Increase $H$ coverage and pin edge handling (left-closed/right-open) so resamplers are mathematically identical across phases;
* Tighten TTDA/RTR budgets; surface sanitizer at the *data layer* and include $\varepsilon_{\text{priv}}$ in gate inputs;
* Round *prior* to display so tables/figures match gate precision.

**Design intent.**
RTR operationalizes “acceptable to all” in time: *no special binning, no lucky phase, no bespoke aggregator* is allowed to carry the claim. The RG-grid exposes and bounds these degrees of freedom so that auditors can recompute at will—and still obtain the same admitted decision.

## 6.3 Streaming↔Batch parity bound $\lvert \delta_{\text{stream}} - \delta_{\text{batch}} \rvert \le \Pi + 0.01\,\Pi$

**Purpose.**
A claim may not depend on *how* data arrive. The **streaming↔batch parity** check certifies that the admitted decision $\delta$ is invariant between an **online** (incremental, watermark-governed) run and an **offline** (snapshot) run, under the same bytes, thresholds, floors, and time spine. This is a **fail-closed** requirement in TTDA: parity must hold **after rounding** and within the declared deviation budget $\Pi$ in **III.json**.

---

**Definitions (pinned).**

* **Batch pipeline.** Deterministic evaluation on a byte-frozen snapshot $S_{[0,t_\ast]}$ (UTC-anchored; §6.1). Emits $\delta_{\text{batch}}$ and rounded diagnostics.
* **Streaming pipeline.** Deterministic evaluation on an event stream with out-of-order allowance governed by a pinned **watermark policy** (`ttda.watermark`: lateness $L_{\max}$, gap policy, end-of-window guard). Emits $\delta_{\text{stream}}$ *at the same logical cut* $t_\ast$ once the watermark passes $t_\ast \!+\! L_{\max}$.
* **Cut alignment.** `ttda.cut_spec` pins how $t_\ast$ is chosen (e.g., end of scan, panelized window end) and how the batch snapshot is constructed.
* **Deviation budget $\Pi$.** Declared as `ttda.parity_budget` and derived additively from sub-budgets (all in III.json):

  $$
  \Pi \;=\; \Pi_{\text{class}} \;+\; \varepsilon_{\text{join}} \;+\; \varepsilon_{\text{clock}} \;+\; \varepsilon_{\text{priv}},
  $$

  where $\Pi_{\text{class}}$ covers threshold classification jitter; $\varepsilon_{\text{join}}$ stream/batch join differences; $\varepsilon_{\text{clock}}$ from UTC-LCRO (§6.1); $\varepsilon_{\text{priv}}$ from any pinned sanitizer.

All admissibility compares use **round-before-compare** at precisions in **III.json**.

---

**Parity requirement (normative).**

1. **Decision parity.** With rounded gates,

   $$
   \boxed{\ \lvert \delta_{\text{stream}} - \delta_{\text{batch}} \rvert \;\le\; \Pi + 0.01\,\Pi \ }
   $$

   Since $\delta\in\{-1,0,+1\}$, any $\Pi<1$ implies **equality of $\delta$**. The default is $\Pi=0$.

2. **Diagnostic drift bounded.** Let $\tilde{\mathcal D}_{\text{stream}}, \tilde{\mathcal D}_{\text{batch}}$ be the **rounded** diagnostics used by floors/gates (e.g., $\tilde{\Phi}_{\text{eff}}, A^\star, \hat c, W:B$). Then

   $$
   \Delta_{\text{SB}} \bigl(\tilde{\mathcal D}_{\text{stream}}, \tilde{\mathcal D}_{\text{batch}}\bigr) \;\le\; \Pi,
   $$

   with the norm $\Delta_{\text{SB}}$ pinned in III (max-norm or per-metric cards).

3. **Floor invariance.** All floors (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) must **pass** on both pipelines at the cut $t_\ast$.

---

**Manifest fields (minimum).**

* `ttda.cut_spec`: UTC cut definition and snapshot recipe;
* `ttda.watermark`: lateness $L_{\max}$, gap handling, finalization guard;
* `ttda.parity_budget`: $\Pi$ and its decomposition;
* `ttda.delta_precision`: rounding/tie policy for $\delta$ and gate inputs;
* `ttda.parity_norm`: definition of $\Delta_{\text{SB}}$ (per-metric precisions reference §2.1);
* `ttda.cards`: which parity tables must be published.

---

**Decision rule (floor).**
Parity **passes** iff:

* **Aligned cut.** The batch snapshot and stream evaluation refer to the same $t_\ast$ per `cut_spec`, with watermark proof that late data beyond $L_{\max}$ could not alter rounded diagnostics.
* **Rounded δ parity.** The inequality above holds; with default $\Pi=0$, this means $\delta_{\text{stream}} = \delta_{\text{batch}}$.
* **Drift bounded.** The rounded diagnostic drift obeys $\Delta_{\text{SB}}\le \Pi$.
* **Time spine.** UTC-LCRO badge (§6.1) is valid for both runs.
* **Replay.** **REPLAY-RFD** reproduces both runs to first divergence (none if compliant).

Any single failure ⇒ **no $\delta=+1$** (floors dominate $\Phi$).

---

**Reporting (Parity Card).**
Publish:

* `cut_spec`, `watermark` (with measured lateness histograms);
* $\delta_{\text{batch}}, \delta_{\text{stream}}$ (rounded), pass/fail;
* Per-metric drift table (rounded) and $\Pi$ decomposition;
* Proof of identical bytes (Receipt v2) and environment for both runs;
* UTC-LCRO badge tokens for both runs;
* REPLAY-RFD trace IDs for stream and batch.

---

**Pseudocode (normative skeleton).**

```text
function STREAM_BATCH_PARITY(pass_bytes, III):
    # Batch
    S_batch ← BUILD_SNAPSHOT(pass_bytes, III.ttda.cut_spec)
    out_b  ← RUN_BATCH(S_batch, III)                  # rounded gates/diagnostics
    # Stream (wait for watermark to pass t*)
    out_s  ← RUN_STREAM(pass_bytes, III.ttda.watermark, III.ttda.cut_spec)

    # Decision parity (rounded)
    δb_t ← ROUND_DELTA(out_b.δ, III.ttda.delta_precision)
    δs_t ← ROUND_DELTA(out_s.δ, III.ttda.delta_precision)
    if abs(δs_t - δb_t) > III.ttda.parity_budget * 1.01: return FAIL

    # Diagnostic drift
    if Δ_SB_ROUNDED(out_s.diag, out_b.diag, III.ttda.parity_norm) > III.ttda.parity_budget: return FAIL

    # Floors & time spine
    if not (FLOORS_PASS(out_b) and FLOORS_PASS(out_s)): return FAIL
    if not (UTC_LCRO_OK(out_b) and UTC_LCRO_OK(out_s)): return FAIL

    publish_parity_card(out_s, out_b)
    return PASS
```

---

**Common non-compliance.**

* Computing the stream cut before the watermark crosses $t_\ast \!+\! L_{\max}$;
* Using wall-clock deltas (not monotonic) so bins shift between runs;
* Different rounding/tie policies across pipelines;
* Hidden re-ingestion or de-duplication changing counts post-snapshot;
* Sanitizer applied only to one path.

---

**Admissible repairs.**

* Harmonize binning and apply **RG-grid** kernels (§6.2) identically in both pipelines;
* Increase $L_{\max}$ or enforce stricter event-time watermarks;
* Move rounding to the gate inputs so tables/figures match both paths;
* Make ingestion idempotent (stable keys, sorted globs) and pin de-dup rules;
* Surface sanitizer at the data layer and include $\varepsilon_{\text{priv}}$ in $\Pi$.

---

**Design intent.**
Parity collapses “mode of delivery” as a degree of freedom: whether data arrive live or as a snapshot, **the same rounded decision** must result within the small, preregistered budget. If stream and batch disagree, the claim is not “acceptable to all.”

---

# 7. Receipts & Auditability
## 7.1 Receipt v2: code/data/SBOM hashes, thresholds, energy

**Purpose.**
**Receipt v2** is the immutable, content-addressed bundle that makes a claim *receipt-true*. It binds **method** to **bytes**—code, data, configuration (thresholds/rounding), environment (SBOM), RNG state, time spine, and **energy/compute telemetry**—so any admissible observer can **REPLAY-RFD** to the first divergence and reproduce the same rounded decision $\delta$.

---

**Scope (what a Receipt v2 must contain).**
Every admitted figure/table and the main decision run must publish a Receipt v2 with the following **normative fields** (all digests are content hashes of the exact bytes shipped):

* **Identity & linkage**

  * `receipt_sha256`: digest of the serialized receipt (self-hash)
  * `iii_sha256`: pinned **III.json** manifest hash (§2.3)
  * `caption_binding`: list of (`artifact_id`, `artifact_sha256`, `binding_mode`) for CAPTION→RECEIPT (§5.5)
  * `explain_id` / `explain_url`: stable replay handle for **REPLAY-RFD**

* **Code & configuration**

  * `code_sha256[]`: one or more source/package archives (exact versions/commits)
  * `cfg_sha256`: full run configuration (thresholds, bands, rounding/tie policy references)
  * `scan_protocol`: pinned **ScanProtocol v1** parameters (waits, ladders, alias refuter)
  * `rng`: `{impls, seeds, subsequences}` for all named PRNG streams (§5.6)

* **Data & IO**

  * `data_sha256[]` / `blake3[]`: immutable datasets/segments (or exact object-store snapshots)
  * `io_policy`: sorted glob patterns, de-dup rules, *no network* or content-addressed mirrors
  * `panels`: optional panel lists (for coverage), marked **non-authoritative**

* **Environment (SBOM)**

  * `sbom_sha256`: SBOM covering OS/container, drivers, BLAS/DNN/MPI libs
  * `platforms`: declared parity envelope (§5.6) with container image digests
  * `numeric_mode`: IEEE-754 flags (rounding, FMA, denormals), reduction order policy

* **Time spine**

  * `clock_badge`: embedded **UTC-LCRO** token (§6.1) with logs digests
  * `ttda`: `{cut_spec, watermark, parity_budget Π, parity_norm, delta_precision}` (§6.3)

* **Floors & diagnostics**

  * `floors`: pass/fail summary for G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM
  * `witness`: `{family, score_map_sha256, pair_rule, bound_spec, n_ladder}` (§5.3)
  * `causality_iso`: `{A_star, c_hat, estimators, baselines}` (§5.4)
  * `rg_grid`: `{H_ladder, phases, aggregators, budgets}` (§6.2)

* **Thresholds & bands (authoritative)**

  * `bands`: $\Phi_{\min}$, $\Phi_{\text{neutral}}$ (with precision units)
  * `rounding`: per-metric decimals/ties (the authoritative **round-before-compare** table)
  * `DII_4`: invariant set declarations $R(u), A^\star, \hat c, W\!:\!B$

* **Energy/compute telemetry**

  * `energy`: per-device counters with method and rounding spec:

    * CPU: RAPL/`perf` joules (package/core/DRAM)
    * GPU/accelerator: board joules (e.g., NVML), SM occupancy
    * External meter (if present): wall-plug joules with calibration hash
  * `runtime`: wall/CPU/GPU times (monotonic), concurrency, memory peaks
  * `energy_rounding`: decimals and tie policy; energy does **not** affect gates unless declared—but must be reproducible

* **Decision outputs**

  * `delta`: $\delta\in\{-1,0,+1\}$ (rounded per `delta_precision`)
  * `Φ_eff`: effective $\tilde\Phi$ at gate time; relevant diagnostics (rounded)
  * `g_coverage`: summary of $G$-tests with REPLAY-RFD IDs (§5.1)
  * `rfd_trace`: primary **REPLAY-RFD** trace identifier

---

**Serialization & immutability.**

* Receipts are serialized as a **single JSON** or CBOR file with **canonical key order**, UTF-8/NFC, and LF newlines.
* A **self-hash** (`receipt_sha256`) over the serialized bytes ensures immutability.
* Any edit (even whitespace) changes the self-hash; supersession requires a **new** receipt with explicit lineage (`supersedes: sha256:…`).

---

**Energy/compute telemetry (measurement discipline).**

* Counters must be **monotonic** and **pinned** to devices by UUID; sampling cadence and integration method are recorded.
* Values are compared **after rounding** to the declared `energy_rounding` table (§2.1).
* If an external meter is used, include its **calibration artifact hash** and a synchronization method to UTC-LCRO (start/stop stamps).
* Telemetry may be *reported* as evidence or environmental stewardship; it **never** overrides floors.

---

**Decision rule (receipt validation).**
A run is **receipt-true** iff all hold:

1. **Completeness.** All mandatory fields present and parse; digests have the correct length/format.
2. **Digest agreement.** Re-hashing the shipped artifacts reproduces all listed digests.
3. **Method pinning.** Code, config, SBOM, RNG streams, time spine, and rounding tables are exactly those used at decision time.
4. **REPLAY-RFD.** Deterministic replay from the receipt **finds no first divergence** up to the decision point; artifacts regenerate to the bound hashes.
5. **Parity & floors.** Streaming↔batch parity, UTC-LCRO limits, and all floors pass using the receipt’s bytes.
6. **No network dependence.** Execution does not fetch unpinned external resources that could alter gate inputs.
7. **Energy reproducibility.** Energy/runtime counters re-compute to the same **rounded** values from logs/meters.

Any single failure ⇒ not receipt-true ⇒ $\delta\neq +1$.

---

**Receipt Card (what to publish).**

* Header: `receipt_sha256`, `iii_sha256`, container/OS image, SBOM hash
* Gate summary: $\delta$, $\tilde\Phi_{\text{eff}}$, DII-4 values (rounded), floors pass/fail
* Parity: $\delta_{\text{stream}}$ vs $\delta_{\text{batch}}$, $\Pi$ decomposition (§6.3)
* G-coverage: classes tested, counts, invariance verdict, REPLAY-RFD links
* Energy/runtime: per-device joules (rounded), runtime, meter calibration hash
* Time spine: UTC-LCRO token (offset/drift/jitter)
* Artifacts: caption bindings (artifact ids + hashes), binding mode (render/content)
* Repro info: `explain_url` / `explain_id`, primary **REPLAY-RFD** trace ID

---

**Reference schema (abridged).**

```json
{
  "receipt_sha256": "sha256:…",
  "iii_sha256": "sha256:…",
  "explain_id": "gravastar://rfd/main",
  "code_sha256": ["sha256:…", "sha256:…"],
  "cfg_sha256": "sha256:…",
  "data_sha256": ["blake3:…"],
  "sbom_sha256": "sha256:…",
  "platforms": ["linux-x86_64-CPU", "linux-x86_64-CUDA12.4"],
  "numeric_mode": {"ieee_round": "rne", "fma": "on", "denormals": "keep", "reduction": "fixed"},
  "rng": [{"name":"global","impl":"PCG64","seed":12345,"subseq":0}],
  "clock_badge": { "utc_source":"PTP", "leap_table_sha256":"sha256:…", "lc_id":"host:…", "offset_ms": {...} },
  "ttda": {"cut_spec": "...", "watermark": {"L_max_ms": 500}, "parity_budget": 0.0, "delta_precision": {"mode":"ties_to_even","decimals":0}},
  "bands": {"phi_min": 0.82, "phi_neutral": [0.48, 0.52]},
  "rounding": {"A_star": {"decimals":3,"tie":"even"}, "c_hat": {"decimals":3,"tie":"up"}, "phi": {"decimals":3}},
  "witness": {"family":"CHSH","score_map_sha256":"sha256:…","pair_rule":"herald","bound_spec":"…","n_ladder":[1e3,5e3,1e4]},
  "causality_iso": {"A_star":0.11,"c_hat":0.97,"estimators":{"iso":"chi2","fs":"quantile"}},
  "rg_grid": {"H_ladder":[10,20,40],"phases":["0","H/3","2H/3"],"aggregators":["count","mean"],"budgets":{"Pi_class":0.0,"eps_join":0.0,"eps_clock":0.0,"eps_priv":0.0}},
  "energy": {"cpu_j": 1234.5, "gpu0_j": 6789.1, "wall_j": 8123.4, "rounding":{"decimals":1,"tie":"even"}},
  "runtime": {"wall_s": 432.1, "cpu_s": 128.4, "gpu_s": 401.0},
  "delta": +1,
  "Phi_eff": 0.853,
  "floors": {"G":"pass","PoS":"pass","WITNESS":"pass","CAUSALITY_ISO":"pass","CAPTION_RECEIPT":"pass","DETERMINISM":"pass"},
  "caption_binding": [
    {"artifact_id":"FIG2/p1","artifact_sha256":"sha256:…","binding_mode":"render"}
  ],
  "rfd_trace": "rfd://runs/2025-09-24T14:22:11Z/abcd…"
}
```

---

**Pseudocode (validator skeleton).**

```text
function RECEIPT_V2_VALID(receipt, bytes):
    assert HASH(receipt.bytes) == receipt.receipt_sha256
    assert HASH(III.json) == receipt.iii_sha256
    assert REHASH_ALL_ARTIFACTS(receipt) == OK
    assert RNG_FREEZE_MATCH(receipt.rng) == OK
    assert SBOM_MATCH_ENV(receipt.sbom_sha256) == OK
    assert UTC_LCRO_OK(receipt.clock_badge) == PASS
    out ← REPLAY_RFD(receipt.explain_id)
    if out.first_divergence: return FAIL
    if not FLOORS_PASS(out) or not PARITY_OK(out, receipt.ttda): return FAIL
    if not ENERGY_REPRO_OK(out.energy, receipt.energy_rounding): return FAIL
    return PASS
```

---

**Design intent.**
Receipt v2 is the **ledger entry** for a claim: it fixes the bytes, the thresholds, the clocks, the platform, and even the joules spent—so **any** admissible observer can rerun the method and get the same rounded decision. Without a valid Receipt v2, a claim cannot be “acceptable to all.”

## 7.2 Caption→receipt token trailers and byte-equality verification

**Purpose.**
Token trailers make each artifact’s **binding** to its **Receipt v2** explicit and machine-checkable in situ. A trailer appended to the caption (or table title) encodes the minimal references and hashes needed for an auditor to **REPLAY-RFD** and confirm that the *displayed artifact’s bytes* (or *canonical content bytes*) equal those produced by the pinned method—*after* rounding and under the declared floors.

**Minimal trailer (normative).**
A single-line, ASCII, bracketed token placed at the **end** of the caption/title:

```
[R2 id=FIG2/p1; receipt=sha256:AB…; iii=sha256:CD…; artifact=sha256:EF…; mode=render|content; explain=gravastar://rfd/FIG2/p1]
```

* `id` — stable artifact identifier (e.g., `FIG2/p1`, `TAB3`).
* `receipt` — **Receipt v2** self-hash (§7.1).
* `iii` — pinned **III.json** hash (§2.3).
* `artifact` — digest of the **bound bytes** (render or canonical content).
* `mode` — `render` (preferred) or `content` (publisher rewrap fallback).
* `explain` — stable handle to replay this artifact via **REPLAY-RFD**.

**Optional trailer fields (non-normative but recommended).**
`renderer=sha256:…; font=sha256:…; scrubber=sha256:…; utc_badge=…; sig=ed25519:…`
*Notes.* `scrubber` is required when `mode=content`. `sig` (a detached signature over the token) aids physical/scan provenance but is **not** required for admission.

**Placement & durability.**

* Embed the token **visibly** in the caption and **again** in the artifact metadata (PDF XMP/PNG tEXt/SVG comment) so it survives copy/paste and publisher pipelines.
* For **multi-panel** figures, place **one token per panel** (e.g., after each “(a) …”, “(b) …”) with distinct `id`s.
* For tables, bind the **canonical CSV** (content bytes) even if the layout engine restyles the table in PDF.

**Binding modes (pinned per artifact).**

* **`mode=render` (preferred):** hash the exact on-disk **rendered bytes** shown in the paper (e.g., `FIG2.png`, `TAB3.csv`). Any re-export that changes bytes breaks equality ⇒ *fail*.
* **`mode=content` (fallback):** hash the **canonical content stream** after applying a **pinned scrubber** (e.g., SVG paths + numeric text, or CSV rows with LF, UTF-8, stable sort). Record `scrubber=sha256:…`. Use when publisher tooling will re-wrap containers but preserve content.

**Byte-equality verification (auditor algorithm).**
Given an artifact with token trailer $T$:

1. **Parse** $T$ and validate field presence and formats.
2. **Load** the referenced **Receipt v2** and **III.json**; verify their digests match `receipt` and `iii`.
3. **REPLAY-RFD** using `explain` to regenerate the artifact under the pinned environment, RNG, rounding, and time spine.
4. **Compute** the artifact bytes to hash:

   * If `mode=render`: the **rendered bytes** as emitted by the pipeline;
   * If `mode=content`: apply the **pinned scrubber** and hash the **canonicalized content** bytes.
5. **Compare** the computed digest to `artifact`. Mismatch ⇒ **floor fail** (§5.5).
6. **Check rounding**: numbers printed in the artifact (text in figure/table) equal the **rounded** values per **III.json** (§2.1).
7. **G-invariance**: admissible re-descriptions in $G$ (units/locale/paraphrase) leave the artifact’s **content** invariant after canonicalization.

**Publisher compatibility.**

* If the journal **re-encodes** images, switch the binding to `mode=content` and declare the scrubber; keep the original artifacts and tokens in the camera-ready ZIP.
* For LaTeX, include the token in `\caption{…}` and as a PDF XMP field; for HTML, mirror it in `data-r2-token` on the `<figure>`/`<table>` element.

**Failure modes (examples).**

* Token omitted, malformed, or not unique per panel.
* PNG/PDF re-export introduces timestamps or metadata ⇒ `mode=render` hash mismatch.
* Vector plot IDs renumbered by the publisher ⇒ use `mode=content` with a scrubber that canonicalizes path ordering.
* Table values rendered at a different precision than the gate’s rounding table ⇒ mismatch.

**Admissible repairs.**

* Re-emit artifacts with deterministic renderer/fonts; pin DPI and encoder; scrub metadata.
* Migrate affected artifacts to `mode=content` with a pinned scrubber; record `scrubber` digest.
* Move rounding upstream so displayed numerals match gate precision; regenerate tokens.

**Verification skeleton (pseudocode).**

```text
function VERIFY_CAPTION_TRAILER(artifact_file, trailer, III):
    toks ← PARSE(trailer)
    assert toks.id and toks.receipt and toks.iii and toks.artifact and toks.mode
    R ← LOAD_RECEIPT(toks.receipt); assert HASH(R) == toks.receipt
    assert HASH(III) == toks.iii
    out ← REPLAY_RFD(R, toks.explain, toks.id)
    if toks.mode == "render":
        bytes ← out.render_bytes
    else:  # content
        scrub ← LOAD_SCRUBBER(R or III); assert HASH(scrub) == toks.scrubber
        bytes ← scrub(out.render_bytes or out.content_stream)
    assert HASH(bytes) == toks.artifact
    assert ROUNDED_NUMBERS_MATCH_DISPLAY(artifact_file, III.rounding)
    assert G_INVARIANT_CONTENT(bytes, III.g_canonicalizer)
    return PASS
```

**Design intent.**
Token trailers turn each caption into a **contract**: a short, human-visible string that names the exact method and bytes behind the picture or table. They make fraud and drift *boring to attempt*: if the bytes don’t match—or can’t be replayed—the artifact cannot count.

## 7.3 REPLAY-RFD (Replay-to-First-Divergence): definition and audit procedure (not Tree Evaluation [2,3,4])

**Purpose.**
**REPLAY-RFD** is the normative **audit/reproduction** procedure that re-executes a claim’s pinned method from its **Receipt v2** and stops at the *first* verifiable discrepancy. It certifies that the rounded decision $\delta$, floors, and bound artifacts (figures/tables) are **method-equivalent** to those published. REPLAY-RFD is **not** the complexity-theoretic *Tree Evaluation [2,3,4]* problem; see §7.1–7.2 and References for that distinct line of work.

---

**Definition (contract).**
Given a Receipt v2 $\mathcal{R}$ and an artifact/run identifier $\mathrm{id}$,

$$
\texttt{REPLAY\_RFD}(\mathcal{R}, \mathrm{id}) \;\to\; 
\bigl(\textsf{status}\in\{\textsf{pass},\textsf{diverge}\},\ \textsf{trace}\bigr)
$$

where **pass** means *no first divergence exists up to the decision point* and **diverge** returns the **minimal stage** $s^\star$ (by the pinned order) at which any observable required by the claim fails equality (bytes) or tolerance (after **round-before-compare**, §2.1).

**Observed entities (in order).**

1. **Integrity layer:** `iii_sha256`, `receipt_sha256`, code/data/SBOM digests.
2. **Environment layer:** container/OS/driver hashes; numeric mode; RNG streams/seeds (§5.6).
3. **Time spine:** **UTC-LCRO** badge reconstruction (§6.1).
4. **Pipelines:** ScanProtocol v1 kernels; WITNESS pairing & bounds; CAUSALITY/ISO fits; RG-grid resamplers (§§5.3–5.4, 6.2).
5. **G-tests:** canonicalizers for admissible re-descriptions (§5.1).
6. **Gates/floors:** rounded diagnostics, budget checks, $\delta$.
7. **Artifacts:** CAPTION→RECEIPT byte/content equality (§5.5, §7.2).
8. **Parity:** stream↔batch parity at $t_\ast$ (§6.3).
9. **Energy/runtime:** rounded telemetry reproducibility (§7.1).

A **stage** is the smallest receipt-pinned unit emitting a **state hash** or a rounded value that feeds a floor/gate or bound artifact.

---

**What counts as “first divergence.”**
The earliest $s^\star$ where any of the following holds:

* **Byte mismatch**: a required digest (code/data/SBOM/artifact) recomputed from local bytes $\ne$ the receipt value.
* **Rounded diagnostic mismatch**: a reported metric (e.g., $A^\star, \hat c, R(u), W{:}B, \tilde\Phi_{\mathrm{eff}}$) differs *after* applying the manifest rounding/tie policy.
* **Floor regression**: any floor that passed in the receipt fails under replay (G, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM).
* **$\delta$ flip**: gate outcome differs after rounding.
* **Parity/badge breach**: stream↔batch inequality or UTC-LCRO limits violated.
* **G-invariance breach**: admissible re-descriptions flip a verdict after rounding.
* **RNG/platform drift**: seeds/streams or numeric mode not honored, causing any of the above.

Divergences in *display-only* formatting that do not alter **content bytes** or rounded values are **non-events** when `mode=content` is declared (§7.2).

---

**Normative inputs.**

* **Receipt v2** (single file; §7.1).
* **III.json** manifest (budgets, thresholds, rounding, tie policy).
* **Camera-ready artifact set** (bound files).
* **Container image** or environment bundle matching SBOM.
* **No network**: all inputs content-addressed; object-store mirrors must match listed digests.

**Normative outputs.**

* **RFD Trace**: ordered list of stages with (expected\_digest/value, observed, verdict), plus **$s^\star$** if diverged.
* **Verdict**: **pass**/**diverge**, and if diverged, a one-line human summary: `DIV@stage=fs.fit: c_hat 0.972 ≠ 0.970 (rounded tol 0.001)`.
* **Cards**: Clock Badge, Parity, Floors, Caption-Receipt, Determinism.

---

**Audit procedure (stepwise).**

1. **Freeze method.** Mount read-only code/data; instantiate the declared container; set numeric/RNG modes; disable nondeterministic ops (§5.6).
2. **Rebuild time spine.** Reconstruct UTC-LCRO from logs; verify offset/drift/jitter within limits; pin monotonic clock for interval math.
3. **Stage replay.** Execute the pinned pipeline stages; after each stage $s$, emit the stage hash and/or rounded diagnostics; compare to receipt.
4. **Floor checks.** Run G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM using the rounded values.
5. **Gate decision.** Compute $\delta$ with round-before-compare, confirm equality.
6. **Artifacts.** For every figure/table, regenerate bytes per binding mode and compare to `artifact` digest.
7. **Parity.** Reproduce batch and stream cuts at $t_\ast$; check $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$.
8. **Stop condition.** On first mismatch, **stop** and report $s^\star$. If none, **pass**.

---

**RFD stage order (canonical).**

```
S0: receipt/manifest hashes → integrity
S1: SBOM/numeric/RNG lock → determinism base
S2: UTC-LCRO reconstruction → time spine
S3: ScanProtocol v1 kernels (pairing/onset) → raw diagnostics
S4: RG-grid resamplers (H,m,k) → robustness checks
S5: WITNESS score & B(n) bound eval → witness verdict
S6: CAUSALITY/ISO estimators → A* and ĉ
S7: G-floor canonicalizers → invariance verdict
S8: TTDA parity compute → δ_stream vs δ_batch
S9: Gate evaluation → δ
S10: Artifact regeneration → caption→receipt equality
S11: Energy/runtime rounding → telemetry parity
```

---

**Pseudocode (skeleton).**

```text
function REPLAY_RFD(receipt, id):
    assert HASH(receipt.bytes) == receipt.receipt_sha256
    assert HASH(III.json)      == receipt.iii_sha256

    env ← INSTANTIATE_ENV(receipt.sbom_sha256, receipt.numeric_mode, receipt.rng)
    FS  ← MOUNT_BYTES(readonly=code+data+cfg)

    badge ← RECONSTRUCT_UTC_LCRO(receipt.clock_badge)
    if not BADGE_WITHIN_LIMITS_ROUNDED(badge, III.clock): return DIVERGE("badge")

    for s in CANONICAL_STAGE_ORDER:
        out_s ← RUN_STAGE(s, env, FS, receipt)
        if not MATCH_STAGE(out_s, receipt, III.rounding): 
            return DIVERGE(stage=s, expected=receipt[s], observed=out_s)

    publish_RFD_cards()
    return PASS
```

`MATCH_STAGE` applies **round-before-compare** to numeric diagnostics and **byte equality** to bound artifacts; it also enforces **G-invariance** where declared.

---

**Roles & scopes.**

* **Primary replay**: must be **bitwise** consistent on the declared primary platform (CAPTION→RECEIPT, §5.5).
* **Platform parity**: other platforms in the envelope need only preserve **$\delta$** and rounded diagnostics within tolerances (DETERMINISM, §5.6).
* **Auditor**: may invoke **RTR/RG-grid** (§6.2); any single compliant counterexample defeats the claim (§4.3).

---

**Common divergence classes (diagnostic).**

* **D0** Integrity: missing/altered `iii_sha256` / code / data / SBOM.
* **D1** Time: UTC-LCRO offset/drift/jitter exceed limits after rounding.
* **D2** RNG/ops: nondeterministic kernels or seed vector mismatch.
* **D3** WITNESS: $W(n)$ mapping or $B(n)$ bound mis-specified; rounded score mismatch.
* **D4** Causality/ISO: onset functional or estimator drift; $\tilde{\hat c}$ exceeds cap.
* **D5** G-floor: admissible re-description flips verdict.
* **D6** Gate: rounded thresholds/tie policy differ; $\delta$ flip.
* **D7** Artifact: caption→receipt hash mismatch (render/content).
* **D8** Parity: $|\delta_{\text{stream}}-\delta_{\text{batch}}|>\Pi+0.01\Pi$.
* **D9** Telemetry: energy/runtime not reproducible *to rounded spec*.

---

**Admissible repairs (do not relax floors).**

* Pin/replace nondeterministic ops; fix numeric mode (FMA/denormals/reductions).
* Move rounding **upstream** so tables/figures match gate precision.
* Correct UTC-LCRO source or sampler cadence; re-emit badge.
* Harden ScanProtocol v1 (windows, waits, alias refuter) and declare onset functional.
* Switch artifact binding to `mode=content` with a pinned scrubber when publisher re-encodes.

---

**Design intent.**
REPLAY-RFD makes *how the result was obtained* a public, replayable contract. It converts disputes into concrete, smallest-index differences that any admissible observer can reproduce. If no first divergence exists, the claim is **receipt-true**; if one exists, the claim does **not** count—independent of narrative.

---

# 8. ScanProtocol v1 (Methods Standardization)
## 8.1 Bidirectional scans and dark-window readout

**Purpose.**
**ScanProtocol v1** requires that any control-sweep used to justify a claim be (i) **bidirectional**—run forward and backward—and (ii) evaluated from a **dark window**—a stimulus-free interval after an enforceable reset—so that thresholds are not passed on transients, latching, or phase luck. Floors dominate $\Phi$; scans exist to remove operator discretion.

---

**Scan objects (formal).**
A **scan** is a finite sequence of *control settings* $u\in\mathcal{U}$ with pinned timing:

$$
S=\bigl\{(u_i, t^{\mathrm{on}}_i, t^{\mathrm{hold}}_i, t^{\mathrm{off}}_i, t^{\mathrm{dark}}_i)\bigr\}_{i=1}^M,
$$

where for each step $i$:

* **Bright phase** $[t^{\mathrm{on}}_i,\ t^{\mathrm{off}}_i)$: stimulus at $u_i$;
* **Hold** $t^{\mathrm{hold}}_i$: minimum dwell in the bright phase before shutoff;
* **Dark window** $[t^{\mathrm{off}}_i,\ t^{\mathrm{off}}_i+t^{\mathrm{dark}}_i)$: stimulus removed; readouts occur **only** here for gate-critical metrics;
* **Reset**: $t^{\mathrm{dark}}_i \ge \tau_{\mathrm{reset}}$ and, if declared, $t^{\mathrm{dark}}_i \ge 3\tau_{\mathrm{reset}}$ for stability (§Abstract, ScanProtocol v1).

The **forward scan** enumerates $u_1\!\to\!u_M$; the **backward scan** enumerates $u_M\!\to\!u_1$. UTC anchoring and monotonic intervals come from the **UTC-LCRO** badge (§6.1). All compares use **round-before-compare** (§2.1).

---

**Normative requirements.**

1. **Bidirectionality.** You MUST run **both** directions with identical $u$-ladders, holds, and dark-window durations.
2. **Dark-window readout.** All gate inputs (e.g., $\tilde\Phi$, $A^\star$, $\hat c$, $W{:}B$) MUST be computed **exclusively** from samples inside the dark window; bright-phase plots may appear but are **non-authoritative**.
3. **Reset sufficiency.** Dark windows MUST satisfy the pinned $\tau_{\mathrm{reset}}$ constraint; a **baseline check** at each step must agree with the step-0 baseline within a rounded budget $\varepsilon_{\mathrm{base}}$ declared in **III.json**.
4. **Hysteresis bound.** For any diagnostic $D$ that feeds a floor/gate, let $D^{\uparrow}(u_i)$ and $D^{\downarrow}(u_i)$ be the **rounded** dark-window values from forward/backward scans. The **hysteresis**

   $$
   H_D=\max_i \bigl|D^{\uparrow}(u_i)-D^{\downarrow}(u_i)\bigr|
   $$

   MUST satisfy $H_D \le \Pi_{\mathrm{scan}}$ (budget in **III.json**).
5. **$\delta$ invariance.** The rounded gate decision MUST agree across directions: $\delta^{\uparrow}=\delta^{\downarrow}$.
6. **RG-grid coverage.** At least the **three-phase** offsets $\{0,H/3,2H/3\}$ at the pinned bin $H$ (or the declared ladder) MUST be exercised in **both** directions (§6.2).
7. **Watermark alignment.** If streaming, finalize each step’s dark window only after the watermark passes the dark-end by the declared lateness $L_{\max}$ (§6.3); batch snapshots must cut at the same $t_\ast$.
8. **No hidden actuation.** Control writes (DAC, digital lines) and stimulus on/off events must be **byte-logged** and bound in **Receipt v2** (§7.1).

---

**Interaction with floors.**

* **G-floor (§5.1).** Units, locales, and paraphrases of $u$ and diagnostics must not alter the dark-window results after canonicalization.
* **WITNESS (§5.3).** Pairing rules that depend on windowing (e.g., heralding) MUST reference UTC-LCRO time and the same dark windows.
* **CAUSALITY/ISO (§5.4).** Onset fits use bright→dark transitions but the reportable $A^\star$ and $\hat c$ are computed from the dark-window segments and compared after rounding.
* **DETERMINISM (§5.6).** Seed/PRNG consumption must be identical across directions; nondeterministic kernels are forbidden.

---

**Decision rule (scan pass).**
A scan **passes** iff all hold:

* Baselines within $\varepsilon_{\mathrm{base}}$ (rounded);
* $H_D \le \Pi_{\mathrm{scan}}$ for every gate-feeding diagnostic;
* $\delta^{\uparrow}=\delta^{\downarrow}$;
* RG-grid parity holds in both directions (§6.2);
* Stream↔batch parity holds at the scan cut (§6.3);
* REPLAY-RFD can regenerate both directions to first divergence (none).

Any single failure ⇒ the scan is **non-admissible** and cannot support $\delta=+1$.

---

**Reporting (Scan Card).**
Publish per-scan:

* $u$ ladder, hold and dark durations, $\tau_{\mathrm{reset}}$;
* Rounded dark-window diagnostics $D^{\uparrow},D^{\downarrow}$, hysteresis $H_D$, and budgets;
* Baseline drift table; RG-grid phases and parity verdicts;
* Stream/batch parity at $t_\ast$; UTC-LCRO badge token;
* Control-write logs digests; REPLAY-RFD trace IDs for both directions.

---

**Common non-compliance.**

* Reading during bright phase (transient overshoot) and using it in gates;
* Unequal dwell or dark durations across directions;
* Watermark not passed when sealing dark windows in streaming;
* Hidden DAC slew causing residual stimulus inside the declared dark window;
* Rounding applied at display time only (not at gate inputs).

---

**Admissible repairs.**

* Increase dark-window length or enforce hardware blanking until $\tau_{\mathrm{reset}}$ elapses;
* Move all gate computations to dark-window buffers;
* Equalize hold/dark parameters; pin DAC slew/blanking;
* Raise watermark $L_{\max}$ or cut at a later $t_\ast$;
* Apply rounding at the **data layer** so figures/tables/gates agree.

---

**Pseudocode (normative skeleton).**

```text
function RUN_BIDIR_SCAN(u_ladder, H, III):
    results = {}
    for dir in ["up","down"]:
        order = u_ladder if dir=="up" else reversed(u_ladder)
        for u in order:
            APPLY_STIMULUS(u); WAIT(III.scan.hold_ms)
            REMOVE_STIMULUS()
            WAIT(III.scan.dark_ms)  # ≥ τ_reset
            buf = READOUT_WINDOW(dark=True, phase=H.phase)   # UTC-LCRO anchored
            D = COMPUTE_DIAGNOSTICS(buf, III.rounding)       # round-before-compare
            results[dir][u] = D
    # Hysteresis & δ invariance
    for Dname in III.scan.gate_diagnostics:
        H_D = max_u( abs(results["up"][u][Dname] - results["down"][u][Dname]) )
        if H_D > III.scan.Pi_scan: return FAIL
    if GATE(results["up"]) != GATE(results["down"]): return FAIL
    publish_scan_card(results)
    return PASS
```

---

**Design intent.**
Bidirectional scans kill “lucky ramp” stories; dark-window readout kills “pretty transient” stories. Together they ensure the admitted result reflects a **stable**, reset-verified state that is insensitive to direction, binning, or ingestion mode—thereby meeting the *acceptable to all* standard.

## 8.2 Reset waits $\ge 3 \cdot \tau_{\text{reset}}$

**Purpose.**
A claim must not hinge on **residual state** from the previous stimulus. The reset requirement enforces that all gate-feeding diagnostics are taken only after the system has relaxed to a declared **baseline**. By default, **ScanProtocol v1** mandates **dark waits** at least $3\cdot\tau_{\text{reset}}$ before any admissible readout, so transients and memory effects cannot flip $\delta$.

---

**Definition of $\tau_{\text{reset}}$ (normative).**
$\tau_{\text{reset}}$ is the *characteristic relaxation time* to baseline under the **worst-case** actuation used in the scan. It is preregistered in **III.json** and justified by a **step-off** measurement:

* Let $R(t)$ be a scalar *residual* (chosen and pinned) that upper-bounds all gate-relevant observables’ deviation from baseline after stimulus removal.
* If $R(t)\le R_0 e^{-t/\tau}$ is a good envelope, choose $\tau_{\text{reset}}=\tau$. Then waiting $3\tau_{\text{reset}}$ guarantees $R(t)\le R_0 e^{-3}\approx 0.05\,R_0$.
* For multi-exponential or heavy-tail relaxations, pin a **conservative envelope** $R(t)\le \sum_j a_j e^{-t/\tau_j}$ and set $\tau_{\text{reset}}=\max_j \tau_j$ (or a published *95% return time*).
* If no parametric fit is defensible, declare a **non-parametric** $\tau_{\text{reset}}$ as the smallest time such that the **rounded** baseline test (below) passes over $K$ consecutive windows.

**III.json fields (minimum):**
`scan.reset.residual_spec` (how $R$ is computed); `scan.reset.tau_ms`; `scan.reset.dark_ms_min`; `scan.reset.baseline_eps` (rounded tolerance); `scan.reset.K_consec` (consecutive passes required).

---

**Baseline test (rounded).**
Let $D$ be each diagnostic that will enter a floor/gate (e.g., $\tilde\Phi, A^\star, \hat c, W{:}B$). In dark windows after the wait, compare to the run’s **step-0** baseline $D_0$:

$$
\bigl|\,\tilde D - \tilde D_0\,\bigr| \;\le\; \varepsilon_{\mathrm{base}}
$$

where $\tilde{\cdot}$ denotes **round-before-compare** per §2.1 and $\varepsilon_{\mathrm{base}}$ is pinned in **III.json**. The inequality must hold for **all** gate-feeding diagnostics and for **$K$** consecutive dark windows (to reject flicker).

---

**Normative requirements.**

1. **Wait length.** Dark waits before any admissible readout satisfy

   $$
   t_{\text{dark}} \;\ge\; \max\!\bigl(\,3\tau_{\text{reset}},\ \texttt{scan.reset.dark\_ms\_min}\,\bigr).
   $$
2. **Baseline pass.** The rounded baseline test above passes for the pinned $K$ consecutive windows.
3. **Worst-case provenance.** The published $\tau_{\text{reset}}$ is established under a **worst-case** stimulus from the scan ladder (largest amplitude/duty/heat), and that calibration receipt is cited in the main Receipt v2.
4. **Monotonic time.** Wait intervals and window boundaries are measured with the **monotonic** clock declared in the **UTC-LCRO** badge (§6.1); no wall-clock arithmetic.
5. **No hidden actuation.** Control lines are physically silent during the dark wait; DAC/laser/trigger logs are content-addressed and bound in the receipt.
6. **State clearing.** **Algorithmic** state is returned to a canonical reset: buffers flushed, accumulators zeroed, caches/prefetchers bounded or deterministic, PRNG streams at declared offsets (but **not reseeded** between forward/back scans; see §5.6).

---

**Interaction with other constraints.**

* **Bidirectional scans (§8.1).** The same $\tau_{\text{reset}}$ and dark wait apply **in both directions**; $\delta^{\uparrow}=\delta^{\downarrow}$ must hold.
* **RG-grid (§6.2).** Resampling at different $H$ and phases must not resurrect transients; $\delta$ invariant over the grid.
* **Parity (§6.3).** Stream cuts must only finalize a window after the watermark passes the dark end by $L_{\max}$; batch snapshots cut at the identical $t_\ast$.
* **CAUSALITY/ISO (§5.4).** Onset fits may use the bright→dark edge, but reportables ($A^\star, \hat c$) are computed only from data **after** the reset wait.
* **DETERMINISM (§5.6).** Reset waits must not change PRNG consumption order; seeds/streams remain pinned.

---

**Decision rule (floor).**
The reset floor **passes** iff:

* $t_{\text{dark}}\ge 3\tau_{\text{reset}}$ (rounded) in every scan step used for a gate;
* All baseline comparisons pass for **all** gate diagnostics across **$K$** consecutive windows;
* The worst-case calibration of $\tau_{\text{reset}}$ is receipt-true and referenced;
* REPLAY-RFD reproduces waits/timestamps from UTC-LCRO logs **without** first divergence.

Any violation ⇒ scan is **non-admissible** and cannot support $\delta=+1$.

---

**Common non-compliance.**

* Declaring $\tau_{\text{reset}}$ from a mild stimulus, then scanning at a stronger one;
* Using wall-clock deltas (subject to slews) instead of monotonic intervals;
* Reading in the bright tail (pre-dark), or starting readout before hardware actually quiesces (DAC/laser still slewing);
* Rounding only in the figure, not in the gate;
* Re-seeding PRNG between forward/back paths (changes consumption).

---

**Admissible repairs.**

* Re-measure a worst-case step-off and **increase** $\tau_{\text{reset}}$;
* Enforce hardware blanking or interlocks (TTL shutters, RF mutes) that guarantee stimulus is physically off before the dark timer starts;
* Extend dark duration or require $K$ larger;
* Move rounding upstream into gate inputs;
* Pin monotonic clock and embed event logs in Receipt v2.

---

**Reporting (Reset Card).**
Publish: residual definition $R$, envelope fit or non-parametric criterion, $\tau_{\text{reset}}$, dark durations, baseline table (rounded), worst-case calibration receipt hash, UTC-LCRO token, and REPLAY-RFD trace ID.

---

**Pseudocode (normative skeleton).**

```text
function ENFORCE_RESET_AND_READ(u, III):
    APPLY_STIMULUS(u); WAIT(III.scan.hold_ms)
    REMOVE_STIMULUS();  t0 ← MONOTONIC_NOW()
    WAIT_UNTIL(MONOTONIC_NOW() - t0 ≥ max(3*III.scan.reset.tau_ms, III.scan.reset.dark_ms_min))
    for i in 1..III.scan.reset.K_consec:
        buf ← READOUT_WINDOW(dark=True)
        D  ← COMPUTE_DIAGNOSTICS(buf, III.rounding)   # round-before-compare
        if any(|D - D0| > III.scan.reset.baseline_eps): return FAIL
    return PASS
```

**Design intent.**
Three time constants is a simple, conservative rule that converts “we think it settled” into a **public, receipt-true contract**. It ensures that what *counts* is a steady, history-free state—acceptable to anyone who replays the method.

## 8.3 Three-grid alias refuter

**Purpose.**
Fixed bin boundaries can create *aliasing*: tiny shifts in timing move events across edges, changing tallies, fits, or derived diagnostics. The **three-grid alias refuter** eliminates this lever by **recomputing every time-binned diagnostic** on **three phase-shifted grids** and requiring invariance (after rounding) and constant gate $\delta$. It is a mandatory component of ScanProtocol v1 and RTR (§6.2).

---

**Construction (formal).**
For a pinned bin width $H>0$ and UTC-anchored time $t$ (monotonic intervals for durations; §6.1), define three grids by phase offsets

$$
\mathcal{K}(H)=\{\,0,\; H/3,\; 2H/3\,\}.
$$

For each $k\in \mathcal{K}(H)$, the bin index is

$$
b_{H,k}(t)=\Big\lfloor \frac{t-k}{H}\Big\rfloor,
$$

with **left-closed/right-open** intervals $[k+iH,\;k+(i+1)H)$. Aggregators are those pinned in **III.json** (e.g., `count`, `mean`, `trimmed_mean_α`, `quantile_τ`, `sum`), applied deterministically to the samples inside each bin. All numeric results are compared only **after round-before-compare** (§2.1).

**Why three phases.**
Any event lying within $H/3$ of a boundary in one grid lies at least $H/3$ *inside* a bin in one of the other two. Thus a boundary-sensitive diagnostic cannot persist across all phases unless it is interior in at least one, bounding alias-induced variation by the RG budget (§6.2).

---

**Normative requirements.**

1. **Coverage.** For every time-binned diagnostic that feeds a floor/gate (e.g., WITNESS tallies $W(n)$, near-isotropy $A^\star$, front-speed $\hat c$, $\Phi_{\text{eff}}$), compute the diagnostic on **all** $k\in\{0,H/3,2H/3\}$ at the pinned $H$.
2. **Phase invariance of $\delta$.** Let $\delta_k$ be the gate result using grid phase $k$. Then

   $$
   \boxed{\,\delta_{0}=\delta_{H/3}=\delta_{2H/3}\,}
   $$

   (floors dominate $\Phi$; §4.1).
3. **Drift budget.** Let $\tilde{\mathcal D}_k$ be the **rounded** diagnostic vector under phase $k$. The phase spread obeys

   $$
   \max_{k,k'}\ \Delta\bigl(\tilde{\mathcal D}_k,\tilde{\mathcal D}_{k'}\bigr)\ \le\ \Pi_{\text{class}}+\varepsilon_{\text{join}}+\varepsilon_{\text{clock}}+\varepsilon_{\text{priv}}
   $$

   with the norm $\Delta(\cdot,\cdot)$ and budgets pinned in **III.json** (cf. RG-grid §6.2).
4. **Canonical boundary rule.** All binnings must use the same **LCR0** convention (left-closed/right-open), pinned in **III.json**; thresholds must not depend on inclusive/exclusive edge cases.
5. **UTC anchoring.** Phases $k$ are offsets in UTC; conversions use the same **UTC-LCRO** badge and leap table as the admission run (§6.1).
6. **No phase-coupled heuristics.** Pairing rules, onset detection, and de-duplication must be defined in **continuous time** or with explicit tolerance independent of bin *index*; bins are for reporting, not semantics.

---

**Interaction with other constraints.**

* **RTR/RG-grid (§6.2).** The three-grid refuter is the **minimum** phase set of the RG-grid; larger phase/scale sweeps may be declared, but the three phases are mandatory.
* **Bidirectional scans (§8.1).** The phase sweep is executed for **both** directions; hysteresis is measured on dark-window diagnostics at each phase.
* **Parity (§6.3).** Stream and batch must use the **same** $H$ and $k$ at the cut $t_\ast$; parity is evaluated *per phase* and summarized across phases.
* **G-floor (§5.1).** Admissible re-descriptions (locale/units) may not alter bin membership after canonicalization.
* **CAPTION→RECEIPT (§5.5).** Figures that visualize binned results must state $H$ and $k$ in the caption token; differing phases form distinct artifacts.

---

**Decision rule (alias refuter pass).**
Pass if and only if:

* All three phases produce identical $\delta$ (rounded);
* Rounded diagnostic spreads across phases respect the pinned budget;
* UTC-LCRO limits hold and phases are applied as UTC offsets;
* REPLAY-RFD regenerates the phase-specific artifacts and diagnostics **without** first divergence.

Any single failure ⇒ no $\delta=+1$.

---

**Common non-compliance.**

* Computing tallies on a single arbitrary phase;
* Phase-dependent de-duplication (e.g., drop ties on even indices);
* Using wall-clock arithmetic (susceptible to DST/locale) rather than UTC + monotonic intervals;
* Boundary rules changed between phases (inclusive/exclusive mismatch);
* Rounding applied only in plots, not at gate inputs.

---

**Admissible repairs.**

* Move pairing/onset logic to continuous time; apply binning only for **display**;
* Pin LCR0 and enforce it in a shared binning utility used by both pipelines;
* Surface de-duplication as content-addressed canonicalization independent of bin index;
* Adopt the RG-grid ladder for $H$ and keep $\delta$ invariant across $(H,k)$ sweeps.

---

**Reporting (Phase Card).**
Publish, for each diagnostic: $H$, $k\in\{0,H/3,2H/3\}$, rounded values, spread $\Delta$, budgets, and $\delta_k$. Captions include token trailers for each phase-specific artifact (mode `render` or `content`) with distinct `id`s (§7.2). Provide REPLAY-RFD trace IDs for every phase run.

---

**Pseudocode (normative skeleton).**

```text
function THREE_GRID_ALIAS_REFUTER(H, III):
    phases = [0, H/3, 2*H/3]
    D = {}
    δ = {}
    for k in phases:
        bins = BIN_STREAM(time_utc, H, phase=k, bc="LCR0")
        D[k] = COMPUTE_DIAGNOSTICS(bins, III.rounding)
        δ[k] = GATE(D[k], III.rounding)
    if not (δ[0] == δ[H/3] == δ[2*H/3]): return FAIL
    if MAX_SPREAD_ROUNDED(D.values(), III.rg.budgets) > III.rg.budgets.total: return FAIL
    publish_phase_card(D, δ, H, phases)
    return PASS
```

**Design intent.**
The three-grid alias refuter converts “we chose a lucky bin edge” into a **public, reproducible non-option**. If a result depends on where bin edges sit, it is not “acceptable to all.”

## 8.4 Basis disclosure when interference/phase matters (bright/dark)

**Purpose.**
Whenever a claim depends on *relative phase* (optical/RF interference, qubits, spin, path/phase-encoded logic, lock-in detection), auditors must know **which basis** was prepared/measured and how *bright/dark* channels are defined. **Basis disclosure** pins the state map, reference phases, and hardware axes so that bright–dark outcomes, fringes, or parity flips cannot be produced by undisclosed re-phasing or analyzer rotation.

---

**Scope (when required).**
Declare basis whenever any floor/gate diagnostic depends on: (i) interference visibility/contrast, (ii) phase-sensitive correlations (e.g., WITNESS pairing, $A^\star$ near-isotropy with phase windows), (iii) lock-in phase, (iv) polarization/path analyzers, or (v) engineered-$\Phi$ dynamics that use coherent combining.

---

**Pinned disclosures (III.json).**

* **Hilbert/Analyzer space.**
  `basis.space`: e.g., `{type:"qubit|polarization|path|RF-phase", dim:2}`.
* **Preparation basis $\mathcal{B}_{\text{prep}}$.**
  Orthonormal columns (Dirac or matrix form). Example (column convention):

  $$
  \mathcal{B}_{\text{prep}} = \bigl[\,|0\rangle,\ |1\rangle\,\bigr],\quad
  |0\rangle=\begin{bmatrix}1\\0\end{bmatrix},\ |1\rangle=\begin{bmatrix}0\\1\end{bmatrix}.
  $$
* **Measurement basis $\mathcal{B}_{\text{meas}}$.**
  Either explicit columns or a unitary $U$ with $\mathcal{B}_{\text{meas}}=U\,\mathcal{B}_{\text{prep}}$.
  `basis.U`: complex matrix with numeric precision and tie policy (§2.1).
* **Bright/Dark definitions (relative phase $\varphi$).**
  For two-mode interference:

  $$
  |B\rangle = \tfrac{1}{\sqrt{2}}\bigl(|0\rangle + e^{i\varphi}|1\rangle\bigr),\quad
  |D\rangle = \tfrac{1}{\sqrt{2}}\bigl(|0\rangle - e^{i\varphi}|1\rangle\bigr),
  $$

  with `basis.phi_ref` (radians or cycles), `phi_precision`, and hardware source (PLL/laser/LO).
* **Hardware axes & calibrations.**
  `basis.hardware`: analyzer angles (°), polarizer/Jones matrices, beamsplitter convention, LO frequency & phase, path-length difference $\Delta L$ with tolerance.
* **Fringe visibility spec.**
  $V=(I_{\max}-I_{\min})/(I_{\max}+I_{\min})$ with `visibility_min` (rounded) and the dark-leak budget `dark_leak_max`.
* **Lock-in/phase readout.**
  `lockin.ref_phase`, bandwidth, demod window, and whether bright/dark reported values come from **dark windows** (§8.1) only.

Global phase is irrelevant; **relative** phases and analyzer orientations are not.

---

**Normative requirements.**

1. **Explicit bright/dark.** Publish $|B\rangle, |D\rangle$ (or their classical equivalents: constructive/destructive ports) with $\varphi$ tied to a UTC-anchored phase reference (badge source and epoch).
2. **Analyzer determinism.** Declare and pin analyzer settings (HWP/QWP angles, LO phase) as **bytes** in Receipt v2; any automated scans of angles/phases are part of ScanProtocol v1 logs.
3. **Visibility & dark-leak floors.** Rounded visibility $\tilde V \ge \texttt{visibility\_min}$; dark port power/counts $\tilde I_D \le \texttt{dark\_leak\_max}$. Failing either prevents $\delta=+1$.
4. **G-invariance.** Admissible re-descriptions (units, locale, equivalent matrix parameterizations) must not change rounded outcomes after canonicalization (§5.1).
5. **RG-grid compatibility.** Basis-dependent diagnostics must remain invariant (after rounding) across the three-grid phases (§8.3) and the RTR ladder (§6.2).
6. **Dark-window readout.** Phase-sensitive diagnostics used by floors/gates are computed **only** from **dark windows** (§8.1); bright-phase traces are illustrative only.

---

**Interaction with floors.**

* **WITNESS (§5.3).** Pairing rules must reference the declared basis (e.g., analyzer angles per trial); any hidden rotation that improves $W(n)$ is disallowed.
* **CAUSALITY/ISO (§5.4).** Front-speed fits using interference onsets must use the same $\varphi$/analyzer and report $A^\star,\hat c$ from dark windows.
* **CAPTION→RECEIPT (§5.5).** Basis values (angles, $\varphi$) appear in caption tokens; regenerated plots/tables must match byte-equality or canonical content.
* **DETERMINISM (§5.6).** LO/PLL settings and phase-stepping sequences are pinned; nondeterministic phase dither is forbidden unless logged and replayable.

---

**Decision rule (basis floor).**
Pass iff:

* $\mathcal{B}_{\text{prep}}, \mathcal{B}_{\text{meas}}$ (or $U$) and $\varphi$ are disclosed with numeric precision;
* Analyzer/LO settings in Receipt v2 reproduce the same **rounded** bright/dark diagnostics and visibility;
* Three-grid alias refuter and RTR invariance hold;
* REPLAY-RFD regenerates basis-dependent artifacts **without** first divergence.

Any single failure ⇒ no $\delta=+1$.

---

**Common non-compliance.**

* Reporting “dark” with undisclosed analyzer offset or hidden phase trimming;
* Mixing Jones/Stokes conventions without a canonical map;
* Re-optimizing $\varphi$ per scan step (post-selection);
* Computing visibility from bright-phase transients;
* Publisher re-render alters basis labels/legends (token must bind content).

---

**Admissible repairs.**

* Canonicalize basis matrices (column convention; unitary check) and pin angles/phase as bytes;
* Add phase calibration runs (fringe sweeps) with REPLAY-RFD IDs;
* Move visibility and dark-port statistics to dark windows and apply round-before-compare;
* Include a basis-canonicalizer in the G-floor to normalize equivalent parameterizations.

---

**Reporting (Basis Card).**
Publish: $\mathcal{B}_{\text{prep}}, U, \mathcal{B}_{\text{meas}}$; $\varphi$ with source and epoch; analyzer angles; visibility $V$ and dark-leak; lock-in parameters; token trailers on all basis-dependent figures/tables; REPLAY-RFD trace IDs.

---

**Pseudocode (normative skeleton).**

```text
function BASIS_DISCLOSURE_CHECK(receipt, III):
    U = III.basis.U; assert IS_UNITARY(U, tol=III.rounding.unitary_tol)
    phi = III.basis.phi_ref
    settings = LOAD_ANALYZER_SETTINGS(receipt)
    out = REPLAY_RFD(receipt, id="basis/phase-card")
    V = ROUND(VISIBILITY(out.dark_windows), III.rounding.visibility)
    ID = ROUND(DARK_PORT(out.dark_windows), III.rounding.intensity)
    if V < III.basis.visibility_min or ID > III.basis.dark_leak_max: return FAIL
    if not THREE_GRID_ALIAS_REFUTER(III.rg.H, III): return FAIL
    return PASS
```

**Design intent.**
Basis disclosure removes “secret phase knob” stories. By pinning the state map, analyzer angles, and phase reference—and demanding dark-window, phase-robust visibility—the same rounded decision must result for *any* admissible observer who replays the method.

---

# 9. Witness Program and Agentless Limit
## 9.1 CHSH-style tests and admissibility reporting

**Purpose.**
CHSH-style experiments provide a standardized **WITNESS** program that stresses the Gravastar stack in the *agentless* limit: independent stations, UTC-anchored timing, seeded settings, pairing without narrative discretion, and concentration bounds that compare an empirical witness $W(n)$ to **separable bounds** $B(n)$. Passing CHSH does **not** assert new physics; it demonstrates that floors dominate $\Phi$ and that the receipts, timing, and pairing are sufficient for open-join audit.

---

**Trial model (pinned).**
Each trial $t=1,\dots,n$ produces:

* settings $a_t\in\{0,1\}$ at station $A$, $b_t\in\{0,1\}$ at station $B$ (drawn by a pinned RNG; §5.6);
* outcomes $x_t,y_t\in\{-1,+1\}$ (declared mapping from hardware codes to $\pm1$);
* UTC-LCRO timestamps for **setting emission**, **analyzer freeze**, **detection**, and **readout** at both stations.

**Pairing rule (pinned).**
`witness.pair_rule ∈ { "herald", "time_tag" }`:

* **Herald:** trials indexed by a common event (e.g., pump pulse ID).
* **Time-tag:** nearest-neighbor within window $w$ (pinned), with a deterministic tiebreaker and a fixed offset calibration. Pairing is **content-addressed** and bound in the receipt.

All comparisons use **round-before-compare** at precisions in **III.json**.

---

**Witness statistic and bound.**
Define the CHSH estimator

$$
S \;=\; E[A_0B_0]+\;E[A_0B_1]+\;E[A_1B_0]\;-\;E[A_1B_1],
$$

with $E[A_iB_j]=\frac{N_{++}+N_{--}-N_{+-}-N_{-+}}{N_{ij}}$ computed **per setting pair** $(i,j)$ from paired trials (rounded per **III.json**). Local-hidden-variable models imply $S\le 2$. The receipt **must** pin a finite-sample bound:

`witness.bound_spec ∈ { "Hoeffding-fixed-n", "Bentkus", "PBR-martingale" }`

which yields a rounded one-sided $p$-value (or confidence sequence) comparing the observed $W(n)$ (e.g., $S$ or a likelihood ratio) to the **separable** null. Report also a **no-signaling residual** card: marginals $E[A_i]$, $E[B_j]$ across remote settings (rounded), with a pinned test (e.g., $\chi^2$ or KS) and budget.

---

**Normative requirements (floors interact).**

1. **G-floor (§5.1).** Settings/outcome labels, units, and encodings map via a canonicalizer; any admissible re-description leaves the rounded $S$ and $p$-value invariant.
2. **PoS Screen (§5.2).** Neutrality-only operations: no post-selection by outcomes, settings, or “pretty” fringes.
3. **WITNESS (§5.3).** Publish `family="CHSH"`, `score_map_sha256`, `pair_rule`, `bound_spec`, ladder $n\in\{n_1,\dots,n_k\}$, and the bound cards $W(n)$ vs $B(n)$.
4. **CAUSALITY/ISO (§5.4).** UTC-LCRO latencies and station spacing yield a fitted **front-speed cap** $\hat c\le 1$ (rounded). Near-isotropy $A^\star$ is computed from setting frequencies; both floors must pass.
5. **CAPTION→RECEIPT (§5.5).** Every CHSH figure/table carries a **Caption→Receipt** token (mode `render` or `content`) binding bytes to the receipt.
6. **DETERMINISM (§5.6).** Settings RNGs are pinned (PRNG seeds/streams) or content-addressed (QRNG streams); analyzer/LO programs are byte-logged; nondeterministic kernels are forbidden.
7. **TTDA (§§6.1–6.3).** Clock badge valid; stream↔batch parity holds at the analysis cut; three-grid alias refuter (§8.3) and bidirectional scan discipline (§8.1) apply if scans are used (e.g., angle sweeps).

---

**Admissibility targets (declare in III.json).**

* `witness.target`: either **“LHV\_bound”** (demonstrate $S$ near 2 with floors passing) or **“quantum\_violation”** (observe $S>2$ with finite-sample bound and floors passing). Gravastar is agnostic to interpretation; $\delta$ is about **method admissibility**.
* `witness.S_precision`, `witness.p_precision`: rounding/tie policy for $S$ and $p$.
* `witness.ns_budget`: allowable rounded no-signaling residual.

**Decision hook.**
The CHSH card can contribute to $\Phi$ (evidence) but **cannot override floors**. A typical policy is: contribute $\Phi$ when (i) floors pass, (ii) $p\le p_{\min}$ (rounded), (iii) no-signaling residuals $\le$ budget, (iv) parity holds.

---

**Reporting (CHSH Card).**
Publish (rounded):

* **Settings & counts:** $N_{ij}$, $N_{++},N_{+-},N_{-+},N_{--}$ for each $(i,j)$; settings frequency table and $A^\star$.
* **Statistic & bound:** $S$ with CI or tail bound; $p$-value under `bound_spec`; ladder $W(n_\ell)$ vs $B(n_\ell)$.
* **No-signaling:** $E[A_i]$ across $b\in\{0,1\}$; $E[B_j]$ across $a\in\{0,1\}$; residual test and budget.
* **Timing/causality:** station separation, latency histograms, $\hat c$ and pass/fail.
* **RNG & pairing:** RNG spec (seed, stream), or QRNG receipt; `pair_rule` and $w$; offset calibration hash.
* **Parity & clocks:** stream↔batch parity verdict; UTC-LCRO badge token.
* **Receipts:** `receipt_sha256`, artifact token trailers, REPLAY-RFD trace IDs.

---

**Common non-compliance.**

* Post-selection (discarding trials by setting/outcome/phase);
* Phase or analyzer retuning *after* seeing outcomes;
* Ambiguous or non-replayable pairing (window $w$ changed per block; missing tiebreaker);
* Using wall-clock arithmetic (DST/locale) rather than UTC-LCRO;
* Single-grid binning without the three-grid alias refuter;
* Reporting unrounded $S$ while gates use rounded diagnostics.

**Admissible repairs.**

* Freeze analyzer/phase programs and publish bytes;
* Declare pairing once, bind in the receipt, and re-run REPLAY-RFD;
* Move rounding upstream and regenerate artifacts;
* Add three-phase binning and RTR ladder;
* Increase station spacing or tighten timestamping to fit $\hat c\le 1$.

---

**Pseudocode (normative skeleton).**

```text
function CHSH_CARD(paired_trials, III):
    # Extract per-setting tables
    T = TALLY_BY_SETTINGS(paired_trials)  # counts per (i,j) and outcome
    S = ROUND(CHSH_S(T), III.witness.S_precision)
    p = ROUND(BOUND_PVALUE(T, III.witness.bound_spec), III.witness.p_precision)

    # No-signaling and isotropy
    ns = ROUND(NO_SIGNALING_RESIDUALS(T), III.rounding.ns)
    Astar = ROUND(NEAR_ISOTROPY(T.settings), III.rounding.A_star)

    # Causality/ISO
    chat = ROUND(FRONT_SPEED_CAP(UTC_LCRO_TIMES(paired_trials)), III.rounding.c_hat)

    # Floors and parity
    if not FLOORS_PASS({G, PoS, WITNESS, CAUSALITY_ISO, CAPTION_RECEIPT, DETERMINISM}): return FAIL
    if not STREAM_BATCH_PARITY(pass_bytes, III): return FAIL
    if not THREE_GRID_ALIAS_REFUTER(III.rg.H, III): return FAIL

    publish_chsh_card(S, p, ns, Astar, chat, T, receipts)
    return PASS
```

---

**Design intent.**
CHSH-style tests are a **receipt discipline**: explicit settings, explicit pairing, explicit clocks, explicit bounds. They make it trivial for any admissible observer to re-run the analysis, verify floors, and reproduce the rounded statistics. The outcome that *counts* is not “mystery nonlocality,” but whether the claim is **admissible**—publicly reproducible, gauge-invariant, time-stable, and defeatable by a compliant counterexample.

## 9.2 Agentless limit: recovery of standard quantum predictions

**Setup.**
By **agentless limit** we mean: (i) no engineered-$\Phi$ dynamics are active; (ii) no adaptive, human, or learned policy modifies settings beyond the preregistered randomization; (iii) floors dominate $\Phi$; (iv) the experiment is specified entirely by **Receipt v2**, **III.json**, and **ScanProtocol v1**. Practically, this is a Bell/CHSH-style bench with pinned sources, analyzers, and RNGs; **PoS Screen** is neutral, **G-floor** holds, **UTC-LCRO** anchors all time, and **REPLAY-RFD** reproduces bytes and decisions.

**Claim (recovery).**
Under the agentless limit, Gravastar’s decision calculus **does not alter** quantum mechanical predictions. For CHSH-style tests and other witness families, long-run rounded diagnostics converge (within the pinned budgets and rounding) to the standard quantum values (e.g., $S\to 2\sqrt{2}$ for singlet-optimal angles), while floors enforce **no-signaling**, **local timing caps**, and **gauge invariance**. Hence:

* If quantum theory predicts a violation (e.g., $S>2$), then with sufficient trials and closed loopholes, **WITNESS** will cross its preregistered bound $B(n)$ and the gate returns $\delta=+1$ **iff** all floors pass.
* If quantum theory predicts no violation for the chosen state/angles, then $S\le 2$ within rounded budgets and the gate yields $\delta\in\{0,-1\}$ accordingly.

**Formal skeleton.**
Let $\mathcal{W}$ be a pinned witness (e.g., CHSH) computed from rounded tallies on dark windows and three-grid phases (§§8.1, 8.3). Let $B(n)$ be the preregistered separability bound with finite-sample correction and multiple-phase accounting. Then:

1. (**Consistency**) If outcomes are i.i.d. draws from the quantum model with parameters declared in **III.json** (state, basis $U$, angles, visibility min, dark-leak max), then for any fixed rounding policy,

$$
\Pr\!\bigl[\ \tilde{\mathcal{W}} \le \text{QM} - \epsilon\ \text{infinitely often}\ \bigr]=0
$$

for any $\epsilon>0$, and $\tilde{\mathcal{W}}\to \text{QM}$ almost surely as $n\to\infty$.

2. (**Admissibility**) Define the admission event

$$
\mathsf{ADM} \!:=\! \Big\{\ \tilde{\mathcal{W}} \!-\! \Delta(\Pi,\text{RG})\ >\ B(n),\ \ \text{Floors}=\textsf{pass}\ \Big\},
$$

where $\Delta(\Pi,\text{RG})$ is the declared classification and RG-grid budget. In the agentless limit, if QM predicts violation, $\Pr[\mathsf{ADM}] \to 1$ as $n\to\infty$; if not, $\Pr[\mathsf{ADM}] \to 0$.

3. (**No-signaling & causality**) **CAUSALITY/ISO** enforces that (i) fitted front-speed $\hat c \le 1$ (rounded), (ii) near-isotropy $A^\star$ lies within pinned tolerance, and (iii) marginal outcome distributions are invariant under remote setting changes within the rounding table. These constraints are **orthogonal** to $\mathcal{W}$ and ensure recovery does not introduce superluminal artifacts.

**Operational reading.**
Recovery means the **δ-gate** is a *wrapper* around standard quantum statistics with auditability: it admits exactly the runs that (a) exhibit the expected quantum signature to rounded precision and (b) are **receipt-true**, **time-coherent**, **gauge-invariant**, and **phase-robust**. If any of those floors fail—e.g., hidden timing skew inflates $S$—the claim is vetoed regardless of the nominal witness value.

**What is—and is not—asserted.**

* We **do assert** convergence of rounded witness estimates and gate decisions to those predicted by QM under the pinned model and closed-loophole practice (dark windows, basis disclosure, randomized settings, phase stability, alias refutation, parity, etc.).
* We **do not assert** new particles, fields, or modifications of the Born rule; nor do we privilege any interpretation. Gravastar contributes **method law** (PoS, floors, receipts), not microphysics.

**Conditions commonly breaking recovery (and thus yielding $\delta\neq +1$).**

* **Loopholes:** setting predictability (unvetted RNG), detection inefficiency below the pinned threshold, or setting-outcome timing entanglement;
* **Time faults:** watermark not passed when sealing windows; UTC-LCRO drift beyond limits;
* **Phase/basis opacity:** undisclosed analyzer rotations or re-phasing; visibility below the floor;
* **Binning bias:** single-grid tallies without the three-phase refuter;
* **Platform nondeterminism:** unpinned numeric modes or RNG reseeding.

**Reporting (Agentless Card).**
Publish: state & basis parameters; RNG provenance; closed-loophole checklist; rounded $\tilde{\mathcal{W}}$ with $B(n)$ and $p$-value method; no-signaling tests; $A^\star,\hat c$; parity and RG-grid spreads; Receipt v2 and REPLAY-RFD IDs. If recovery holds, $\delta=+1$ is admissible; if any compliant counterexample is found, the claim is defeated (§4.3).

## 9.3 Panels/coverage as evidence (why panels ≠ “all”)

**Purpose.**
Panels—finite cohorts of sites, users, devices, or reviewers—are valuable **evidence** for robustness and generality. They are **not** the definition of *“all.”* In Gravastar, *“acceptable to all”* means **universally admissible under open-join audit**: any admissible observer who follows the public method reproduces the rounded decision within budgets, and any compliant counterexample defeats the claim. Panels can **raise** or **lower** the acceptability field $\Phi$; they can never **set** the law or replace floors.

---

**Definitions.**

* **Admissible observers.** The universe $\mathcal O_{\text{adm}}$ is defined by the declared observer-equivalence group $G$ (units, encodings, tokenization, locale, paraphrase, ordering) and the receipt-true method (§5.1, §7).
* **Panel.** A finite set $P=\{o_1,\dots,o_m\}\subset \mathcal O_{\text{adm}}$ with a **pinned** sampling frame, inclusion/exclusion rules, recruitment protocol, and site/device SBOMs.
* **Coverage metrics.** Declared summaries $C(P)$ (e.g., platform mix, geography, hardware classes, latency bands, demographic strata, task regimes). These are **descriptive** inputs to $\Phi$, not gates.

---

**Why panels ≠ “all”.**

1. **Quantifier mismatch.** Panels quantify *some*, not *all*. *All* in PoS is **methodological** (any admissible observer can replay) rather than **demographic**.
2. **Non-monotonicity.** A large, “representative” panel can still hide a single admissible counterexample; one compliant counterexample defeats the claim (§4.3).
3. **Gauge risk.** Coverage measured in one encoding/locale can mislead if $G$-canonicalization is weak; floors—not panel weights—secure invariance.
4. **Time drift.** High coverage at $t_0$ does not certify stability at $t_1$; TTDA governs that, not panel size (§6).

---

**Normative requirements (panels as evidence only).**

1. **No panel thresholds in gates.** $\delta$ **must not** depend on panel size/coverage targets; floors dominate $\Phi$.
2. **Pinned sampling frame.** Publish frame, recruitment, incentives, non-response treatment, and attrition rules (content-addressed in Receipt v2).
3. **SBOM per site/device.** Each panel element binds to code/data/hardware digests; platform parity is checked (§5.6).
4. **Open-join supremacy.** Provide an **open-join audit path**; panel evidence cannot bar new admissible observers from replay.
5. **Counterexample priority.** If any *new* admissible observer (outside $P$) finds a compliant counterexample, the claim is defeated regardless of $C(P)$.
6. **Rounding discipline.** All reported panel statistics use round-before-compare at III.json precisions (§2.1).
7. **TTDA parity across sites.** Streaming↔batch parity and UTC-LCRO clocks must hold per site and for the aggregate (§6.1–6.3).
8. **Alias refutation and scans.** If panel evidence aggregates time-binned results, apply the three-grid alias refuter and bidirectional scans where relevant (§8.1–8.3).

---

**How panels contribute to $\Phi$ (but not to $\delta$).**
Panels feed **auxiliary evidence** that can adjust $\Phi$ within declared caps, e.g.,

$$
\Phi \leftarrow \mathrm{clamp}\bigl(\Phi + \lambda_{\text{panel}}\cdot s(P),\,0,\,1\bigr),
$$

where $s(P)$ is a preregistered score (e.g., cross-platform parity, universality ratio $R(u)$, cross-site WITNESS agreement), and $0\le \lambda_{\text{panel}}\le \lambda_{\max}$ is fixed in **III.json**. Floors (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) are applied **after** this update and **dominate** $\Phi$.

---

**Interaction with floors.**

* **G-floor.** Coverage claims must hold under canonical re-description; locale/units/tokenization changes cannot alter the panel verdicts after rounding.
* **WITNESS.** If panels include multi-site CHSH or analogous witnesses, each site’s $W(n)$ vs $B(n)$ must be receipt-true; cross-site aggregation is *reporting only*.
* **CAUSALITY/ISO.** Device/site diversity cannot compensate for causality or isotropy failures; $\hat c\le 1$ and $A^\star$ must pass per site and in aggregate.
* **TTDA.** Site clocks, watermarks, and stream↔batch parity must pass individually and jointly.
* **CAPTION→RECEIPT.** All panel figures/tables carry caption tokens; per-site artifacts bind by bytes.

---

**Decision rule.**
A submission may claim **panel-supported evidence** iff:

* Floors pass for each site/device used in the claim;
* Panel reporting meets the normative requirements above;
* REPLAY-RFD regenerates per-site and aggregate artifacts with no first divergence;
* The **counterexample defeat rule** remains in force.
  Panels can **raise $\Phi$** within the preregistered cap but **cannot** turn a floor-fail into $\delta=+1$, nor can they certify “all.”

---

**Common non-compliance.**

* Treating “$X\%$ coverage” as proof of *all*;
* Cherry-picking sites or time windows;
* Using unpinned recruitment/attrition rules;
* Aggregating across sites with inconsistent rounding or clocks;
* Claiming representativeness without a declared frame and non-response audit.

---

**Admissible repairs.**

* Publish the sampling frame and re-run with pinned recruitment;
* Add missing SBOMs and enforce platform parity;
* Move rounding upstream and re-emit artifacts with caption tokens;
* Expand open-join capacity; log and honor compliant counterexamples.

---

**Reporting (Panel Card).**
Include: frame & strata; $|P|$ and per-stratum counts; SBOM digests; per-site floors and $\delta_i$; cross-site $R(u)$ and parity results; TTDA parity table; UTC-LCRO badge tokens; caption→receipt tokens; REPLAY-RFD trace IDs; and the panel score $s(P)$ with its $\lambda_{\text{panel}}$ cap.

---

**Design intent.**
Panels make *robustness legible*; floors and open-join make *universality enforceable*. Gravastar keeps these roles separate so that what “counts” is not who you sampled, but whether **any admissible observer** can reproduce—or defeat—the claim.

---

# 10. Engineered-$\Phi$ (Quarantined Dynamics)
## 10.1 Discrete Nonlinear Transport (DNT) model and parameters

**Role.**
DNT is an *optional, quarantined engineered-$\Phi$* layer that can produce “soliton-like” pulses for experimentation and scoring. It **cannot** relax floors or override gates: DNT outputs may only contribute evidence to $\Phi$ within preregistered caps. All DNT runs are receipt-true and subject to **G-floor**, **TTDA**, **REPLAY-RFD**, and **CAUSALITY/ISO** (must publish $\hat c$).

---

**State and graph.**
Let $G=(V,E,w)$ be a pinned, undirected weighted graph with $|V|=n$. The DNT state is $y_t\in\mathbb{R}^n$ (the **moral state** on nodes) evolved on discrete time $t=0,1,\dots$. We use the (combinatorial) graph Laplacian $L=D_{\deg}-W$ with $W_{ij}=w_{ij}\ge 0$, $D_{\deg}=\mathrm{diag}(\sum_j w_{ij})$. A canonical **graph spec**—node ordering, edge list, weights, units, scale—is content-addressed in **Receipt v2** and normalized by a **graph-canonicalizer** (label permutations $\pi$ satisfy $P_\pi^\top L P_\pi=L$ under canonical form; §5.1).

---

**Update law (explicit Euler, flux-limited nonlinearity).**
The baseline DNT step is

$$
y_{t+1} \;=\; y_t \;+\; \Delta t\Big[\, D\, L y_t \;+\; \mathcal{N}(y_t)\;+\; u_t \,\Big],
$$

with:

* **Diffusion $D\,Ly_t$** (graph transport/dispersion), $D>0$.
* **Nonlinearity $\mathcal{N}$** (bounded restoring/flux limit), default

  $$
  \mathcal{N}(y)_i = -\,\beta\,\tanh\!\Big(\frac{y_i}{\kappa}\Big),\qquad \beta>0,\ \kappa>0,
  $$

  which prevents blow-up, yields saturating drift, and supports pulse persistence against diffusion.
* **Exogenous drive $u_t$** (scripted injections/controls), pinned and hashed (no network).

**Optional dispersive term.**
If declared, a **bi-Laplacian** modifier

$$
-\alpha\,L^2 y_t,\quad \alpha\ge 0
$$

may be added to sharpen dispersion/nonlinearity balance. Any such term must be in **III.json** and pass stability/causality checks.

---

**Stability & causality constraints (explicit scheme).**

* **CFL-like bound (stability).** For explicit Euler with diffusion, require

  $$
  \Delta t \cdot D \cdot \lambda_{\max}(L) \;\le\; \gamma_{\text{CFL}},
  $$

  with $\gamma_{\text{CFL}}\!\le\!0.49$ (default). $\lambda_{\max}(L)$ is computed (or upper-bounded) and hashed in the receipt.
* **Bounded drift.** Enforce $|\mathcal{N}'(y_i)|\le \beta/\kappa$; publish the worst-case Lipschitz constant used in stability checks.
* **Front-speed cap.** Publish a fitted **causality cap** $\hat c\le 1$ obtained from multi-site level-set lags (threshold $\theta$ pinned). Floors veto if $\hat c>1$ after rounding (§5.4).
* **Determinism.** RNGs (if any) are frozen (§5.6). Numeric mode is pinned; no nondeterministic kernels.

---

**Observation & scoring (quarantined influence on $\Phi$).**
DNT never writes $\delta$. It emits **Pulse Cards**:

* **Pulse descriptors.** $\{t_0,\,\mathrm{center},\,\mathrm{width},\,\mathrm{amp}\}$ at injection; survival length; velocity estimate; energy proxy $E_t=\tfrac12 y_t^\top L y_t$; conservation residuals; $\hat c$.
* **Score map.** A preregistered scalar $s_{\text{DNT}}\in[0,1]$ (e.g., normalized survival·coherence) updates the acceptability field strictly within a cap:

  $$
  \Phi \leftarrow \mathrm{clamp}\!\big(\Phi + \lambda_{\text{DNT}}\cdot s_{\text{DNT}},\,0,\,\Phi_{\max}\big),\quad 0\le \lambda_{\text{DNT}}\le \lambda_{\text{cap}}.
  $$

Caps and the score definition are in **III.json**. Floors still **dominate** $\Phi$.

---

**Pinned parameters (III.json).**
Minimum fields to publish and hash in **Receipt v2**:

* `dnt.enabled: true|false`
* `dnt.L_spec`: canonical graph (nodes, edges, weights, units, scale, hash)
* `dnt.integrator: "euler_explicit"| "semi_implicit"` (if semi-implicit, pin solver tolerances)
* `dnt.dt_ms`, `dnt.steps`, `dnt.D`, `dnt.alpha` (for $L^2$ if used)
* `dnt.nonlinearity: {"type":"tanh", "beta":β, "kappa":κ}` (or other pinned form)
* `dnt.ic_spec`: initial condition generator (seed, distribution, or byte-listed vector)
* `dnt.u_schedule`: drive script (times, nodes, amplitudes; byte-log)
* `dnt.boundary`: treatment at graph boundary (absorbing/reflecting; normally inherited from $L$)
* `dnt.cfl_gamma`, `dnt.lam_max_bound` (value and method/hash)
* `dnt.levelset_theta` (for velocity/front estimates)
* `dnt.score_map`: definition of $s_{\text{DNT}}$ and `lambda_DNT` cap
* `dnt.cards`: list of Pulse Card IDs emitted
* `dnt.c_hat_target`: documented expectation and fitted $\hat c$

---

**G-invariance & canonicalization.**

* **Graph labels.** All reporting must be invariant to node relabeling via the graph-canonicalizer (publish its hash and version).
* **Units/scales.** If edge weights have units, publish conversions; G-floor canonicalizer normalizes them before evolution.
* **Tokenization/locale.** All labels in artifacts are canonicalized (§5.1); bytes bind via **CAPTION→RECEIPT** (§5.5).

---

**Reporting (DNT Card).**
Publish (rounded, hashed): parameter table; $\lambda_{\max}(L)$ bound and CFL check; $\hat c$ with confidence; Pulse descriptors and $s_{\text{DNT}}$; energy timeline $E_t$; parity & RG-grid verdicts; Receipt/SBOM hashes; REPLAY-RFD trace IDs. Any single floor fail ⇒ DNT evidence is ignored and cannot promote $\delta=+1$.

---

**Pseudocode (normative skeleton).**

```text
function DNT_STEP(y, L, p):
    # Stability check (one-time)
    assert p.dt * p.D * LAM_MAX_BOUND(L) <= p.cfl_gamma

    # Update
    diff  = p.D * (L @ y)
    nonlin = -p.beta * tanh(y / p.kappa)
    drive = U_SCHEDULE(p.t)                # deterministic script
    y_next = y + p.dt * (diff + nonlin + drive)

    # Cards
    pulse = EXTRACT_PULSE(y_next, p.theta)  # center,width,amp,velocity
    chat  = FIT_FRONT_SPEED(pulse.history)
    return y_next, {pulse, chat}

function RUN_DNT(y0, L, p, T):
    y = y0
    for t in 0..T-1:
        y, card = DNT_STEP(y, L, p._at(t))
        EMIT_DNT_CARD(card)                 # hashed, rounded
    return
```

---

**Design intent.**
DNT gives a *sandboxed* way to engineer coherent, pulse-like dynamics on graphs while staying inside Gravastar’s law. It is explicit, bounded, and replayable: every number is pinned; every byte is bound; speed is capped; floors dominate. If DNT helps your $\Phi$, it does so **only** by producing additional, falsifiable evidence that any admissible observer can replay to first divergence.

## 10.2 Causality cap reporting $\hat c$ and quarantine boundary

**Purpose.**
The engineered-$\Phi$ layer (DNT or any dynamics module) must **publish a fitted front-speed cap** $\hat c \le 1$ and operate behind a **quarantine boundary** that prevents it from relaxing floors or writing to the gate. The cap certifies that all reported pulse/transport phenomena are **sub-unit** under the declared metric/time base; quarantine guarantees that—even if dynamics are attractive—admissibility remains decided only by floors and $\delta$.

---

**Front-speed estimator (pinned).**
Let $G=(V,E,w)$ with a pinned **distance** $d(i,j)$ (graph geodesic or embedded Euclidean) and UTC-LCRO–anchored discrete times $t=0,1,\dots$. Fix a **level-set** threshold $\theta$ (in **III.json**). For each node $i$, define the **first-arrival time**

$$
\tau_i \;=\; \inf\{\, t \;:\; y_i(t) \ge \theta \,\}\quad\text{measured from **dark windows** only (rounded).}
$$

For each edge $(i,j)\in E$ with $\tau_i \neq \tau_j$, define the **pairwise speed**

$$
v_{ij} \;=\; \frac{d(i,j)}{\big|\,\tau_j - \tau_i\,\big|} .
$$

Evaluate on **three phase-shifted grids** $k\in\{0,H/3,2H/3\}$ (§8.3). The fitted cap is

$$
\hat c \;=\; \max_{k}\ \mathrm*{median\_trim}_{(i,j)\in E}\bigl( v_{ij}^{(k)} \bigr),
$$

with the trim and rounding precisions pinned in **III.json**. If embeddings use physical units, publish the unit map (e.g., $d$ in meters, $\Delta t$ in seconds) and the **normalization** that sets the lawful bound to **1**.

**Notes.**

* Interpolate $\tau_i$ within a bin only by a pinned **monotone** scheme (e.g., piecewise linear on dark-window means).
* If $\tau_i$ is undefined (no crossing), exclude $i$ from the max; publish the coverage fraction.
* Always compute and report **rounded** $\hat c$.

---

**Normative requirements.**

1. **Bounded cap.** The **rounded** estimator must satisfy $\hat c \le 1$. Any $\hat c>1$ ⇒ DNT evidence ignored and cannot promote $\delta=+1$.
2. **UTC/LCR0 time.** Use UTC-LCRO clocks (§6.1); bins are left-closed/right-open; three-grid alias refuter passes (§8.3).
3. **Dark-only sampling.** Level-set crossings and $\tau_i$ are computed from **dark windows** (§8.1–8.2).
4. **G-invariance.** Units/locale/tokenization canonicalization leaves $\hat c$ invariant after rounding (§5.1).
5. **Determinism.** Numeric mode, seeds, and interpolation are pinned and reproduced under **REPLAY-RFD** without first divergence (§7.3).
6. **Reporting ladder.** Publish $\hat c(H,k)$ per phase and the capped aggregate; RG-grid spreads must respect budgets (§6.2).

---

**Quarantine boundary (hard separation).**
The engineered-$\Phi$ module:

* **MAY read:** the pinned **III.json** manifest, its own parameters, and input data declared in its Receipt v2.
* **MAY write:** *only* **Pulse Cards** (descriptors, $\hat c$, energy proxy, persistence) and a bounded **score** $s_{\text{DNT}}\in[0,1]$ that adjusts $\Phi$ under a published cap $\lambda_{\text{DNT}}$.
* **MUST NOT:** alter floors, rounding tables, clocks, pairing rules, RNG seeds/streams, or $\delta$; inject side effects into witness computations; modify receipts or ScanProtocol; or condition any audit path on secrets.
* **FAIL-CLOSED:** If quarantine is violated (any attempted write outside the API, or any detected back-channel influence), the entire engineered-$\Phi$ contribution is **void** for admission.

---

**Decision rule (causality/quarantine pass).**
Pass iff: (i) $\hat c \le 1$ (rounded) across phases; (ii) three-grid alias refuter passes for the estimator; (iii) dark-window, UTC-LCRO usage is evidenced; (iv) REPLAY-RFD regenerates $\tau_i$, $v_{ij}$, and $\hat c$ with no first divergence; (v) quarantine API boundaries are honored. Any single failure ⇒ engineered-$\Phi$ evidence cannot contribute to $\Phi$, and $\delta$ ignores it.

---

**Common non-compliance.**

* Using bright-phase samples for $\tau_i$;
* Wall-clock arithmetic (DST/locale skew) vs UTC-LCRO;
* Single-phase binning (no alias refutation);
* Interpolation that is non-monotone or re-fits after seeing outcomes;
* Publishing $\hat c$ without the unit normalization;
* Letting DNT tune gate thresholds or seeds.

---

**Admissible repairs.**

* Move crossings into dark windows and pin a monotone interpolant;
* Add three-phase computation and RG-grid ladder;
* Publish distance metric, unit map, and normalization to $c=1$;
* Enforce quarantine through a process boundary and capability drop (no write handles to core artifacts);
* Re-emit **Receipt v2** with deterministic code paths; re-run **REPLAY-RFD**.

---

**Reporting (Causality Card).**
Publish: method spec (level-set $\theta$, interpolation, trim), $d(\cdot,\cdot)$ definition and units, $\hat c(H,k)$ table + aggregate, coverage fraction of nodes, RG-grid spreads, UTC-LCRO token, dark-window stats, Receipt/SBOM hashes, and REPLAY-RFD trace IDs. Declare `dnt.c_hat_target` and the observed $\hat c$.

---

**Pseudocode (normative skeleton).**

```text
function CAUSALITY_CAP(y_series, G, III):
    phases = [0, H/3, 2*H/3]
    chat_phase = []
    for k in phases:
        τ = {}
        for i in V:
            τ[i] = FIRST_LEVELSET_TIME(y_series[i], θ=III.dnt.levelset_theta,
                                       phase=k, dark_only=True, monotone_interp=True,
                                       rounding=III.rounding.time)
        speeds = []
        for (i,j) in E:
            if defined(τ[i]) and defined(τ[j]) and τ[i] != τ[j]:
                speeds.append( d(i,j) / abs(τ[j]-τ[i]) )
        v = TRIMMED_MEDIAN(ROUND(speeds, III.rounding.speed), III.dnt.trim)
        chat_phase.append(v)
    chat = ROUND(max(chat_phase), III.rounding.c_hat)
    return chat  # must satisfy chat ≤ 1
```

**Design intent.**
The causality cap turns “looks fast” into a **receipt-true** bound that any admissible observer can recompute. The quarantine boundary ensures engineered dynamics remain *evidence-only* and never smuggle influence into floors or $\delta$. Together they keep soliton engineering exciting—and **acceptable to all**.

## 10.3 Falsification windows and admissible deviations

**Purpose.**
Engineered-$\Phi$ modules (e.g., DNT) may **predict bounded departures** from the agentless baseline. To keep such claims admissible and defeasible, we require **falsification windows**—predeclared spacetime regions and diagnostics where a specific, quantized deviation is expected—and we constrain any observed deviation by **budgets** that preserve the floors. This section formalizes how windows are declared, how deviations are computed (rounded), and when they **count** as evidence versus **defeat** the claim.

---

**Window model (pinned).**
A falsification window $\mathcal{W}$ is a tuple

$$
\mathcal{W}=\bigl(\mathsf{where},\,\mathsf{when},\,\mathsf{what},\,\mathsf{how\_much}\bigr)
$$

declared in **III.json** and bound in **Receipt v2**:

* **where**: a node/edge subset $S\subseteq V$ or a geometric region (via a pinned metric $d$);
* **when**: UTC-anchored intervals $[t_1,t_2)$ defined on **dark windows** (§8.1–8.2), with the **three-grid** phases $k\in\{0,H/3,2H/3\}$ (§8.3);
* **what**: a rounded diagnostic $\mathcal{D}$ (e.g., $ \Phi_{\text{eff}},\,A^\star,\,\hat c,\,E_t,\,R(u)$, or a DNT pulse score $s_{\text{DNT}}$);
* **how much**: an **expected signed change** $\Delta^\star$ and an **admissible band** $[-\beta_-,\,\beta_+]$ with rounding/tie policy.

**Baselines.**
Each $\mathcal{D}$ must have a **pinned baseline** $\mathcal{D}_0$ computed from an **agentless control** (or pre-injection segment) using the same rounding and phase policy. If no agentless control is available, declare a **null envelope** (e.g., conservation bound) with receipt and justification.

---

**Deviation computation (rounded).**
For each phase $k$ and window $\mathcal{W}$,

$$
\Delta_k(\mathcal{W}) \;=\; \mathrm{ROUND}\!\left(\ \mathsf{AGG}_{S,[t_1,t_2),k}\bigl(\mathcal{D}\bigr)\ -\ \mathsf{AGG}_{S,[t_1^0,t_2^0),k}\bigl(\mathcal{D}_0\bigr)\ ,\ \mathrm{prec}(\mathcal{D})\right),
$$

where $\mathsf{AGG}$ is the pinned aggregator (mean, trimmed mean, quantile, etc.), and $[t_1^0,t_2^0)$ is the baseline interval. Report the **phase envelope**

$$
\Delta_{\max}(\mathcal{W})\;=\;\max_{k\in\{0,H/3,2H/3\}} \Delta_k(\mathcal{W}).
$$

**Admissible band test.**
A window **passes** its deviation test iff

$$
\Delta_k(\mathcal{W}) - \Delta^\star \;\in\; [-\beta_-,\,\beta_+] \quad \text{for all three phases } k,
$$

**and** the RG-grid spread (§6.2) across $(H,k)$ stays within the pinned budget

$$
\Delta_{\mathrm{RG}}\ \le\ \Pi_{\text{class}}+\varepsilon_{\text{join}}+\varepsilon_{\text{clock}}+\varepsilon_{\text{priv}}.
$$

---

**Normative requirements.**

1. **Pre-registration.** All windows, baselines, aggregators, precisions, and bands must be declared **before** any readout and bound by bytes in **Receipt v2**.
2. **Dark-only evaluation.** Compute diagnostics on **dark windows** only; bright traces are illustrative and non-gating.
3. **Three-grid alias refuter.** Every window is evaluated at phases $k\in\{0,H/3,2H/3\}$; $\delta$ must be **phase-invariant** (§8.3).
4. **UTC-LCRO time.** Window boundaries use the UTC badge (§6.1); no wall-clock arithmetic.
5. **Quarantine intact.** Engineered-$\Phi$ **must not** change floors, rounding, clocks, pairing, or $\delta$ (§10.2).
6. **Causality cap.** If a window’s diagnostic implies speed, publish $\hat c(H,k)$ and aggregate $\hat c\le 1$ (rounded); otherwise the window is void (§10.2).
7. **Counterexample rule.** A single compliant counterexample (any phase) that violates a window’s admissible band or quarantine defeats that window and, if essential to the admission claim, defeats the claim (§4.3).

---

**Admissible deviations (what can “count”).**
Windows may contribute **positive evidence to $\Phi$** (within pinned caps) if *all* of the following hold:

* Floors pass (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM);
* Each window’s deviation lies within its admissible band in **all three phases**, and RG spreads respect budgets;
* The **Causality Card** reports $\hat c \le 1$ when applicable;
* REPLAY-RFD reproduces the per-phase window diagnostics **without** first divergence.

Such evidence can adjust $\Phi$ via a pinned map, e.g.,

$$
\Phi \leftarrow \mathrm{clamp}\!\bigl(\Phi + \lambda_{\text{win}}\cdot g(\Delta_{\max}-\Delta^\star),\,0,\,\Phi_{\max}\bigr),
$$

with $\lambda_{\text{win}}$ capped in **III.json** and $g$ monotone-saturating (declared).

---

**Falsification (what defeats).**
A window is **falsified** if **any** of these occur:

* $\Delta_k(\mathcal{W}) - \Delta^\star \notin [-\beta_-,\,\beta_+]$ for some phase $k$;
* RG-grid spread exceeds budget;
* $\hat c > 1$ (rounded) for any phase when speed is implicated;
* REPLAY-RFD finds first divergence **within** the window pipeline;
* Quarantine breach (engineered-$\Phi$ mutates floors/$\delta$ path).

If the admission claim **relies** on that window to cross $\Phi_{\min}$, then the claim is defeated (supersession applies; §4.3).

---

**Common non-compliance.**

* Post-hoc window placement or band tuning after seeing data;
* Baselines computed on bright windows or with different rounding/phase policy;
* Single-phase evaluation;
* Hidden normalization changes between agentless and engineered runs;
* Using the same data to set $\Delta^\star$ and to validate it (no holdout);
* Reporting unrounded deviations in figures while gates use rounded diagnostics.

---

**Admissible repairs.**

* Re-declare windows with a **holdout** control and re-run with receipts;
* Move rounding upstream and unify aggregator code paths for baseline and window;
* Add three-phase computation and RG budget checks;
* Publish the unit map/normalization for speed-like diagnostics;
* Strengthen quarantine via process isolation and capability drop.

---

**Reporting (Falsification Card).**
For each window: $S,[t_1,t_2),\mathcal{D},\mathsf{AGG}$; baseline spec; $\Delta^\star, [-\beta_-,\beta_+]$; per-phase $\Delta_k$ (rounded), RG spreads, parity verdict; $\hat c(H,k)$ if applicable; Receipt/SBOM hashes; UTC-LCRO token; REPLAY-RFD trace IDs; and the resulting $\Phi$ update with $\lambda_{\text{win}}$ cap.

---

**Pseudocode (normative skeleton).**

```text
function EVAL_WINDOW(window, data, III):
    phases = [0, H/3, 2*H/3]
    Δ = {}
    for k in phases:
        Dx = AGG_DIAG(data.dark, window.S, window.t, k, III)          # rounded
        B0 = AGG_DIAG(data.dark, window.S, window.t0, k, III)         # rounded
        Δ[k] = ROUND(Dx - B0, III.rounding[window.D])
    if any(Δ[k] - window.Δ★ not in [-β-, β+] for k in phases): return FAIL
    if RG_SPREAD(Δ.values(), III.rg.budgets) > III.rg.total: return FAIL
    if window.implicates_speed and CHAT(data, III) > 1: return FAIL
    publish_falsification_card(window, Δ, receipts)
    return PASS
```

**Design intent.**
Falsification windows turn “interesting dynamics” into **pre-committed, defeasible predictions**. By pinning *where/when/what/how much*, evaluating only on dark windows, sweeping phases, capping speed, and binding bytes to receipts and replay, the same rounded verdict is reachable by **any admissible observer**—and a single compliant counterexample suffices to defeat it.

---

# 11. Adamas-1D Physical Testbed
## 11.1 Hardware & setup (e.g., CNT strain/spectroscopy runs)

**Scope.**
This section pins a minimal, receipt-true configuration for **Adamas-1D**—a bench that exercises the Gravastar stack on a one-dimensional physical system. The exemplar is a **single-walled carbon nanotube (CNT)** under controlled **axial strain** with **electrical transport** and **optical spectroscopy** readout. All items called “pinned” must appear in **III.json** and be bound by **Receipt v2** (SBOMs, firmware hashes, thresholds, energy). Floors (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) **dominate** $\Phi$.

---

**Specimen & mounting (pinned).**

* `sample.id`, provenance (fab/lot), chirality or distribution if known; SEM/AFM pre-images (byte-bound).
* Suspended or substrate-supported CNT geometry; clamp separation $L_0$ with uncertainty.
* Mount: piezo flexure or micro-cantilever for axial strain; backlash-free, closed-loop encoder.
* Contact scheme: 2- or 4-terminal pads; metallization stack and anneal history.

**Actuation & strain metrology.**

* Strain command $\varepsilon_{\text{cmd}}$ generated by closed-loop stage; *independent* metrology $\varepsilon_{\text{meas}}$ by **one** of: (i) optical interferometer path change, (ii) calibrated Raman shift vs strain ruler, (iii) encoder + compliance model (declared).
* Pin conversion $\varepsilon_{\text{meas}} = f(\text{sensor bytes})$ with uncertainty; report both $\varepsilon_{\text{cmd}}$ and $\varepsilon_{\text{meas}}$.
* Reset mechanics: actuator home profile and **$\ge 3\cdot\tau_{\text{reset}}$** dark hold between scans (§8.2).

**Optical instrumentation (if used).**

* Laser line(s) (e.g., 532 nm / 633 nm), *pinned* power at sample, spot size estimate, and safety interlocks.
* Spectrometer model, grating, slit, and wavelength calibration (Ne/Ar or etalon); detector gain/linearity file hashes.
* Raman/PL acquisition windows: **bright** and **dark** windows declared; **dark-window** statistics feed floors/gates (§8.1).
* Basis disclosure when phase/interference used (LO/PLL, polarization analyzers) with **bright/dark** definitions (§8.4).

**Electrical instrumentation (if used).**

* Source-measure unit (SMU) ranges, compliance, filter settings; lock-in frequency and reference phase (if used).
* Wiring map (4-wire vs 2-wire), shielding, temperature sensors; bias schedule scripted and hashed.
* Sampling rates and anti-alias filters; DAQ clock source tied to **UTC-LCRO** badge (§6.1).

**Environment.**

* Ambient vs vacuum or controlled gas; pressure and composition sensors; temperature control (cryostat or stabilized stage).
* Vibration/isolation notes and enclosure state; magnetic field (if any) with probe calibration.

**Timing & control (TTDA).**

* All devices time-stamped via a single **UTC-LCRO** badge; publish skew bounds and leap table.
* **Streaming↔Batch** parity at the analysis cut obeys $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$ (§6.3).
* **Three-grid alias refuter** used for all time-binned diagnostics with $H$ and phases $k\in\{0,H/3,2H/3\}$ (§8.3).

**Determinism & SBOM.**

* Pin OS build, drivers, firmware, microcode; numeric mode (BLAS, GPU kernels), PRNG streams/seeds.
* Data path is content-addressed (lossless formats); **CAPTION→RECEIPT** binds every figure/table to bytes (§5.5).
* No nondeterministic kernels in gate paths (§5.6).

**Calibration runs (receipt-true).**

* **Optical**: wavelength ruler, instrument response, dark current; Raman/PL shift ruler if used as strain metrology.
* **Electrical**: zero-bias noise, contact resistance (Kelvin), instrument linearity.
* **Actuation**: stage linearity & hysteresis loop; encoder-metrology crosscheck.
* **Phase/basis** (if applicable): fringe sweep and visibility $V$ ≥ `visibility_min`; dark-leak ≤ `dark_leak_max` (§8.4).
  All calibrations have **pre/post** copies bound in the receipt; post-drift beyond budget invalidates admission.

**ScanProtocol v1 (normative).**

* Bidirectional strain scans: up and down ladders over $\varepsilon$ with **dark-window** readout; report hysteresis from dark windows (§8.1).
* Reset holds **$\ge 3\cdot\tau_{\text{reset}}$** at ladder ends (§8.2).
* Three-grid binning for all time-series–derived fits (§8.3).
* If phase matters, **basis disclosure** and bright/dark labeling required (§8.4).

**Witness & floors on Adamas-1D.**

* **WITNESS** card may use cross-metric correlations (Raman–transport lockstep) or CHSH-style electrical/optical coin flips (agentless variant).
* **CAUSALITY/ISO**: compute near-isotropy $A^\star$ for setting distributions; fit front-speed $\hat c$ for any propagating fronts (must satisfy $\hat c\le 1$, rounded) (§5.4).
* **G-floor**: invariance under units/encodings/tokenization; locale/format changes do not alter rounded diagnostics (§5.1).

**Outputs & reporting (cards).**
Publish, all **rounded** to III.json precisions and bound by **Receipt v2**:

* **Scan Card**: $\varepsilon_{\text{cmd}}, \varepsilon_{\text{meas}}$ traces, up/down hysteresis, reset waits.
* **Spectroscopy Card**: peak positions/widths/areas (dark-window), calibration refs, power at sample.
* **Transport Card**: $I\!-\!V$ curves or $R(\varepsilon)$, lock-in params, noise spectra.
* **Causality/ISO Card**: $A^\star$, $\hat c$ table per phase $k$ and aggregate.
* **Panel/Parity Card** (if multi-device): site SBOMs, parity verdicts, UTC-LCRO tokens.
* **REPLAY-RFD** trace IDs for end-to-end regeneration to first divergence (§7.3).

**Safety & compliance.**

* Laser interlock and MPE compliance; ESD and HV handling for SMUs; cryogen procedures if applicable.
* Energy/temperature budgets pinned; runs aborted if thresholds exceeded (receipt-logged).

**Design intent.**
Adamas-1D provides a **simple, one-dimensional, strain-tunable** platform where the same rounded decision emerges for **any admissible observer** who replays the pinned hardware, timing, and analysis. The bench is for **method law**—floors, receipts, parity—not for narrative: if a result depends on undisclosed strain rulers, phase knobs, or bin edges, it does **not** count.

## 11.2 $\delta$-windows, byte-equality receipts, and end-to-end REPLAY-RFD

**Purpose.**
This section makes the Adamas-1D bench *decisionable*: we (i) segment runs into **$\delta$-windows** where a constant gate value is warranted under floors; (ii) bind every artifact to its **Receipt v2** **by bytes**; and (iii) require a full **REPLAY-RFD** (Replay-to-First-Divergence) from raw acquisition to the issued $\delta$. Any admissible observer who replays the path must obtain the same **rounded** verdict.

---

**$\delta$-window definition (pinned).**
Let $u$ be the control axis (e.g., strain $\varepsilon$) and $t$ the UTC-anchored time. A **$\delta$-window** is a maximal Cartesian product

$$
\mathcal{W}_\delta \;=\; [u_1,u_2]\times [t_1,t_2)
$$

such that, for **all** samples in $\mathcal{W}_\delta$:

1. **Floors pass** (G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM).
2. **TTDA** constraints hold (UTC-LCRO badge valid; stream↔batch parity $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$; §6).
3. The **rounded** gate statistic(s) computed per **III.json** (precision, tie) yield a **constant** $\delta\in\{-1,0,+1\}$.
4. **Three-grid alias refuter** (§8.3) passes for any binned diagnostic used by the gate.

Edges are **exclusive**: extending $\mathcal{W}_\delta$ in $u$ or $t$ either flips $\delta$ after rounding or violates a floor. Windows are detected separately on **up** and **down** ladders (ScanProtocol v1) and reported with hysteresis if present.

**Pinned fields (III.json).**
`delta.gate_spec`, `delta.stats` (names → scripts), `delta.precision`, `delta.tie_policy`, `delta.min_window_duration`, `delta.min_window_extent_u`, and the list of **admissible** diagnostics feeding $\delta$.

---

**Byte-equality receipts.**
Every claim-bearing artifact (figure, table, metric table, decision file) is bound to a **Receipt v2** whose **content-addressed** fields include:

* **Acquisition bytes**: raw sensor/DAQ files, instrument logs, clock badge dumps.
* **Environment/SBOM**: OS, drivers, firmware, microcode, numeric mode; analyzer and phase programs; PRNG seeds/streams.
* **III.json**: budgets, floors, rounding/tie, gate spec, ScanProtocol v1 parameters.
* **Pipelines**: exact scripts/containers (hashes) from raw → cleaned → features → gate statistics → $\delta$.
* **Energy/limits**: power/temperature budgets and trip events.

Artifacts carry **caption→receipt token trailers** (mode `content` for raw/CSV/NPZ/Parquet; mode `render` for PDFs/PNGs) so that rendered plots and underlying data each verify **byte-equality** against the receipt.

---

**End-to-end REPLAY-RFD (normative).**
REPLAY-RFD re-executes the **declared** pipeline and stops at the **first divergence** (byte or rounded number) relative to the publisher’s run. Passing REPLAY-RFD requires:

1. **Determinism**: all non-deterministic paths are disabled or pinned; seeds fixed (§5.6).
2. **Bit-for-bit** regeneration of intermediate artifacts that are declared “content-bound”; tolerance-bounded regeneration of “render-bound” artifacts (then rounded and compared).
3. **Floor checks** recomputed from bytes; verdicts identical after rounding.
4. **Gate stats** recomputed; same rounded $\delta$ on the same $\delta$-window set.
5. **Explainability**: `explain_url` or equivalent path enumerates inputs → transforms → outputs.

**Disambiguation.** REPLAY-RFD is an **audit/repro** procedure, **not** the Cook–Mertz *Tree Evaluation [2,3,4]* problem (§7.3).

---

**Operating procedure (Adamas-1D).**

1. **Scan & segment.** Execute the bidirectional strain scan with dark-window readout (§8.1–§8.2). Segment time into three phase-shifted grids (H, $H/3$, $2H/3$; §8.3).
2. **Compute floors.** For each segment: G-floor canonicalization; WITNESS pairing/bounds (if used); $A^\star$, $\hat c$ (if fronts are present); determinism and caption binding checks.
3. **Gate stats → $\delta$.** Apply `delta.gate_spec` on **dark windows** only; round per III.json; form maximal $\delta$-windows on up and down ladders.
4. **Emit cards.** For each $\delta$-window: publish extent $[u_1,u_2]\times[t_1,t_2)$, ladder (up/down), floor passes, gate stats, and the **$\delta$ value**. Bind all card bytes in Receipt v2.
5. **REPLAY-RFD.** Provide a replay script that consumes only the receipt’s content-addresses and reproduces all above to first divergence.

---

**Decision rule (site admission).**
A site may claim **$\delta=+1$ admission** on a window $\mathcal{W}_\delta$ iff:

* All floors pass in $\mathcal{W}_\delta$ for **all three** phase grids;
* Stream↔batch parity passes at the analysis cut;
* Byte-equality holds for content-bound artifacts; render-bound artifacts match after rounding;
* REPLAY-RFD finds **no** divergence prior to the $\delta$ record;
* The $\delta$-window is maximal and reported for both scan directions.

Any single failure → the window cannot contribute $\delta=+1$.

---

**Common non-compliance.**

* Joining “almost-passing” regions into an over-long $\delta$-window;
* Using bright-phase data in gate statistics;
* Regenerating figures with different font/layout that changes glyph positioning (breaks `render` tokens);
* Hidden locale/unit changes that alter rounded values;
* Stream analysis using a different rounding table than batch;
* Replay depending on unpinned network fetches or nondeterministic kernels.

**Admissible repairs.**

* Re-segment windows with pinned minimal extents and re-emit;
* Move rounding upstream and fix a single rounding table for both paths;
* Convert render-bound plots to **content-bound** (embed data dumps alongside SVG/PNG);
* Canonicalize units/locale before feature extraction;
* Containerize the pipeline; freeze seeds and numeric libraries.

---

**Reporting (Window Card & Admission Ledger).**
For each $\mathcal{W}_\delta$: $[u_1,u_2]$, $[t_1,t_2)$, ladder, gate stat table (rounded), floor verdicts, TTDA parity, three-grid pass, Receipt/SBOM hashes, caption tokens, and REPLAY-RFD trace ID. Aggregate into a **site ledger** summarizing total **admitted** measure in $u$ and $t$, with hysteresis and confidence.

---

**Pseudocode (normative skeleton).**

```text
function BUILD_DELTA_WINDOWS(run, III):
    segments = PHASE_SEGMENT(run.dark_windows, H=III.rg.H)
    windows = []
    for seg in segments:
        floors_ok = FLOORS_PASS(seg, III)
        if not floors_ok: continue
        stats = GATE_STATS(seg, III)                # rounded per III.json
        δ = GATE_DECISION(stats, III)               # {-1,0,+1}
        windows.append((seg.u_range, seg.t_range, δ, stats))
    windows = MERGE_MAXIMAL_CONSTANT(windows, same_δ=True, floors=True)
    return windows

function REPLAY_RFD(receipt):
    for step in PIPELINE(receipt):
        out_pub = LOAD_PUBLISHED(step.artifact)
        out_re = RECOMPUTE(step, receipt.inputs)
        if step.mode == "content":
            if BYTES(out_pub) != BYTES(out_re): return DIVERGENCE(step)
        else:  # "render"
            if ROUND(COMPARE(out_pub, out_re), step.precision) != 0:
                return DIVERGENCE(step)
    return PASS
```

**Design intent.**
$\delta$-windows make *where and when* a decision holds explicit; **byte-equality** turns “the same analysis” into **the same bytes**; and **REPLAY-RFD** ensures any admissible observer can regenerate the result up to the exact point of disagreement. Together, they make the site’s admission claims **gauge-invariant, time-stable, and publicly reproducible**—and therefore fit to **count**.

## 11.3 Results summary and portability notes

**Scope.**
This section summarizes the Adamas-1D outcomes in a receipt-true, floor-first format, and states how the same method ports to other benches without changing the Gravastar law (PoS → TST → $\Phi$ → $\delta$ → receipts). Numbers below are *illustrative shells*; in a live run, every value is rounded per **III.json** and bound by **Receipt v2**.

---

**Minimum report set (rounded).**

* **Floor verdicts (per phase grid).**
  $A^\star$ (near-isotropy) **pass**; $\hat c\le 1$ **pass**; **G-floor** canonicalization **pass**; **PoS Screen** **pass**; **DETERMINISM** (seeds, numeric mode) **pass**; **CAPTION→RECEIPT** tokens verified **by bytes**.

* **TTDA parity.**
  $\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\Pi$ **pass** with parity margin and UTC-LCRO badge token.

* **Witness cards (if used).**
  $W(n)$ vs $B(n)$ ladder; one-sided $p$ rounded to policy; no-signaling residual within budget; settings frequency table supporting $A^\star$.

* **$\delta$-windows.**
  Maximal windows $\mathcal W_\delta=[u_1,u_2]\times[t_1,t_2)$ (up/down ladders) with constant rounded $\delta$; total admitted measure

  $$
  \mathrm{meas}_t(\delta{=}+1),\quad \mathrm{meas}_u(\delta{=}+1)
  $$

  and hysteresis gap (if any) reported from **dark windows**.

* **Core invariants (DII-4).**
  Universality ratio $R(u)$; near-isotropy $A^\star$; front-speed cap $\hat c$; $W(n)$ vs $B(n)$ (where applicable) — all **pinned** and rounded.

* **Receipts & replay.**
  Receipt v2 digests (code/data/SBOM/thresholds/energy), caption tokens for each figure/table, and **REPLAY-RFD** trace IDs showing “no first divergence” end-to-end.

---

**Typical outcome narrative (normative).**

1. **Floors dominate $\Phi$.** All floor cards pass in three phase-shifted grids; no admission depended on bright-window statistics or locale/unit quirks.
2. **Time coherence.** UTC-anchored clocks validate; stream↔batch parity meets the bound; RG-grid spreads stay within budget.
3. **Admitted regions.** $\delta=+1$ windows occur in reproducible strain/time bands; adjacencies that fail floors or flip $\delta$ are excluded, making the windows maximal by definition.
4. **Agentless agreement.** Where the witness program is used (e.g., CHSH-style tallies on device coin flips), rounded diagnostics track baseline quantum predictions; no-signaling residuals remain under the declared budget.
5. **Soliton engineering (optional).** If engineered-$\Phi$ (DNT) is enabled, Pulse/Causality/Falsification cards are published; $\hat c\le 1$ holds; any contribution to $\Phi$ remains within capped influence and **never** alters floors or gate spec.

---

**Site Summary Card (what to publish).**

* Floor pass/fail table per grid $k\in\{0,H/3,2H/3\}$ and aggregate;
* TTDA parity margin and clock badge token;
* $\delta$-window ledger: $[u_1,u_2]\times[t_1,t_2)$, ladder, gate stats (rounded), $\delta$; totals $\mathrm{meas}_t,\mathrm{meas}_u$;
* DII-4 invariants with precisions;
* (If used) Witness ladder $W(n_\ell)$ vs $B(n_\ell)$, $p$-method, no-signaling residual;
* (If used) DNT Pulse/Causality/Falsification cards with $\hat c$, $s_{\text{DNT}}$, and $\Phi$ update caps;
* Receipt/SBOM hashes and **REPLAY-RFD** trace IDs;
* Open-join audit URL (`explain_url`) for reproductions.

---

**Common observations and how they “count.”**

* **Hysteresis in up/down ladders.** Reported from **dark windows** only; admissible if floors pass and rounding is consistent. Hysteresis may adjust $\Phi$ (evidence), never floors.
* **Drift across sessions.** If re-calibration remains within budgets and parity holds, prior $\delta$ windows stand; else supersession applies with a new receipt.
* **Panel variance (multi-device).** Panels increase $\Phi$ via a preregistered cap; a single compliant counterexample from any admissible observer defeats the claim (§9.3).

---

**Portability notes (microphysics-agnostic).**

* **To other 1-D tunables.** Nanowires, polymer waveguides, MEMS strings: reuse ScanProtocol v1 (bidirectional scans, resets, dark windows), TTDA, G-floor canonicalization, and $\delta$-windowing unchanged. Replace strain with the appropriate control $u$ and metrology map.
* **To optics-only benches.** Interferometers or cavity scans: adopt basis disclosure (bright/dark), visibility floors, and alias refuter; the witness and causality cards remain identical in structure.
* **To trapped-ion/superconducting stacks.** Settings RNGs, pairing, UTC-LCRO stamping, and REPLAY-RFD are drop-in; platform parity (SBOM) becomes more prominent; engineered-$\Phi$ stays quarantined.
* **To pure-software evaluations.** Treat datasets and models as devices; $\delta$-windows over hyperparameters or dataset slices; determinism and caption→receipt binding are identical; floors still dominate (G-floor, TTDA, CAPTION→RECEIPT, etc.).
* **Internationalization & units.** The G-floor canonicalizer ensures re-descriptions (locale, tokenization, units) preserve rounded diagnostics; portability requires no change to the decision rule.
* **Energy/safety envelopes.** Replace laser/cryogen budgets with the bench-appropriate resource caps; the **fail-closed** policy and receipts are unchanged.

---

**Failure modes and admissible repairs.**

* **Parity failure or clock drift.** Repair by re-emitting with unified rounding tables and corrected UTC-LCRO bindings; re-run REPLAY-RFD.
* **Front-speed anomaly $\hat c>1$.** Quarantine engineered-$\Phi$ evidence; publish causality investigation; admission reverts to agentless cards only.
* **Caption binding mismatch.** Convert render-bound plots to content-bound bundles; rebind tokens and re-issue the artifact.
* **Panel-only justification.** Move panel metrics to $\Phi$ evidence; re-establish open-join audit and floor dominance.

---

**Takeaway.**
Adamas-1D demonstrates that **what counts** is not the specimen but the **method**: floors that dominate $\Phi$, UTC-anchored timing with parity, byte-equality receipts, and REPLAY-RFD. With those in place, any admissible observer can reproduce the rounded verdicts—and any compliant counterexample can defeat them—on *any* well-described bench.

---

# 12. Falsification, Threat Models, and Governance
## 12.1 Open-join audit workflow and reproducibility budgets

**Goal.**
Any admissible observer can independently regenerate the published, rounded verdicts (floors → $\delta$) using only the public materials, and—if a **compliant counterexample** is found—defeat the claim. This section fixes the **open-join workflow** and the **reproducibility budgets** that bound permissible discrepancies without weakening floors.

---

**Who may join.**
Anyone who accepts the declared observer-equivalence group $G$ and uses the pinned method (**III.json**, **Receipt v2**, **ScanProtocol v1**, **REPLAY-RFD**). No identity, affiliation, or locale filtering; $G$ canonicalizes encodings, units, tokenization, and ordering (§5.1).

---

**Join materials (public, content-addressed).**

1. **Front matter & Abstract** (law + obligations).
2. **III.json** (budgets, thresholds, rounding, tie policy, gate spec, RG-grid).
3. **Receipt v2** (code/data/SBOM hashes, thresholds, energy limits, explain\_url).
4. **Pipelines** (containers/scripts; no network fetches).
5. **Artifacts** (raw→features→gate tables; caption→receipt tokens).
6. **ScanProtocol v1** parameters; **UTC-LCRO badge** dump; **parity reports**.
7. (If engineered-$\Phi$) DNT cards + causality card ($\hat c$) + falsification windows.

All items are byte-bound and immutable; supersession creates new addresses.

---

**Open-join workflow (normative).**
**Step 0 – Acquire.** Fetch the receipt bundle; verify hashes; lock OS/kernel/numeric mode as declared in SBOM.
**Step 1 – Canonicalize.** Apply $G$ canonicalizers (units/locale/tokenization/ordering) to inputs prior to feature extraction; verify that re-descriptions leave rounded diagnostics unchanged.
**Step 2 – Floors.** Recompute floors from bytes: **G-floor**, **PoS Screen**, **WITNESS**, **CAUSALITY/ISO** ($A^\star,\hat c$), **CAPTION→RECEIPT**, **DETERMINISM**. Floors **dominate** $\Phi$.
**Step 3 – TTDA.** Check clock badge; compute stream↔batch parity at the cut:

$$
\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\,\Pi .
$$

Verify RG-grid spreads within budgets (below).
**Step 4 – Gate & windows.** Using **dark-window** statistics only, compute gate diagnostics with **round-before-compare**; form maximal $\delta$-windows; record $\delta$.
**Step 5 – REPLAY-RFD.** Execute replay from raw to $\delta$; stop at *first divergence* (byte or rounded number). If none, record **PASS** and trace ID.
**Step 6 – Counterexample path.** If a compliant counterexample appears at any step (including alternative admissible re-description), file it; the claim is defeated (§4.3).

---

**Reproducibility budgets (declared in III.json).**
Budgets quantify *permitted* discrepancies that do **not** alter admissibility:

* **Classification budget $\Pi_{\text{class}}$.** The maximum discrepancy allowed when repeating the gate computation under the same rounding table (e.g., due to deterministic render-bound differences upstream that wash out after rounding).
* **Join budget $\varepsilon_{\text{join}}$.** Slack for packaging and OS-level benign nondeterminism that is neutralized by content-binding (e.g., file metadata ordering), measured as a bounded count of non-semantic byte deltas in **render-bound** artifacts; **content-bound** artifacts have zero join slack.
* **Clock budget $\varepsilon_{\text{clock}}$.** Maximum permitted discrepancy in time alignment after UTC-LCRO correction (e.g., bin edge assignment across the three phase grids).
* **Privacy budget $\varepsilon_{\text{priv}}$** (if DP or masking is declared). The additive noise envelope that still preserves the published rounded diagnostics.
* **RG-grid envelope.** The total spread across the ladder $\Omega(H,m,k)$ must satisfy

$$
\Delta_{\mathrm{RG}} \ \le\  \Pi_{\text{class}}+\varepsilon_{\text{join}}+\varepsilon_{\text{clock}}+\varepsilon_{\text{priv}} .
$$

**Inviolables.** Budgets **never** excuse violations of floors (G-floor, WITNESS bounds, $\hat c\le 1$, caption→receipt byte equality for content-bound artifacts, determinism of seeds/numeric mode) and **never** change the rounding precision or tie policy.

---

**What the auditor publishes (Audit Card).**

* Receipt/SBOM digests; container IDs; explain\_url.
* G-floor invariance checks (list of transforms tried); pass/fail.
* Floors table (per phase grid): PoS Screen, WITNESS $W(n)$ vs $B(n)$, $A^\star$, $\hat c$, CAPTION→RECEIPT tokens, DETERMINISM.
* TTDA parity value and UTC-LCRO badge verification.
* RG-grid spreads vs budget; $\Pi_{\text{class}}$, $\varepsilon_{\text{join}}$, $\varepsilon_{\text{clock}}$, $\varepsilon_{\text{priv}}$ consumption.
* $\delta$-window ledger (ranges, ladders, gate tables – rounded).
* REPLAY-RFD trace ID and status (PASS or divergence pointer).
* Counterexample status (none / filed with bytes & method).

---

**Normative requirements.**

1. **No secrets.** Reproduction must not require private keys, online licenses, or hidden datasets; if redaction is needed, provide a public **masked** bundle with DP/privacy budget declared.
2. **No network.** All artifacts are local; any network access is a fail.
3. **Single rounding table.** The same precision/tie policy applies to stream and batch.
4. **Dark-window gating.** Gates never use bright-window statistics; bright is illustrative only.
5. **Open queue.** The publisher maintains an open-join queue; no selective denial to admissible auditors.
6. **Supersession.** Any material fix emits a new receipt; old claims become historical and are not silently edited.

---

**Common failure patterns.**

* Locale/unit drift changing rounded values (violates G-floor canonicalization).
* Render-only artifacts used as gate inputs (must be content-bound or regenerated from content).
* Stream↔batch analysis using distinct rounding tables.
* REPLAY-RFD depending on external clock or NTP queries.
* Budgets declared but not consumed transparently in the Audit Card.

**Admissible repairs.**

* Move rounding upstream; unify tables; re-emit figures as content-bound bundles.
* Add missing canonicalizers (units/locale/tokenization).
* Publish masked data and declare $\varepsilon_{\text{priv}}$.
* Re-cut time bins with pinned UTC-LCRO badge; re-run three-phase alias refuter.
* Containerize numeric stack; freeze seeds.

---

**Design intent.**
Open-join turns *“acceptable to all”* into procedure: anyone can join, recompute, and either corroborate or defeat. Budgets make reproducibility **measurable** without diluting floors. If the same rounded decision does not reappear under the pinned method, the claim does not **count**.

## 12.2 Adversarial attempts (gauge violations, time-skew, aliasing)

**Goal.**
Enumerate high-value red-team tactics against Gravastar and the corresponding blue-team detectors/guards enforced by floors, TTDA, and REPLAY-RFD. Any *compliant* reproduction of an attack that causes a floor miss or violates invariance **defeats** the claim (§4.3).

---

**A. Gauge violations (G-floor).**
*Attack surface.* Change representation without changing meaning: units/locale flips, tokenization shifts, order/permutation of fields, paraphrase, zero-width glyphs, Unicode confusables.

* **Unit/scale poisoning.** Report in psi, compute in Pa; mix °C/°K; embed implicit factors (e.g., “%” vs “fraction”).
  **Detector.** Canonicalizer $\mathcal{C}_{G}$ maps all inputs to a pinned canonical form; compute

  $$
  \Delta_g=\left|J(\mathcal{C}_{G}(g\!\cdot\!s),\mathcal{C}_{G}(g\!\cdot\!a)) - J(\mathcal{C}_{G}(s),\mathcal{C}_{G}(a))\right|
  $$

  over a representative $g\inG_{\text{test}}$; require $\Delta_g<\eta$ at III.json precision.
  **Outcome.** $\Delta_g\ge \eta\Rightarrow$ G-floor fail ⇒ $\delta\neq+1$.

* **Locale/decimal & CSV traps.** “1,234” vs “1.234”; comma-decimal CSV; thin spaces; bidi markers.
  **Detector.** Canonical CSV/JSON loader with locale-independent parse; byte-level “round-trip” test: render→parse→render equals original after canonicalization (receipt-bound).
  **Outcome.** Parse mismatch or rounded divergence ⇒ fail.

* **Paraphrase/tokenization attacks.** Synonyms, punctuation, or zero-width joiners that alter token boundaries in learned models.
  **Detector.** Tokenization canonicalizer (version-pinned) + paraphrase equivalence harness; require identical rounded diagnostics pre/post $g\inG_{\text{ling}}$.
  **Outcome.** Any material change at gate precision ⇒ fail.

* **Permutation/order attacks.** Shuffled columns, re-ordered trials.
  **Detector.** Stable keys + sort before compute; permutation invariants checked (hashes of keyed joins).
  **Outcome.** Join mismatch or key collision ⇒ fail.

**Admissible repair.** Publish the canonicalization spec & tests in Receipt v2; re-emit artifacts with canonical bytes; extend $G_{\text{test}}$ set.

---

**B. Time-skew & clock games (TTDA).**
*Attack surface.* Shift stamps to cross window boundaries; exploit daylight/locale time; smear bright into dark windows; desync stream vs batch; watermark evasion.

* **Clock tilt.** Small monotone drift to bias binning or latency.
  **Detector.** UTC-LCRO badge; per-device $\epsilon_{\text{clk}}$ bounded; reject if $\epsilon_{\text{clk}}>$ III.json limit. Watermark tokens at acquisition and analysis cuts must match.
  **Outcome.** TTDA fail ⇒ $\delta\neq+1$.

* **Bright→dark bleed.** Emit during bright windows; attribute to dark by rounding.
  **Detector.** Dark-window only for gating (§8.1–8.2); strict LCR0 watermark; compare dark/bright deltas; any bright dependence in gate path ⇒ fail.

* **Stream↔batch skew.** Different rounding tables or eval order to flip a tie.
  **Detector.** Single pinned rounding table; parity check

  $$
  \bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\Pi
  $$

  with per-diagnostic parity diffs in the TTDA card.
  **Outcome.** Bound exceeded ⇒ fail.

* **Window boundary nudge.** Place effects on bin edges.
  **Detector.** Three-phase segmentation $k\in\{0,H/3,2H/3\}$; require phase-invariant $\delta$.
  **Outcome.** Phase flip ⇒ alias/TTDA fail.

**Admissible repair.** Re-anchor to UTC; unify rounding tables; re-segment with three-grid; re-collect with longer dark holds.

---

**C. Aliasing & sampling tricks (ScanProtocol v1).**
*Attack surface.* Undersample a periodic effect; choose $H$ to hide oscillations; reconstruct with non-monotone interpolants.

* **Single-grid exploitation.** Choose a fortuitous bin origin.
  **Detector.** **Three-grid alias refuter** (§8.3): compute diagnostic on $\{0,H/3,2H/3\}$; require agreement within RG budget.
  **Outcome.** Spread exceeds budget ⇒ fail.

* **Non-monotone interpolation.** Introduce overshoot between dark samples.
  **Detector.** Pinned **monotone** interpolant for any level-set/arrival calculations; publish code hash; REPLAY-RFD re-computes.
  **Outcome.** Divergence at first interpolant step ⇒ fail.

* **Reset starvation.** Skip $\ge 3\cdot \tau_{\text{reset}}$; carry memory effects across scans.
  **Detector.** Reset timers in receipts; dark-hold verification; hysteresis must be measured from **dark windows** only.
  **Outcome.** Protocol miss ⇒ fail.

**Admissible repair.** Increase sampling, add phase sweeps, enforce reset waits, pin monotone interpolation.

---

**D. Determinism & numeric nondeterminism (DETERMINISM).**
*Attack surface.* Change BLAS/GPU kernels, mixed precision, or PRNG seeds to flip ties.

* **Kernel drift.** Different library versions reorder FP reductions.
  **Detector.** SBOM hashes; numeric mode pinned; render vs content-bound artifacts compared; gate statistics rounded *before* compare.
  **Outcome.** REPLAY-RFD divergence ⇒ fail.

* **RNG reseeding.** Hidden randomness in preprocessing.
  **Detector.** Global RNG freeze; seed disclosure; audit that gate path is RNG-free.
  **Outcome.** Any stochastic gate path ⇒ fail.

**Admissible repair.** Containerize; fix seeds; promote content-bound tables alongside figures.

---

**E. Receipt/caption games (CAPTION→RECEIPT).**
*Attack surface.* Edit captions post-hoc; swap data files; rely on renderer heuristics.

* **Caption drift.** Human-edited caption no longer describes bytes.
  **Detector.** Caption→receipt token trailers; byte-equality for content-bound; render-bound plots validated against embedded data dump.
  **Outcome.** Token mismatch ⇒ fail.

* **Path spoofing.** Same name, different bytes.
  **Detector.** Content addresses (hashes) only; no path trust.
  **Outcome.** Hash mismatch ⇒ fail.

**Admissible repair.** Rebind captions to data; publish both render- and content-bound artifacts.

---

**F. Quarantine breaks (engineered-$\Phi$).**
*Attack surface.* Let DNT write to floors or gate parameters; tune rounding/clocks based on outcomes.

* **Side-channel writes.** DNT mutates III.json or gate thresholds.
  **Detector.** Process boundary + capability drop; audit API: DNT may only emit Pulse/Causality/Falsification cards and a bounded $s_{\text{DNT}}$.
  **Outcome.** Any mutation attempt ⇒ quarantine fail ⇒ ignore engineered evidence; if essential, defeat claim.

* **Causality cheat.** Post-hoc redefine distance or units to keep $\hat c\le 1$.
  **Detector.** Pinned metric $d(\cdot,\cdot)$ and unit map; compute $\hat c$ on three phases from **dark** data only (§10.2).
  **Outcome.** $\hat c>1$ (rounded) ⇒ engineered evidence void.

**Admissible repair.** Enforce process isolation; publish metric/units; re-run with pinned estimator.

---

**G. Panel gaming (coverage ≠ “all”).**
*Attack surface.* Cherry-pick devices/sites/time zones; claim “representative” coverage as a gate.

* **Selective inclusion.** Exclude failing strata.
  **Detector.** Pinned sampling frame; attrition & non-response logs; open-join audit path.
  **Outcome.** Panels cannot set $\delta$; any compliant counterexample defeats (§9.3).

**Admissible repair.** Publish frame; reopen join; move panel effects to $\Phi$ with capped weight.

---

**Red-team table (summary).**

| Attack                      | Floor/guard     | Test                                   | Gate effect               |
| --------------------------- | --------------- | -------------------------------------- | ------------------------- |
| Units/locale poisoning      | G-floor         | $\Delta_g<\eta$ after canonicalization | Fail if violated          |
| Clock tilt / watermark skip | TTDA            | UTC-LCRO badge, parity bound           | Fail if exceeded          |
| Single-grid aliasing        | Scan v1         | Three-grid refuter                     | Fail if spread>budget     |
| RNG/numeric drift           | DETERMINISM     | SBOM+REPLAY-RFD                        | Fail on divergence        |
| Caption swap                | CAPTION→RECEIPT | Byte-equality tokens                   | Fail on mismatch          |
| DNT quorum breach           | Quarantine      | API audit, $\hat c\le 1$               | Engineered evidence void  |
| Panel cherry-pick           | PoS/G-floor     | Open-join, counterexample              | Panels never set $\delta$ |

---

**Pseudocode (adversarial sweep).**

```text
function ADVERSARIAL_AUDIT(receipt, III):
    assert G_CANONICAL(receipt.inputs, III).invariance() < III.eta
    assert UTC_LCRO_OK(receipt.badges) and PARITY_OK(receipt.parity, III.Pi)
    assert THREE_GRID_OK(receipt.phase_cards, III.rg_budgets)
    assert DETERMINISM_OK(receipt.SBOM, receipt.replay)           # REPLAY-RFD
    assert CAPTION_BIND_OK(receipt.caption_tokens)
    if DNT_ENABLED(III):
        assert QUARANTINE_OK(receipt.dnt.api) and CHAT_OK(receipt.dnt.chat)
    assert OPEN_JOIN_OK(receipt.audit_url)
    return PASS
```

**Design intent.**
The same thing that makes Gravastar **auditable** makes it **attack-resistant**: floors dominate $\Phi$, time is UTC-anchored with parity, diagnostics withstand admissible re-descriptions, bytes bind to claims, and any admissible observer can **replay to first divergence**. If an adversary can produce a compliant counterexample, the claim is defeated—as designed.

## 12.3 Supersession, versioning, and public revocation

**Purpose.**
Keep the public record exact, non-editable, and forward-correcting. When claims change, we do not rewrite history; we **supersede** or **revoke** and publish new, receipt-bound artifacts with explicit links and reasons. Old records remain replayable but **stop counting** toward admissibility once superseded or revoked.

---

**Objects and identifiers.**

* **Claim ID.** The primary identifier is the **Receipt v2 content address** (hash of the receipt payload).
* **Edition tag (human-facing).** Optional semantic version (e.g., `v1.2.0`) for readability; **non-authoritative**.
* **Supersession edge.** Directed link `supersedes: [<prior-claim-id>…]` carried in the new receipt.
* **Tombstone.** Public marker that a prior claim is no longer admissible (with reason code and UTC time).

---

**Events (what can change).**

* **Erratum (doc-only).** Text/figures clarified; **gate path bytes unchanged**; floors unaffected; $\delta$ identical after rounding.
* **Minor correction (non-gating).** Pipeline or data re-emit that is **byte-different** but provably leaves floors and $\delta$ unchanged (e.g., plot styles; added content-bound tables).
* **Supersession (gating).** Any change that **could** alter floors, budgets, rounding tables, III.json thresholds, or gate statistics—regardless of observed outcome.
* **Public revocation.** Immediate withdrawal when a **compliant counterexample**, **floor failure**, or **REPLAY-RFD divergence** is verified and a corrected edition is **not yet** ready.

---

**Triggers (normative).**
Issue a **superseding** receipt when **any** of the following occur:

1. **Counterexample** verified under open-join (§12.1) that defeats a used window or gate (§4.3, §10.3).
2. **Floor violation** discovered post-publication (G-floor, WITNESS, CAUSALITY/ISO $\hat c>1$, CAPTION→RECEIPT, DETERMINISM).
3. **TTDA breach** (clock badge invalid, parity bound exceeded) affecting any $\delta$-window.
4. **III.json change** to budgets, thresholds, rounding, tie policy, or gate spec.
5. **Data/pipeline re-issue** that touches any **content-bound** artifact on the gate path.
6. **Quarantine breach** detected in engineered-$\Phi$ (DNT) influence (§10.2).

If (1)–(3) are confirmed and a corrected edition is not yet available, publish a **revocation** immediately.

---

**Effects on admissibility.**

* A superseded or revoked claim **remains archived and replayable** but **does not count** toward any decision calculus from the UTC time of the tombstone forward.
* New editions **must** carry a complete **Supersession Card** and pass floors from scratch; no “inheritance” of admissibility.

---

**Supersession Card (what the new edition MUST publish).**

* `supersedes`: list of prior Claim IDs;
* `reason_code`: `{CEX, FLOOR, TTDA, PIPE, POLICY, DOC}`;
* `delta_diff`: map of $\delta$-windows added/removed/changed (with before/after rounded gate stats);
* `floor_diff`: which floors changed status and why;
* `III_diff`: exact JSON diff of budgets/thresholds/rounding/ties;
* `rg_diff`: RG-grid budgets vs spreads before/after;
* `compat`: statement whether prior receipts **REPLAY-RFD** under the new pipeline (they need not—historical replays use their own receipts);
* `utc_supersession`: UTC-LCRO time of issuance;
* `signatures`: maintainer signatures (optional, recommended).

---

**Public Revocation List (PRL).**
A machine-readable, append-only ledger (content-addressed) containing tuples
`{claim_id, utc_revoked, reason_code, pointer_to_evidence}`.

* **Availability.** PRL is referenced from the front matter and mirrored; old entries are immutable.
* **Reasons.** `{CEX, FLOOR, TTDA, RFD}` where `RFD` denotes audit divergence under REPLAY-RFD.
* **Obligation.** Publishers **MUST** check PRL during audit and before citing admissions.

---

**Versioning policy (MUST/SHOULD/MAY).**

* **MUST** mint a new Claim ID for any content change; never overwrite.
* **MUST** supersede (not erratum) if III.json, floors, or gate stats change.
* **SHOULD** keep errata as a new edition with `reason_code=DOC`.
* **MAY** bundle many doc-only edits into a single erratum batch to reduce ledger noise.
* **MUST NOT** relax budgets or precision retroactively to launder a failure; any policy change is `reason_code=POLICY` with explicit before/after evaluation on the same bytes.

---

**Ledger invariants.**

* **Acyclicity.** Supersession edges form a DAG (no cycles).
* **Monotone UTC.** `utc_supersession` strictly increases along any edge chain.
* **Replayability.** Every node (edition) carries its own complete Receipt v2; auditors can **replay in place** without fetching newer editions.
* **Visibility.** Each new edition includes backlinks to its immediate predecessors; PRL entries link to the tombstoned nodes.

---

**How to cite.**
Citations should use **Claim ID + edition tag**. If a claim is superseded, cite the **latest admissible edition** and, if relevant historically, include the tombstoned ID with reason.

---

**Admissible repairs.**

* **Counterexample repair.** Re-run with corrected pipeline; declare new III.json if needed; publish `reason_code=CEX` with window-by-window delta.
* **Floor repair.** Fix canonicalizer/clock/causality estimator; re-emit with `reason_code=FLOOR` and updated floor cards.
* **TTDA repair.** Correct the parity/clock issue; re-cut bins; re-emit with `reason_code=TTDA`.
* **PIPE repair.** Containerize numeric stack; freeze RNGs; re-emit with `reason_code=PIPE`.
* **Policy change.** If tightening budgets/precision, justify and show that the prior edition **would still fail** (or still pass) under the new policy; mark `POLICY`.

---

**Operational timelines (recommended).**

* **Revocation** SHOULD be posted **≤ 24 h** after confirming a compliant counterexample or fatal floor/REPLAY-RFD failure.
* **Superseding edition** SHOULD follow **≤ 14 days** (or include an ETA in the tombstone).

---

**Pseudocode (normative skeleton).**

```text
function PUBLISH_SUPERSESSION(new_receipt, predecessors, reason):
    assert FLOORS_PASS(new_receipt) and REPLAY_RFD_OK(new_receipt)
    card = {
      supersedes: predecessors,
      reason_code: reason,
      delta_diff: DIFF_DELTA_WINDOWS(predecessors, new_receipt),
      floor_diff: DIFF_FLOORS(predecessors, new_receipt),
      III_diff: JSON_DIFF(predecessors.III, new_receipt.III),
      rg_diff: RG_DIFF(predecessors, new_receipt),
      utc_supersession: UTC_LCRO_NOW(),
    }
    BIND_TO_RECEIPT(new_receipt, card)
    POST_LEDGER(new_receipt.id, card)

function REVOKE(claim_id, reason):
    tomb = {claim_id: claim_id, utc_revoked: UTC_LCRO_NOW(), reason_code: reason}
    APPEND_PRL(tomb)
```

**Design intent.**
Supersession and revocation make the public record **self-healing** without ever editing history. Every change is pinned, reasoned, and replayable; older claims remain visible but **not admissible** once a tombstone or successor exists. This keeps the calculus aligned with the law: *“Do only that which would be acceptable to all.”*

---

# 13. Related Work
## 13.1 Foundational tests (e.g., CHSH)

**Purpose.**
Anchor Gravastar’s witness layer to a **canonically analyzable** experiment whose statistics are broadly understood and independently recomputable. We adopt a CHSH-style test as the *foundational* template: randomized two-setting measurements on two subsystems, parity/pairing declared **before** analysis, and outcomes summarized by rounded correlators and a single scalar $S$.

---

**Experimental shell (platform-agnostic).**

* **Parties.** Two stations $A,B$ producing binary outcomes $x,y\in\{-1,+1\}$.
* **Settings.** Independent, predeclared RNGs choose $a\in\{0,1\}$, $b\in\{0,1\}$. RNG details (entropy source, debiasing, seeding) are **pinned** in the SBOM.
* **Pairing.** One pinned rule: **event-ready** (heralded pairs) *or* **time-bin** pairing with fixed bin edges (three-grid phasing; §8.3). Pairing code is in the receipt.
* **Timing.** All stamps are UTC-LCRO; dark/bright windows declared; gate statistics use **dark windows** only.
* **Data record.** Each trial emits $(t, a, b, x, y, \text{aux})$ as content-bound bytes.

---

**Rounded statistics (gate-ready).**
For each setting pair $(i,j)\in\{0,1\}^2$, define counts in dark windows:

$$
N^{ij}_{uv}=\#\{(x=u,\,y=v)\},\quad u,v\in\{-1,+1\}.
$$

Rounded correlator

$$
E_{ij}=\mathrm{ROUND}\!\left(\frac{N^{ij}_{++}+N^{ij}_{--}-N^{ij}_{+-}-N^{ij}_{-+}}{N^{ij}_{++}+N^{ij}_{--}+N^{ij}_{+-}+N^{ij}_{-+}},\ \mathrm{prec}_E\right).
$$

CHSH statistic

$$
S=\mathrm{ROUND}\!\bigl(E_{00}+E_{01}+E_{10}-E_{11},\ \mathrm{prec}_S\bigr).
$$

All precisions and the tie policy are pinned in **III.json** and **identical** for stream and batch (TTDA).

---

**Witness layer mapping (W vs B).**

* **WITNESS $W(n)$.** Report the observed $S$, per-block $S_h$ over a ladder of block sizes $n_h$, and a one-sided $p$-value computed by a predeclared method (e.g., bent-coin martingale or exact-chernoff) that tolerates setting bias and memory.
* **Separability bound $B(n)$.** The local realist bound $|S|\le 2$ (or the tightened finite-sample bound from the pinned method). Publish $B(n_h)$ per block.
* **Pass rule.** $S$ and the blockwise ladder exceed $B(n_h)$ under the rounded $p$-policy; otherwise WITNESS does **not** contribute positive evidence to $\Phi$. Floors still dominate.

---

**Floor checks specialized to CHSH.**

* **G-floor.** Invariance of $E_{ij}$ and $S$ under admissible re-descriptions (unit/locale/tokenization/permutation of trials).
* **PoS Screen.** No gate uses bright-window or undisclosed filtering; neutrality operations only.
* **CAUSALITY/ISO.** Report settings near-isotropy $A^\star$ (frequencies of $(a,b)$); pairing rule declared; if front-like propagation is analyzed, fit $\hat c$ on dark windows and require $\hat c\le 1$ (rounded).
* **DETERMINISM.** RNGs and numeric mode pinned; gate path RNG-free; stream↔batch parity satisfied:

$$
\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\Pi.
$$

* **CAPTION→RECEIPT.** All tables/plots of $N^{ij}_{uv},E_{ij},S$ are byte-bound to data.

---

**Reporting (Foundational Test Card).**
Publish (all **rounded**):

1. RNG spec (source, seed, health tests), settings frequencies, $A^\star$.
2. Pairing rule and three-grid pass (§8.3).
3. Count table $N^{ij}_{uv}$, $E_{ij}$, $S$, confidence method, $p$-ladder vs $B(n_h)$.
4. Floor verdicts (G-floor, TTDA, CAUSALITY/ISO, DETERMINISM, CAPTION→RECEIPT).
5. REPLAY-RFD trace ID that regenerates the card from raw bytes.

---

**Decision semantics.**

* A CHSH card **may** increase $\Phi$ (within the pinned cap) when floors pass, the alias refuter passes, and $W(n_h)$ beats $B(n_h)$ at the declared rounded precision.
* If any admissible observer reproduces the pipeline and finds a compliant counterexample (e.g., phase-dependent $S$, G-floor failure, or RFD divergence), the CHSH contribution is **void** and can defeat dependent claims (§4.3).

---

**Common pitfalls (and repairs).**

* **Settings bias/imbalance.** If $A^\star$ outside budget, rerun or use a martingale method that certifies under bias; still report $A^\star$.
* **Post-hoc pairing.** Pairing must be declared **before** viewing outcomes; otherwise re-emit with a pinned event-ready or time-bin rule.
* **Bright leakage.** Any dependence of counts on bright windows voids the witness; restrict to dark windows or re-collect.
* **Single-grid aliasing.** Phase flips across $\{0,H/3,2H/3\}$ indicate bin-boundary artifacts; fix $H$ and re-evaluate.

---

**Pseudocode (normative skeleton).**

```text
function CHSH_CARD(trials, III):
    trials = DARK_ONLY(trials, III.dark_spec)
    trials = CANONICALIZE(trials, G)
    assert PAIRING_RULE_PINNED(trials.meta)
    blocks = BLOCK_LADDER(trials, III.block_spec)
    E = {}; N = COUNTS(trials)  # per (i,j,u,v)
    for (i,j) in {(0,0),(0,1),(1,0),(1,1)}:
        E[i,j] = ROUND( CORRELATOR(N[i,j]), III.prec.E )
    S = ROUND( E[0,0]+E[0,1]+E[1,0]-E[1,1], III.prec.S )
    Astar = ROUND( SETTINGS_ISO(trials), III.prec.iso )
    p_ladder, B = P_METHOD(blocks, III.p_method)
    FLOORS_ASSERT({G,TTDA,ISO,DET,CAPTION})
    REPLAY_RFD_ASSERT()
    return CARD(N,E,S,Astar,p_ladder,B)
```

**Design intent.**
The CHSH template is not a claim about new physics; it is a **receipt-true sanity check** that our floors, rounding, timing, and replay yield the *same* $S$ for any admissible observer—and that a **single** compliant counterexample can defeat the witness.

## 13.2 Complexity/audit lineage (Tree Evaluation [2,3,4], Cook–Mertz, Williams)

**Why this section exists.**
Gravastar’s audit primitive **REPLAY-RFD** (Replay-to-First-Divergence) is a *procedural* guarantee: any admissible observer can regenerate our bytes and either corroborate or defeat a claim. It is **not** a new complexity result. Still, it has a natural **lineage** in the theory of evaluating structured computations, especially the **Tree Evaluation [2,3,4]** paradigm and two modern advances: **Cook–Mertz** (near-logspace evaluation) and **Williams** (time simulation via sequences of Tree Evaluation [2,3,4] instances). This section explains the relationship so readers see what we **borrow** (design ideas) and what we explicitly **do not claim** (asymptotic bounds).

---

### What Tree Evaluation [2,3,4] gives us conceptually

* **Model.** In Tree Evaluation [2,3,4] (TE), a rooted tree’s leaves hold inputs; each internal node holds a small function; the root’s value is determined by composing children up to the root.
* **Audit intuition.** An auditable pipeline can be *viewed as a tree (or a DAG unrolled to a tree for the given run)*: *leaves* = **content-bound inputs** (raw data, clocks, SBOM), *internal nodes* = **deterministic transforms** (parsers, canonicalizers, feature extractors, gates), *root* = the **published table/figure/δ**.
* **RFD link.** REPLAY-RFD traverses this tree from leaves upward and **halts at the first node where our recomputed bytes disagree** with the publisher’s bytes—*the first divergence*. That’s the localization mechanism.

> Design takeaway: **Structure the audit as a leaf-to-root regeneration problem.** Require each node to (i) declare its inputs, (ii) be deterministic at the declared precision, and (iii) bind its output bytes in **Receipt v2**. Then RFD becomes a disciplined “evaluate-to-root or stop” procedure.

---

### What Cook–Mertz adds (and what we do *not* claim)

* **Advance.** Cook–Mertz showed that certain Tree Evaluation [2,3,4] families are solvable in **space $O(\log n\cdot\log\log n)$** (near-logspace) while maintaining correct evaluation order.
* **Borrowed idea.** We **adopt the discipline** of *small working state per node* and *single-pass regenerability when possible*. Concretely, our receipts encourage:

  * streaming parsers with bounded buffers,
  * monotone, idempotent canonicalizers,
  * gate statistics computed with **round-before-compare** so intermediate numeric noise cannot accumulate.
* **No asymptotic claim.** Gravastar **does not** assert that **every** published pipeline admits near-logspace replay. Some artifacts (e.g., large FFTs, ML inference) may require more memory. Our **requirement** is *deterministic replay*, not a complexity bound.

---

### What Williams adds (and what we do *not* claim)

* **Advance.** Williams shows that simulating time-bounded computations can be reduced to a sequence of **Tree Evaluation [2,3,4]** instances, leveraging Cook–Mertz as a subroutine, with nontrivial **time/space trade-offs**.
* **Borrowed idea.** We emulate the *chunk-into-instances* practice in our receipts:

  * break long pipelines into **checkpoints** (content-bound artifacts),
  * require **phase-segmented** evaluation (three-grid alias refuter),
  * publish **per-stage** hashes so auditors can re-compute in *bounded windows*.
* **No trade-off claim.** We make **no** claim that our replay realizes Williams-style square-root space or specific trade-offs. The lineage is **architectural**, not quantitative.

---

### Formal audit discipline adopted in Gravastar

Let $G=(V,E)$ be the *run-instance* computation graph, topologically ordered. For each node $v\in V$:

1. **Typed contract.** Declare $v:\ (B^{k_v}\!\times\!\Theta_v)\to B$ where $B$ is the byte space and $\Theta_v$ the pinned parameters (from **III.json**/SBOM).
2. **Determinism.** $v$ must be **functionally pure** at the declared precision; RNG-free along any gate path (§5.6).
3. **Binding.** Output $b_v\in B$ is content-addressed and stored in **Receipt v2**; rendered forms are marked “render-bound” and compared only after rounding to declared precision.
4. **Local replay.** An auditor can recompute $\tilde b_v = v(\tilde b_{u_1},\dots,\tilde b_{u_{k_v}};\Theta_v)$. If $b_v\neq \tilde b_v$ (or rounded mismatch for render-bound artifacts), **REPLAY-RFD halts at $v$** and prints the divergence locus.

**Root condition.** The published decision $\delta\in\{-1,0,+1\}$ is a function of a small set of *gate nodes* $V_\text{gate}\subset V$. Floors require these nodes to consume **dark-window** features only and to use **round-before-compare** with one pinned table for stream and batch (TTDA).

---

### Normative consequences for REPLAY-RFD

* **Tree-liftable pipelines.** Authors must provide a **tree-lift** of the used pipeline (DAG unrolled along the declared execution order) so that an auditor can evaluate leaf-to-root without ambiguity.
* **Checkpoint density.** Long pipelines must include **content-bound checkpoints** (e.g., after canonicalization, after feature extraction, before gating) to keep the RFD search tree shallow and enable partial verification.
* **Space transparency.** While we do **not** require near-logspace replay, authors **must** publish per-stage memory/time telemetry (rounded) so auditors can plan resources; if a stage is inherently heavy, say so.
* **Equivalence under $G$.** All nodes must accept **canonicalized** inputs produced by the $G$ loaders (units/locale/tokenization/ordering) so audit remains gauge-invariant.

---

### Disambiguation with receipts and floors

* **Different objects.** “Tree Evaluation [2,3,4]” (problem) ≠ “REPLAY-RFD” (procedure). We cite TE, Cook–Mertz, and Williams for **intellectual lineage** only.
* **Floor priority.** Even a perfectly replayable pipeline **fails** if any floor fails (G-floor invariance, TTDA parity, CAUSALITY/ISO $\hat c\le 1$, CAPTION→RECEIPT, DETERMINISM). Replay alone does not confer admissibility.
* **Counterexample welcome.** If an admissible observer constructs a **compliant counterexample** (e.g., a $G$ transform that flips a rounded gate value, or an RFD divergence at a claimed content-bound node), the claim is **defeated** (§4.3).

---

### Minimal recipe authors must follow

1. **Declare** the run DAG and provide a **tree-lift** used by RFD.
2. **Bind** every leaf (raw bytes, clock dumps, SBOM) and each checkpoint in **Receipt v2**.
3. **Pin** a single rounding table and tie policy; use **round-before-compare** on gates.
4. **Segment** time with the three-grid alias refuter and report all gate stats from **dark windows** only.
5. **Containerize** numeric libraries and freeze seeds; forbid network fetches.
6. **Publish** per-stage resource telemetry; do **not** claim TE/Cook–Mertz/Williams-style asymptotics.

---

**Design intent.**
Complexity theory supplies a *shape* for auditable computation: a small, deterministic step function applied from leaves to root with well-scoped memory. Gravastar adopts that **shape** to make claims **replayable and defeasible**—while staying agnostic about asymptotic bounds.

## 13.3 Teleomorphic/CA context and distinctions from proprietary mechanisms

**Purpose.**
Situate Gravastar’s *teleomorphic* (ends-first) stance in the broader cellular-automata (CA) and “goal-first” lineage, while drawing sharp technical and procedural boundaries from proprietary implementations (e.g., Estimator/Cincinnati-style pipelines). The aim is interoperability without entanglement: readers can see where ideas rhyme, and where Gravastar is deliberately orthogonal.

**Teleomorphic as method, not mechanism.**
In Gravastar, *teleomorphic* names a **methodological inversion**—start from the admissible end state (PoS → TST → $\Phi$ → $\delta$), then design procedures that are receipt-true to that end. It does **not** name a specific device, training scheme, or update rule. The law (PoS), floors (G-floor, TTDA, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM), and REPLAY-RFD together form a **device-agnostic contract** that any bench—CA or not—can satisfy.

**What Gravastar borrows conceptually from goal-first/CA traditions.**

* **Ends-first framing.** Begin with admissibility criteria, not model internals.
* **Local update discipline.** Favor small, composable transforms with pinned parameters and bounded state (useful for auditability).
* **Receipts-over-narratives.** Bind bytes, not claims; replay before persuasion.

**What Gravastar *does not* adopt from proprietary CA stacks.**

* **No Estimator/Cincinnati primitives.** Gravastar defines no Estimator-like device, no Cincinnati-style orchestration, no protected scoring combinators.
* **No patent-specific kernels.** Pipelines are built from standard, declaratively pinned transforms (parsers, canonicalizers, feature extractors, gates) with RNG-freeze and SBOMs; any optional dynamics (DNT) is quarantined and microphysics-agnostic.
* **No reliance on secret training.** Gate paths are **deterministic and inspectable**; learned components, if present upstream, must be frozen, hashed, and proven irrelevant to tie-breaking (round-before-compare).

**Interoperability: how a CA bench can “count” under Gravastar.**
A CA experiment (1D/2D lattice, local rule set, stimulus/response protocol) can be made admissible by:

1. **Pinning the rule set and lattice** (SBOM’d source/bytecode; RNG-free or seeded).
2. **Declaring ScanProtocol v1** equivalents: stimulus ladders (bidirectional), dark windows (no on-the-fly feedback), resets $\ge 3\cdot \tau_{\text{reset}}$, three-grid alias refuter for time-binning.
3. **Publishing TTDA timing** (UTC-LCRO badge, stream↔batch parity) and **DII-4** cards ($R(u), A^\star, \hat c, W(n)$ vs $B(n)$ if a witness is used).
4. **Binding artifacts by bytes** (CAPTION→RECEIPT), and **REPLAY-RFD** from raw lattice dumps to $\delta$ with the same rounding table as batch.
5. **Keeping engineered dynamics quarantined** (if DNT-like overlays are explored), never relaxing floors or writing to gate spec; publishing a fitted $\hat c\le 1$.

**Why the distinction matters (review and audit).**

* **Scope clarity.** Reviewers can reproduce claims without acquiring proprietary devices or licenses; *open-join audit* remains intact.
* **Falsifiability.** Any admissible observer can file a compliant counterexample (gauge violation, TTDA failure, RFD divergence) and defeat the claim, regardless of internal CA lore.
* **IP hygiene.** By specifying law, floors, and receipts—not device internals—Gravastar avoids inheriting protected mechanisms while still accommodating CA as one possible bench.

**Non-endorsement & IP posture (informational).**
Gravastar acknowledges prior art in CA-based, ends-first narratives (“teleomorphic” as a descriptive label). Our framework does **not** reproduce proprietary Estimator/Cincinnati mechanisms and makes no claim on their protected implementations. We restrict ourselves to public, standards-like requirements (UTC-anchored time, rounding policies, SBOMs, byte-equality, replay). This section is technical, not legal; implementers remain responsible for their own IP clearance when integrating third-party components.

**Design intent.**
Keep the *idea*—ends-first, locally checkable, byte-bound—and discard the *baggage*—closed kernels, unverifiable learners, implicit clocks. Under Gravastar, a CA lab can publish admissible outcomes; a non-CA lab can do the same. What counts is the same for all: **floors dominate $\Phi$**, **time is governed by TTDA**, **claims bind to bytes**, and **anyone can replay to first divergence**.

---

# 14. Discussion & Limitations
## 14.1 What Gravastar does (and does not) claim

**What Gravastar *does* claim (δ-level, receipt-backed).**

* **Law → calculus.** We provide a *microphysics-agnostic* procedure that operationalizes *“Do only that, which would be acceptable to all.”* Concretely: **PoS → TST → $\Phi$ → $\delta\in\{-1,0,+1\}$** with floors that dominate $\Phi$ and an explicit **repair vector** when $\delta\in\{-1,0\}$.
* **Gauge invariance.** Decisions are **invariant under admissible re-descriptions** declared in $G$ (units/encodings/ordering/tokenization/locale), verified by the **G-floor**.
* **Temporal governance.** Decisions are **time-stable** under **TTDA** (UTC-LCRO badge, RG-grid budgets, and the parity bound $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$).
* **Public reproducibility.** Every claim that “counts” is **receipt-true**: **Receipt v2** (code/data/SBOM/thresholds/energy) + **CAPTION→RECEIPT** byte binding + **REPLAY-RFD** (replay-to-first-divergence) so any admissible observer can regenerate the rounded verdicts.
* **Counters decide.** A **single compliant counterexample** (gauge violation, TTDA breach, floor failure, or RFD divergence) **defeats** the claim; supersession and public revocation are mandatory.
* **Quantified evidence.** The **acceptability field** $\Phi$ is mapped to orientation $x=2(\Phi/\Phi_{\max})-1$ and to state $y=\mathrm{arctanh}(x)$; comparisons use **round-before-compare** at pinned precisions (**III.json**).
* **Witness compatibility.** The framework accommodates **foundational tests** (e.g., CHSH) as evidence cards $W(n)$ vs bounds $B(n)$ without altering floors; in an **agentless limit** it recovers standard quantum predictions.
* **Portability.** The same law and floors apply across benches (e.g., Adamas-1D CNT strain/spectroscopy), software-only settings, and internationalized pipelines.
* **Optional dynamics (quarantined).** An **engineered-$\Phi$** layer (e.g., DNT) may be explored **only** inside quarantine, must publish a **causality cap $\hat c\le 1$** and falsification windows, and **cannot** relax floors or write to gate spec.

---

**What Gravastar *does not* claim (non-claims, scope limits).**

* **No new particles/forces or “moral fields.”** We do **not** posit physical entities beyond standard theory; we reject Maxwell-style “moral electromagnetism.”
* **No ToE.** Gravastar is a **meta-layer for admissibility**, not a theory of everything. It can scaffold empirical programs; it does not unify physics.
* **No complexity bounds.** **REPLAY-RFD** is an **audit procedure**, not a claim about Tree Evaluation [2,3,4], Cook–Mertz, or Williams-style asymptotics; we make **no** space/time optimality guarantees.
* **No proprietary mechanisms.** We implement **no** Estimator/Cincinnati or other protected CA kernels; teleomorphic is a **method** (ends-first), not a mechanism.
* **No panel → “all” leap.** Coverage/panels may raise $\Phi$ **within caps**, but **never define “all.”** “Acceptable to all” means *universally admissible under open-join audit*, not “approved by a sample.”
* **No narrative overrides.** A compelling story, visualization, or high-level summary **does not** set $\delta$; only receipts + floors do.
* **No secret steps.** If a step cannot be made public (or a dependency cannot be hashed/frozen), its outputs **cannot** participate in gating.
* **No immunity to adversaries.** We **expect** red-team attempts (gauge games, time-skew, aliasing). The claim is the **guardrail**: such attempts are either blocked by floors or produce defeat via counterexample—not prevented by fiat.
* **No guarantee to accept “true but unreceipted.”** A statement may be true yet **not count** if it lacks receipts, violates floors, or fails replay.
* **No privacy guarantees beyond budgets.** Any privacy/DP claim is limited to the **declared $\varepsilon_{\text{priv}}$**; outside that envelope, we make no privacy assertions.

---

**Domain of validity (when a claim “counts”).**

A claim **counts** iff: (i) floors pass (G-floor, PoS Screen, WITNESS policy where used, CAUSALITY/ISO with $\hat c\le 1$, CAPTION→RECEIPT, DETERMINISM), (ii) TTDA passes (UTC-LCRO + parity + RG budgets), (iii) gating uses **dark-window** diagnostics with **round-before-compare** per **III.json**, (iv) **REPLAY-RFD** finds no divergence, and (v) no compliant counterexample is filed. Otherwise, $\delta\neq +1$ (or is superseded/revoked), and the claim **does not** enter the decision calculus.

## 14.2 Scalability and deployment considerations

**Architecture tiers.**
At scale, separate three planes with content-addressed boundaries:

* **Control plane.** Registry of **III.json** versions, **Receipt v2** objects, PRL (Public Revocation List), supersession DAG, rounding/tie policies, and $G$ canonicalizer specs.
* **Data plane.** Raw signals, canonicalized features, and gate tables—each emitted as *content-bound* artifacts; render-bound plots live outside the gate path.
* **Audit plane.** **REPLAY-RFD** workers, G-test harness, TTDA parity checks, three-grid alias refuters, and open-join mirrors. All audit jobs are driven by receipt IDs, never mutable paths.

**Sharding & checkpoints (RFD-friendly).**
To keep replay feasible as volumes grow:

* **Stage checkpoints.** Insert content-bound checkpoints after parsing/canonicalization, after feature extraction, and before gating. RFD then evaluates *leaf→checkpoint→root* and halts at the first mismatched node.
* **Windowing.** Segment long runs into time/parameter tiles (the same tiles used by **dark windows** and the **three-grid** phasing). Auditors re-compute per tile; aggregation is monotone + rounded.
* **Stable joins.** Keyed, deterministic joins with explicit sort order; publish key hashes so shards can be recombined without ambiguity.
* **Dedup by content address.** Large datasets reused across editions are stored once; receipts point to digests.

**Throughput patterns.**

* **Streaming vs batch.** Treat streaming as an *online producer of content-bound micro-tiles*; batch replays the same tiles and must satisfy

  $$
  \bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\,\Pi .
  $$

  Use the *same* rounding table and tie policy in both paths.
* **Map–verify–reduce.** Many audits factor into: map (tile-level recompute) → verify (floor cards per tile) → reduce (rounded, monotone merges). Reduction must be independent of iteration order at the declared precision.

**Clock and scheduling at scale (TTDA).**

* **UTC-LCRO everywhere.** All producers stamp UTC and supply LCRO/badge traces. Schedulers must *not* reorder across dark/bright boundaries; resubmissions preserve stamps.
* **Three-phase segmentation.** Pre-allocate the $k\in\{0,H/3,2H/3\}$ grids across the fleet; avoid shared edges between tenants.
* **RG-grid budgets.** Publish fleet-wide spreads $\Delta_{\mathrm{RG}}$ and per-tenant consumption against $\Pi_{\text{class}}+\varepsilon_{\text{join}}+\varepsilon_{\text{clock}}+\varepsilon_{\text{priv}}$.

**Determinism across heterogeneous hardware.**

* **SBOM pinning.** Pin OS, compiler, BLAS/GPU kernels, and numeric modes; forbid silent kernel upgrades in gate paths.
* **Deterministic kernels.** Prefer CPU or deterministic GPU ops for *gate-critical* statistics; if GPU is used, pin driver + cudnn/cublas versions and set deterministic flags; freeze seeds and document them.
* **Fallbacks.** If a platform cannot meet determinism, reroute *gate path* computation to a trusted deterministic profile; use the non-deterministic path only for render-bound artifacts.

**G-floor at international scale.**

* **Canonical loaders.** Centralize unit/locale/tokenization/ordering canonicalizers; ship as versioned libraries referenced from receipts.
* **Fuzz re-descriptions.** In CI, run a $G$-fuzzer (synonyms, decimal conventions, Unicode confusables, column permutations) and require unchanged rounded diagnostics.

**Open-join and mirrors.**

* **Public bundles.** Host receipt bundles on at least two independent mirrors; address by content hash, not URL.
* **No auth walls.** Open-join artifacts require no logins or keys; if legal constraints apply, publish masked bundles and declare $\varepsilon_{\text{priv}}$.
* **Audit slots.** Maintain a public queue with SLOs (e.g., response within N days) and publish queue state in the explain\_url.

**Storage & cost hygiene.**

* **Content-addressed store.** Merkle-DAG or equivalent to deduplicate repeated bytes across editions; store *render-bound* artifacts separately from *content-bound* to reduce replay footprint.
* **Byte budgets.** In **III.json**, declare approximate byte budgets per artifact class and enforce at CI (oversized artifacts fail or are split into tiles).
* **Energy telemetry.** Record energy/cycle counts (rounded) in Receipt v2 to enable cost-aware audits at scale.

**CI/CD for admissibility.**

* **Pre-merge gates.** G-floor invariance suite, TTDA parity on a sample, three-grid alias refuter, deterministic build check, and synthetic REPLAY-RFD. Failing any floor blocks release.
* **Nightly shadow replay.** Randomly sample prior editions and re-run RFD on current workers; alert on any first-divergence (indicates environment drift).
* **Supersession bot.** Automate tombstones and superseding cards when PRL updates (counterexample, TTDA failure) are confirmed.

**Security posture (without secrecy).**

* **No hidden steps.** Anything secret cannot be on the gate path. If secrecy is unavoidable, move the computation upstream, publish a masked content-bound result, and declare $\varepsilon_{\text{priv}}$.
* **Supply-chain integrity.** Sign receipts and SBOMs; verify signatures in audit workers; mirror PRL to prevent rollback.

**Deployment profiles.**

* **Lab scale.** Single-site, low-volume; one canonicalizer node; CPU-only gate path; manual open-join queue acceptable.
* **Enterprise.** Multi-site ingestion; centralized control plane; RFD workers autoscaled; deterministic GPU allowed for non-gate steps; strong CI and $G$-fuzzing.
* **Public dataset bench.** Heavy read traffic; aggressive mirroring; tiled artifacts with small, independent replays; community auditors run map–verify–reduce locally.
* **Edge/embedded.** On-device producers emit compact content-bound tiles + UTC-LCRO stamps; aggregation and gating happen in a deterministic cloud stage.

**What *not* to scale.**

* **Do not** scale by relaxing floors, changing precision midstream, or letting engineered-$\Phi$ write into gate parameters.
* **Do not** use panels/coverage to stand in for “all”—panels contribute to $\Phi$ only, under caps.
* **Do not** allow network fetches during replay; all inputs must be present by digest.

**Operational metrics (suggested).**

* **RFD coverage.** % of editions re-played without divergence in the last N days.
* **Parity margin.** Distribution of $|\delta_{\text{stream}}-\delta_{\text{batch}}|$ vs $\Pi$.
* **G-floor escapes.** Count of canonicalizer-induced diffs caught in CI.
* **Supersession latency.** Median time from confirmed defeat to superseding edition.
* **Open-join SLO.** Median/95p time from audit request to reproducible PASS/FAIL.

**Bottom line.**
Gravastar scales by **shaping computation**—content-bound checkpoints, deterministic kernels, UTC-anchored tiling, and byte-equality receipts—so thousands of independent auditors can **replay to first divergence** without coordinating with the publisher. The law and floors stay fixed; only the throughput infrastructure grows around them.

## 14.3 Ethical notes on PoS and universal admissibility

**What PoS demands.**
The Principle of Superposition—*“Do only that, which would be acceptable to all”*—is not a plebiscite or a taste poll. In Gravastar it is an **admissibility constraint**: a claim “counts” only if *any* admissible observer can reproduce its warrant under the public method, and a single compliant counterexample defeats it. Ethically, this centers **public reason over persuasion**, **procedure over authority**, and **reversibility over force**. When universal acceptability is not achieved, $\delta=0$ (superposition preserved) is not indecision but the correct, non-harmful default.

**Universal ≠ majoritarian.**
“Acceptable to all” is *not* “approved by most” or “all affected.” Panels/coverage can inform $\Phi$ but never define “all.” The floor-first design (G-floor, TTDA, CAPTION→RECEIPT, DETERMINISM) prevents rhetorical or sampling leverage from overriding admissibility. A single compliant counterexample, even from a minority auditor, has standing and must be heeded.

**Access, equity, and non-exclusion.**
Open-join audit is only ethical if it is genuinely accessible. Concretely:

* **Compute and bandwidth:** provide tiled, content-bound artifacts and small “starter” bundles that reproduce the rounded verdicts; publish resource telemetry so low-resource auditors can plan.
* **Language and locale:** the G-floor’s canonicalization must not privilege a dialect or region; publish multilingual instructions and verify invariance under tokenization/locale changes.
* **Disability access:** emit screen-reader-ready tables, machine-parsable receipts, and high-contrast plots; avoid information encoded only by color or animation.
* **No gatekeeping:** joining must not require identity proofs, private licenses, or affiliation. Where legal constraints force redaction, publish masked bundles and declare $\varepsilon_{\text{priv}}$.

**Privacy, consent, and data minimization.**
Evidence should be **no more personal than necessary**. Declare any masking or differential-privacy envelope ($\varepsilon_{\text{priv}}$), ensure that masking **survives rounding**, and prefer content-bound summaries over raw PII where possible. When counterexamples depend on sensitive material, permit defeat via masked, content-bound proofs that still replay to first divergence.

**Fairness and canonicalization.**
The G-floor is a fairness instrument: admissible re-descriptions (units, encodings, tokenization, ordering, locale) must **not** change rounded diagnostics. Ethically, this guards against dialect and formatting bias. Practically, maintain a parity suite that includes minority languages, scripts with confusables, and accessibility encodings; treat failures as floor violations, not “corner cases.”

**Against manipulation of $\Phi$.**
$\Phi$ aggregates publicly warranted evidence; floors *dominate* $\Phi$. This separation is an ethical guardrail against propaganda, selection gaming, or outcome-tuned pipelines. Bright-window visuals can persuade; dark-window gate statistics decide. Any attempt to move $\Phi$ by relaxing floors is disallowed.

**Counterexample culture.**
Because *one* compliant counterexample can defeat a claim, community norms matter. Ethically:

* **Non-retaliation:** publishers must not chill audit participation; PRL entries and supersession cards focus on bytes and method, not persons.
* **Civility:** audit discourse should target receipts, not authors.
* **Good-faith burden:** auditors must follow the pinned method; bad-faith noise (noncompliant replays, altered rounding, off-method edits) does not count.

**Harm boundaries and safety.**
Open-join does not require facilitating illegal or directly harmful actions. If reproducing a claim would create acute risk, provide a *safe reproduction path* (sandboxed artifacts, masked data) that still satisfies REPLAY-RFD and floors. Refusals to publish dangerous raw material should be explicit, with a masked alternative and stated limits.

**Fallibilism [8] and the δ=0 ethic.**
PoS encodes fallibilism: when admissibility is unproven or contested, $\delta=0$ preserves superposition and **prevents harm** while enabling further inquiry via the repair vector. Ethically, this resists false urgency and the “do something, anything” bias; it privileges reversible choices until warrant accumulates.

**No moral monopoly.**
Gravastar is a *meta-layer* for warrant and admissibility, not a moral doctrine. It avoids legislating outcomes by making **procedural justice**—publicly reproducible warrant under floors—the criterion for what counts. Truths may exist outside this envelope, but they do not enter the calculus until they are receipt-true.

**Publisher obligations (ethical MUSTs).**

* Publish complete, content-addressed receipts and a working **open-join** queue.
* Maintain the **Public Revocation List** and supersede rapidly on defeat.
* Keep gate paths **RNG-free**, **deterministic**, and **documented**; forbid secret steps.
* Provide **accessibility** and **localization** accommodations as first-class deliverables.
* Distinguish clearly between persuasive materials (bright) and gate inputs (dark).

**Auditor obligations (ethical SHOULDs).**

* Follow the pinned method exactly; disclose deviations.
* Report divergences with bytes, not narratives; prefer reproducible minimal counterexamples.
* Respect privacy envelopes and do not attempt deanonymization.
* Engage constructively; propose repairs consistent with floors.

**Bottom line.**
PoS, as implemented here, is **procedural universalism**: if your claim cannot be reproduced by *anyone* who follows the shared method, it does not “count”—and if even one such person can defeat it, it must yield. That stance protects the vulnerable, tempers power, and makes progress reversible. Ethics, in Gravastar, is not an afterword; it is the operating condition under which admissibility becomes truly *acceptable to all*.

---

# 15. Future Work
## 15.1 Expanded witness suites and cross-domain portability

**Aim.**
Generalize the *witness card* pattern beyond CHSH so any lab can publish **receipt-true evidence** $W(n)$ against **domain-appropriate bounds** $B(n)$ while preserving floors, TTDA, and REPLAY-RFD.

---

**Witness card template (domain-agnostic).**
A *witness* is a rounded statistic $W$ computed on **dark-window** data with a predeclared method and compared to a **separability/feasibility bound** $B$ under the same rounding table.

* **Inputs.** Content-bound dataset slices; pairing/segmentation rule; three-grid phase $k\in\{0,H/3,2H/3\}$.
* **Computation.** $W=\mathrm{ROUND}(f(\text{bytes}),\mathrm{prec}_W)$ with method hash and SBOM pinned.
* **Bound.** $B(n)$ is a rounded, preregistered envelope (physical limit, null hypothesis, policy cap, or safety constraint).
* **Pass rule.** Domain-declared monotone relation (e.g., $W>B$ for “beyond-classical”; $W<B$ for “within-safety”).
* **Ladder.** Report $W_h$ versus $B(n_h)$ over block sizes $n_h$ (robustness to batching).
* **Floors dominate.** G-floor invariance, TTDA parity, CAUSALITY/ISO, CAPTION→RECEIPT, and DETERMINISM must all pass; otherwise the witness is void.

**API (Receipt v2 fields).**
`witness_card: { name, method_hash, data_digest, dark_spec, phase_grid, prec_W, bound_spec, ladder, pass, Astar, notes }`.

---

**Examples (suggestive, not exhaustive).**

| Domain                  | $W$ (rounded)                             | $B$ (rounded)                  | Dark window & alias refuter                   | Notes                                          |                                |                                                          |
| ----------------------- | ----------------------------------------- | ------------------------------ | --------------------------------------------- | ---------------------------------------------- | ------------------------------ | -------------------------------------------------------- |
| **Quantum/nonlocality** | CHSH $S$                                  | Local $B=2$ (or finite-sample) | Heralded/event-ready or time-bin; three-grid  | §13.1 template                                 |                                |                                                          |
| **Timing/metrology**    | Max Allan-dev drop $\Delta\sigma_y(\tau)$ | Device spec $B(\tau)$          | No firmware adapt; three-grid on $\tau$       | TTDA emphasizes UTC-LCRO badge                 |                                |                                                          |
| **Networking/RTT**      | $W=\Pr(\text{RTT}\le t_0)$                | SLO $B=\alpha$                 | Quiet hours; three-grid on epoch              | G-floor: units, locale, percent vs fraction    |                                |                                                          |
| **Safety systems**      | Peak hazard rate $\hat\lambda$            | Cert cap $B=\lambda_{\max}$    | No interventions; reset waits                 | PoS Screen forbids post-hoc filtering          |                                |                                                          |
| **ML classification**   | Worst-case group gap (\max\_g             | \mathrm{err}\_g-\mathrm{err}   | )                                             | Policy envelope $B=\epsilon$                   | Frozen model; no online tuning | Render-bound figs must be backed by content-bound tables |
| **Control/actuation**   | Overshoot $\%OS$ or settling time $t_s$   | Plant specs $B$                | No feedback in dark; phase grid on step times | Causality cap $\hat c$ if spatial fronts exist |                                |                                                          |
| **Materials/strain**    | Coherent shift $\Delta\omega$ vs bias     | Calibration envelope $B$       | Dark holds $\ge 3\tau_{\text{reset}}$         | Adamas-1D (§11)                                |                                |                                                          |

All entries require **unit canonicalization** (G-floor) and identical rounding/tie policy across stream and batch (TTDA).

---

**Designing $B(n)$ responsibly.**

* **Physical/contractual bounds.** Conservation limits, device datasheets, regulatory caps.
* **Statistical bounds.** Concentration or martingale envelopes (Hoeffding, empirical Bernstein); conformal residual quantiles; PAC-Bayes where learning is upstream but **frozen**.
* **Adversarial envelopes.** Worst-case under declared perturbation budget (e.g., $L_p$-ball), *computed offline* and bound pinned.
* **Monotonic merge.** Aggregation across tiles must be monotone at the declared precision (no Simpson’s paradox via post-hoc reweighting).

---

**Portability checklist (cross-domain / cross-lab).**

1. **Canonicalizers shipped.** Units, encodings, tokenization, ordering—all versioned and hashed.
2. **Three-grid segmentation.** The same $H$ and phase offsets travel with the data.
3. **Clock discipline.** UTC-anchored stamps; LCRO badge exported; no reliance on wall-clock locale.
4. **Deterministic gate path.** RNG-freeze, pinned kernels; gate-critical stats on deterministic backends.
5. **Byte equality.** CAPTION→RECEIPT tokens for every witness table/plot.
6. **Replayable tiles.** Provide minimal, content-bound subsets that regenerate $W$ and the verdict under REPLAY-RFD.
7. **Bound provenance.** `bound_spec` cites source and code where applicable; bound recomputation is part of replay.

---

**Mapping to $\Phi$ and $\delta$.**
Each card contributes a capped increment $\Delta\Phi$ via a **declared map** (e.g., logistic of margin $m=W-B$ at rounded precision). Floors dominate; *no card alone* can move $\delta$ across a threshold without passing all floors and TTDA. Ties are resolved by the pinned tie policy (III.json), never by narrative.

---

**Pseudocode (witness card generator).**

```text
function WITNESS_CARD(bytes, III, spec):
    raw = DARK_ONLY(bytes, spec.dark_spec)
    raw = CANONICALIZE(raw, G)
    assert THREE_GRID_OK(raw, spec.H)
    W = ROUND( spec.method(raw), III.prec.W )
    B = ROUND( spec.bound(raw.size, spec.meta), III.prec.W )
    ladder = BLOCK_LADDER(raw, III.block_spec).map(…→(W_h,B_h))
    FLOORS_ASSERT({G,TTDA,ISO,DET,CAPTION})
    pass = PASS_RULE(W,B,III.tie_policy) && LADDER_OK(ladder)
    return {W,B,ladder,pass,method_hash=HASH(spec.method),bound_spec=spec.bound_id}
```

**Common failure → repair.**

* **Locale breaks invariance.** Add $G$ canonicalizer tests; re-emit artifacts.
* **Phase dependence.** Re-cut with three-grid; increase dark hold or fix $H$.
* **Hidden adaptivity.** Remove online tuning from dark path; freeze model; reissue with DETERMINISM pass.
* **Ambiguous bounds.** Pin bound code/data and include in replay; otherwise the card is evidentially inert.

**Bottom line.**
A witness is a **portable, byte-bound claim fragment**: same law, same floors, new $W$ and $B$ per domain. If an admissible observer, anywhere, can recompute your $W$ and your $B$ from public bytes and get the same rounded verdict—or produce a compliant counterexample—your claim either **counts** or **yields**, irrespective of discipline.

## 15.2 Engineered-$\Phi$ soliton engineering road map

**Purpose.**
Provide a *receipt-true*, quarantined path to design, detect, and audit “soliton-like” phenomena in an engineered-$\Phi$ layer **without** relaxing floors or touching the gate spec. Success contributes capped evidence to $\Phi$; failure yields compliant counterexamples that *defeat* the engineered claim, never the calculus.

**Scope & quarantine.**
Engineered-$\Phi$ dynamics live behind a hard boundary: they **cannot** write to **III.json**, floors, rounding tables, or $\delta$ logic. They may publish *cards* (below), bound their **causality cap** $\hat c\le 1$, and offer reproducible bytes for **REPLAY-RFD**.

---

**Reference model (DNT).**
We adopt Discrete Nonlinear Transport (DNT) as the reference dynamics:

$$
y_{t+1} \;=\; y_t \;+\; \Delta t\left[D\cdot(Ly_t)\;+\;N(y_t)\;+\;u_t\right],
$$

* $y$: moral state on nodes (operational metric $y=\mathrm{arctanh}(x)$).
* $L$: graph Laplacian of the chosen medium (line, lattice, manifold graph).
* $D$: diffusion coefficient (preregistered).
* $N(\cdot)$: bounded nonlinearity (e.g., $N(y)=-\beta\,\tanh(y/\kappa)$ or a saturating cubic), preregistered.
* $u_t$: external drive (pulse), preregistered waveform.
* **Causality:** measure front speed $\hat c$ from multi-site lags; require $\hat c\le 1$ (rounded).

---

**Deliverables (must-publish cards).**

* **DNT-Spec Card.** $\{L$-definition, $D,\beta,\kappa,\Delta t$, boundary conditions, numeric mode, SBOM hashes}.
* **Pulse Card.** Initial/boundary excitation: $\{$shape (kink/gaussian/top-hat), width, amplitude, site set, schedule $u_t$$\}$.
* **Causality Card.** Method and result for $\hat c$ with confidence bands; three-grid phase agreement.
* **Persistence Card.** Amplitude/width/centroid stability vs distance/time; collision outcomes (elasticity).
* **Spectral Card.** Dispersion curve estimate and nonlinearity signature (sidebands/harmonics) from dark data.
* **Falsification Card.** Pre-declared defeat windows and counterexamples that would void the claim.
* **Quarantine Manifest.** Proof that engineered-$\Phi$ cannot read/write floors, $\delta$, or **III.json** (capability map).

All cards are **content-bound** and **byte-equal** to plots/tables (CAPTION→RECEIPT), UTC-anchored (TTDA), and replayable (REPLAY-RFD).

---

**Media & discretization choices (pick one, preregister).**

* **1D line / ring.** Minimal testbed for kink/anti-kink and pulse propagation.
* **2D lattice.** Planar fronts, vortical structures (if $L$ permits).
* **Heterogeneous graph.** Community boundaries and defects for scattering tests.
* **Boundary conditions.** Dirichlet/Neumann/periodic, pinned in DNT-Spec.

---

**Soliton candidates (define before data).**

* **Kink/anti-kink (topological).** Step between two stationary $y$ basins, monitor velocity and width.
* **Pulse (localized).** Gaussian/top-hat packet; track centroid $c(t)$, width $w(t)$, and area $A(t)$.
* **Breather (time-periodic).** Local oscillatory state; verify frequency stability and confinement.

**Persistence metrics (rounded).**
$\Delta A/A,\ \Delta w/w,\ \Delta v/v$ over dark windows; collision elasticity $\epsilon_{\text{coll}}$ (pre/post invariants); spectral drift $\Delta f$.

---

**Protocol (floors-compatible).**

1. **Preregister** DNT-Spec, Pulse, windows, phase grids $k\in\{0,H/3,2H/3\}$, and defeat criteria.
2. **Collect** dark-window sequences with **reset waits $\ge 3\tau_{\text{reset}}$**; perform **bidirectional scans** (§8.1–8.2).
3. **Three-grid alias refuter** (§8.3): reproduce persistence/capacity across phase offsets.
4. **Compute** causality $\hat c$ from lag regression on arrival times; require $\hat c\le 1$.
5. **Publish** cards + receipts; run **REPLAY-RFD** from raw bytes to all reported summaries.

**Defeat examples (must be honored).**

* Phase-dependent existence (fails three-grid).
* $\hat c>1$ (rounded) under dark data.
* Loss of invariance under admissible $G$ transforms.
* REPLAY-RFD divergence at any content-bound step.
* Collisions produce gate-path changes (quarantine breach).

---

**Mapping to $\Phi$ (capped, monotone).**
A successful engineered card contributes $\Delta\Phi=\mathrm{cap}\cdot \sigma(m)$ where margin $m$ is a bounded function (e.g., persistence score minus preregistered threshold) computed **from dark windows** with pinned precision. **Floors dominate $\Phi$;** engineered evidence cannot flip $\delta$ if any floor fails.

---

**Safety & hygiene.**

* **Quarantine.** Separate process, read-only access to raw bytes, no writes to floors/$\delta$/III.
* **Determinism.** RNG-freeze; deterministic kernels for all reported metrics.
* **Energy/thermal budgets.** Report energy/cycle counts; avoid self-heating artifacts.
* **No feedback in dark.** Drives $u_t$ predeclared; no online tuning.

---

**Pseudocode (normative skeleton).**

```text
function RUN_ENGINEERED_PHI(spec, pulses, bytes, III):
    assert QUARANTINE_OK(spec.capabilities)
    raw = DARK_ONLY(bytes, III.dark_spec)
    raw = CANONICALIZE(raw, G)
    assert THREE_GRID_OK(raw, spec.H)
    y = INIT_STATE(spec.init)
    for t in range(T):
        y = STEP_DNT(y, spec.L, spec.D, spec.N, pulses[t], spec.Δt)
        RECORD(y, t)
    metrics = PERSISTENCE(y.timeline)
    ĉ = CAUSALITY_CAP(y.timeline)  # front-speed fit
    assert ROUND(ĉ, III.prec.c) <= 1
    cards = {DNT_SPEC(spec), PULSE(pulses), PERSISTENCE(metrics), CAUSALITY(ĉ), SPECTRAL(y.timeline)}
    FLOORS_ASSERT({G,TTDA,DET,CAPTION})  # floors still apply
    REPLAY_RFD_ASSERT()
    ΔΦ = MAP_TO_PHI(metrics, spec.cap)
    return {cards, ΔΦ}
```

**Minimal checklists (author & auditor).**

* **Author MUST:** preregister DNT-Spec/Pulse/defeat windows; pin code & kernels; publish all cards as content-bound; show $\hat c\le 1$; pass three-grid; separate quarantine process.
* **Auditor MUST:** reproduce cards via REPLAY-RFD; re-fit $\hat c$; re-phase grids; attempt $G$ re-descriptions; file counterexample if any criterion fails.

**Design intent.**
This road map turns “soliton engineering” into **receipts, caps, and counters**: engineer localized, stable structures; time-stamp and replay them; cap their causal influence; and let *any* admissible observer confirm or defeat the effect. Floors stay first; $\delta$ remains a function of the calculus, not the narrative.

## 15.3 Gravastar-TVLM / LLM integration pathways

**Goal.**
Turn a general-purpose language model into a **Gravastar-TVLM**—a *Ternary-Validation Language Model* whose outputs **count** only when they are **receipt-true**, floor-passing, and **replayable to first divergence**. The TVLM augments generation with (i) *measurement before persuasion*, (ii) deterministic, content-bound gating, and (iii) open-join auditability.

**Surfaces of integration.**

1. **Brownfield (wrapper).** Keep the base LLM frozen; wrap inference with a **gate path** that builds receipts, runs floors, and emits $\delta\in\{-1,0,+1\}$ plus a **repair vector** when $\delta\neq +1$.
2. **Amberfield (fine-tune).** Fine-tune the LLM with **δ-aware learning signals** (see below), but preserve the same external gate path.
3. **Greenfield (native TVLM).** Architect decoding + tools + measurement as first-class modules; decoding is *deterministic* on the gate path; claims are packaged as **Receipt v2** bundles with **REPLAY-RFD** traces.

**Gate path (what must be deterministic and public).**

* **Canonicalize prompts/contexts** via the $G$-loaders (units, locale, tokenization, ordering).
* **Deterministic decoding** for gate evaluation (greedy or fixed seed/top-k/top-p pinned in **III.json**); stochastic drafts may exist outside the gate path but **cannot** decide $\delta$.
* **Evidence harvesting** restricted to **content-bound** sources (local corpus snapshots by digest; tool calls with byte-stable outputs).
* **Scoring → $\Phi$.** Compute a rounded **acceptability field** from modular tests, e.g.:

  * **Groundedness/entailment margin** between answer and cited snippets.
  * **Numerics/units** checks (dimensional analysis, significant digits).
  * **Attribution & license** compliance (source allowlist, excerpt byte-binding).
  * **Reproducibility hooks** (for code: unit tests; for math: CAS replay; for data: query digests).
  * **Safety/policy** cards (domain caps).
    Map to orientation $x=2(\Phi/\Phi_{\max})-1$, state $y=\mathrm{arctanh}(x)$.
* **Floors dominate.** Enforce **G-floor**, **TTDA** (UTC-LCRO stamps + stream↔batch parity), **CAUSALITY/ISO** (if toolchains exhibit front-like propagation), **CAPTION→RECEIPT** (bind tables/plots/quotes by bytes), **DETERMINISM** (RNG-freeze on gate path).
* **Decision.** Emit $\delta$ with **repair vector** (minimal edits, added citations, tightened numbers) when $\delta\in\{-1,0\}$.
* **Bundle.** Publish **Receipt v2** (SBOM, thresholds, energy) + **REPLAY-RFD** trace.

**Training signals for a TVLM (amberfield/greenfield).**

* **δ-aware preference learning.** Use DPO/RLHF where *preference is induced by $\delta$*: responses that *become* $\delta=+1$ under the gate path outrank those that fail floors or lack receipts.
* **Geometry-matched loss.** Train a light **policy head** to predict $y=\mathrm{arctanh}(x)$ (or its margins) from draft outputs; this head learns to *steer* toward admissibility.
* **Repair-vector imitation.** Supervise minimal edits that turn $\delta\in\{-1,0\}$ into $\delta=+1$ (add missing citation bytes, swap non-SI units, fix rounding).
* **G-invariance augmentation.** Paraphrase/locale/unit permutations of the same QA pair must preserve rounded diagnostics; penalize violations (G-floor in the loop).

**LLM-tool ecosystem (allowable tools on the gate path).**

* **Retrieval** by digest with byte-exact excerpt capture (offsets + hashes).
* **Calculator/units/CAS** with deterministic kernels and pinned versions.
* **Sandboxed code runner** with deterministic seeds and content-addressed IO.
* **No network fetches** at decision time: all inputs must be present by digest in the receipt bundle.

**Outputs that *count*.**
A response **counts** only if the TVLM emits: (i) rounded diagnostics, (ii) $\delta=+1$, (iii) **Receipt v2** with CAPTION→RECEIPT tokens for every quoted byte, table, or figure, and (iv) a **REPLAY-RFD** trace that regenerates the decision from content-bound inputs. Otherwise the system returns $\delta=0$ with a **repair vector**, or $\delta=-1$ with a defeat reason.

**Open-join audit for LLM claims.**
Ship **tiled bundles** (prompt, canonicalized context, cited snippets, tool outputs, SBOM) so third parties can re-run the gate path. Stream and batch must satisfy

$$
\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\Pi .
$$

Any admissible observer who produces an **RFD divergence**, **G-floor** flip, or **counterexample** defeats the claim; supersession/tombstone follows §12.3.

**Integration metrics (publish, rounded).**

* **G-floor escape rate** under paraphrase/locale/unit fuzzing.
* **RFD divergence rate** across mirrors.
* **Parity margin** $|\delta_{\text{stream}}-\delta_{\text{batch}}|$ distribution vs $\Pi$.
* **Repair efficiency** (edits per $\delta$ flip to +1).
* **Attribution integrity** (% of bytes quoted with correct digests).
* **Energy/latency** per admissible answer (for deployment budgets).

**Pseudocode (normative skeleton).**

```text
function TVLM_ANSWER(prompt, ctx, III, tools):
    P = CANONICALIZE_PROMPT(prompt, G); C = CANONICALIZE_CTX(ctx, G)
    snap = SNAPSHOT_CONTENTS(C, tools.corpus_digest)
    ans = DETERMINISTIC_DECODE(LLM, P, C, III.decode_spec)   # gate path
    cites = HARVEST_CITATIONS(ans, snap, tools.retrieve)
    checks = {
      entail: ENTAILMENT_MARGIN(ans, cites),
      units:  UNITS_CHECK(ans),
      attrib: LICENSE_CHECK(cites),
      numer:  NUMERIC_CHECK(ans, cites),
      code:   RUN_TESTS_IF_CODE(ans)
    }
    Φ = ROUND(AGGREGATE(checks, III.weights), III.prec.Φ)
    x = 2*(Φ/Φ_max) - 1; y = ARCTANH(x)
    FLOORS_ASSERT({G,TTDA,DET,CAPTION[,ISO?]})
    δ = GATE_DECISION(Φ, III.Φ_min, III.Φ_neutral, III.tie_policy)
    if δ != +1:
        rv = REPAIR_VECTOR(ans, checks, III)     # minimal admissible edits
    receipt = MAKE_RECEIPT_V2(P,C,ans,cites,checks,SBOM,UTC_LCRO,energy)
    BIND_CAPTION_TOKENS(receipt, ans, cites)     # byte-equality
    RFD_TRACE = EMIT_REPLAY_RFD(receipt)
    return {ans, δ, y, receipt, RFD_TRACE, repair_vector=rv?}
```

**Deployment notes.**

* **Determinism over style.** Use deterministic kernels for all gate-critical ops; non-deterministic “nice to have” renderings are **render-bound**, not content-bound.
* **Privacy envelopes.** If sensitive sources appear, publish masked, content-bound snippets and declare $\varepsilon_{\text{priv}}$; admissibility is judged on the masked bundle.
* **No proprietary kernels.** TVLM does **not** incorporate Estimator/Cincinnati-style mechanisms; teleomorphic is the *method* (ends-first), not a device.

**Bottom line.**
A Gravastar-TVLM is an LLM whose answers are **measured, floored, and replayable** before they are persuasive. It does not promise to be “always right”; it promises to be **right when it counts**, **defeatable when it isn’t**, and **repairable** by a procedure any admissible observer can run.

---

# 16. Acknowledgments

This work grew through **open-join critique**. I’m grateful to readers who reproduced runs, filed **compliant counterexamples**, and triggered supersessions; the Public Revocation List and repair vectors reflect your care. Special thanks to community auditors who stress-tested the **G-floor**, **TTDA** timing, the **three-grid alias refuter**, and **REPLAY-RFD** pipelines on independent mirrors.

I thank the authors and communities whose canonical results shaped our **witness** and **audit** lineage: Clauser–Horne–Shimony–Holt (CHSH) for a crisp, reproducible test bed; Cook–Mertz and subsequent work for the tree-evaluation perspective on disciplined replay; and R. Williams for framing time–space tradeoffs that influenced how we checkpoint long pipelines. These citations are for scholarly attribution only; **Gravastar makes no new complexity claims**.

I also acknowledge public “teleomorphic/CA” discussions and whitepapers for highlighting **ends-first** framing; **Gravastar does not implement any proprietary Estimator/Cincinnati mechanisms**, and any resemblance is methodological (procedure-first), not mechanical. All IP remains with its holders.

Constructive, receipt-backed editorial suggestions from multiple model assistants—**ChatGPT, Qwen/Qwen-Max, DeepSeek, Grok, Gemini**—were especially helpful in sharpening definitions (e.g., Φ\_{\max} in **III.json**, the in-abstract definition of **admissible observers** via $G$, and the renaming of our audit primitive to **REPLAY-RFD**). Any remaining errors or imprecision are mine.

Thanks as well to colleagues and lab partners who supported **Adamas-1D** runs (e.g., CNT strain/spectroscopy) and allowed byte-binding of figures to receipts, and to maintainers of the open-source tooling stacks used to build deterministic, content-bound artifacts.

Finally, I’m indebted to early readers who insisted that *“acceptable to all”* be made **operational** rather than rhetorical. Your insistence moved Gravastar from metaphor to method.

---

# 17. Data, Code & Receipt Availability

**Scope of release.**
We release everything required for **open-join audit** and **REPLAY-RFD** (Replay-to-First-Divergence): raw bytes, canonicalization code, pinned parameters (**III.json**), gate-path implementations, SBOMs, and receipt bundles. Render-only assets (figures, videos) are provided but **do not** participate in gating.

**Artifacts (content-addressed).**

* **III.json (pinned manifest).** Budgets, thresholds, precisions, tie policy, $\Phi_{\min}$, $\Phi_{\text{neutral}}$, $\Phi_{\max}$, decode spec, block/ladder sizes, rounding table, and $G$ definitions.
* **Receipt v2 bundles** (`.tar.zst`), one per edition $E_k$, **addressed by SHA-256** of the bundle:

  * `receipt.json` (top-level provenance),
  * `sbom.*` (software bill of materials for OS, compilers, BLAS/CUDA if any),
  * `inputs/` (raw content-bound bytes; UTC-LCRO clock dumps),
  * `canon/` (canonicalized tables),
  * `features/` (dark-window diagnostics),
  * `gates/` (rounded gate tables that feed $\delta$),
  * `plots/` (render-bound; byte-bound via CAPTION→RECEIPT tokens),
  * `rfd/` (REPLAY-RFD scripts + expected hashes).
* **Source code (gate-path only).** Deterministic implementations of loaders, canonicalizers, witness methods, and gating; **network access is disabled** by default.
* **Containers / environments.** OCI images pinned by **immutable digest** (e.g., `sha256:…`), with numeric modes/flags set for determinism.
* **Public Revocation List (PRL).** JSON ledger of defeats/supersessions with the **exact content hashes** affected.
* **Test vectors.** $G$ canonicalization fuzz set (units, locale, tokenization, ordering, Unicode confusables) and timing phasing files for the **three-grid alias refuter**.

**Mirrors and addressing.**
Bundles are published on **at least two independent mirrors** and referenced **only by content hash** (not mutable paths). Each edition $E_k$ cites:

* `bundle_sha256`,
* `container_digest`,
* `explain_url` (human-readable index),
* `doi_or_archive_id` (if minted).
  Auditors may fetch from any mirror; **byte equality** of the bundle hash is the acceptance check.

**How to reproduce (normative, minimal).**

1. **Fetch & verify.** Download the `Receipt v2` bundle by `bundle_sha256`; verify SHA-256 locally.
2. **Load container.** Pull the pinned OCI image by digest; verify the digest.
3. **Run REPLAY-RFD.** Execute `rfd/replay.sh` (or `rfd/replay.py`) inside the container:

   * **Mode A (leaf→root):** recompute `canon/ → features/ → gates/` and halt at first divergence (if any).
   * **Mode B (card):** regenerate each **witness card** (e.g., CHSH) and compare rounded outputs.
4. **Check floors.** Run `make floors`: G-floor invariance suite, TTDA parity test

   $$
   |\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\,\Pi
   $$

   three-grid alias refuter, CAPTION→RECEIPT token verifier, DETERMINISM checks.
5. **Emit verdict.** The script writes `rfd/verdict.json` with PASS/FAIL and any divergence locus.

**Streaming vs batch parity.**
Each bundle includes `stream/` and `batch/` tiles with the **same rounding table** and tie policy (from **III.json**). The parity bound and measured margin are logged in `ttda/report.json` and reproduced by REPLAY-RFD.

**Adamas-1D & CHSH materials.**

* **Adamas-1D.** CNT strain/spectroscopy runs are released as tiled dark-window slices with reset-wait metadata, phasing (`H, k∈{0,H/3,2H/3}`), and calibration tables. Pairing/binning rules are **predeclared** in `methods/scanprotocol_v1.md`.
* **CHSH.** Trials $(t,a,b,x,y)$ are byte-bound; pairing rule is pinned (event-ready or fixed time-bin). Rounded counts $N^{ij}_{uv}$, correlators $E_{ij}$, and $S$ are regenerated by `cards/chsh.py`.

**Licensing.**

* **Text & figures:** CC-BY 4.0 (attribution required).
* **Code (gate-path & tools):** Apache-2.0 (or MIT) — permissive, with explicit **no-warranty**.
* **Data/receipts:** CC0 or CC-BY 4.0 (choose one and state in `LICENSE_DATA`), excluding any third-party materials redistributed under their original terms (those appear in `THIRD_PARTY_NOTICES`).
  Licenses are included in each bundle; **no additional click-through** is required to audit.

**Privacy & masking.**
Where raw data contains sensitive elements, we provide **masked, content-bound** equivalents and declare the privacy envelope $\varepsilon_{\text{priv}}$ in **III.json**. Masking survives rounding and is verified in REPLAY-RFD. Unmasked raw data, if unavailable, is not used on the **gate path**.

**Versioning & supersession.**
Editions follow `vMAJOR.MINOR.PATCH`:

* **MINOR/PATCH** may add artifacts without altering gate results.
* **MAJOR** may change **III.json** or floors and must include a **supersession map**; prior editions remain hosted but are tombstoned in the **PRL** if defeated.

**Contact & notifications.**
Audit questions and counterexamples: **[ramin.melikov@gmail.com](mailto:ramin.melikov@gmail.com)** (subject: “Gravastar audit”). Confirmed defeats are appended to the **PRL** and trigger a superseding release; notifications appear in the `explain_url` of the latest edition.

**What is *not* required to access.**
No identities, NDAs, proprietary toolchains, or license servers are needed to run audits. If a jurisdiction imposes legal constraints on certain bytes, the bundle includes a **jurisdictional mask** and a reproducible alternative path.

**One-page “start here.”**
Each edition ships `START.md` summarizing: hashes, container digests, the single command to run **REPLAY-RFD**, expected rounded outputs, and links to **III.json**, floors, and the **PRL**.

---

# 18. References

[1] Clauser, J. F.; Horne, M. A.; Shimony, A.; Holt, R. A. “Proposed Experiment to Test Local Hidden-Variable Theories.” *Physical Review Letters* **23**, 880–884 (1969). doi:10.1103/PhysRevLett.23.880.

[2] Cook, S.; McKenzie, P.; Wehr, D.; Braverman, M.; Santhanam, R. “Pebbles and Branching Programs for Tree Evaluation.” arXiv:1005.2642 (2010).

[3] Cook, J.; Mertz, I. “Tree Evaluation Is in Space $O(\log n \cdot \log\log n)$.” In *Proceedings of STOC 2024*. ACM (2024). doi:10.1145/3618260.3649664.

[4] Williams, R. R. “Simulating Time With Square-Root Space.” arXiv:2502.17779 (2025).

[5] Su, W. P.; Schrieffer, J. R.; Heeger, A. J. “Solitons in Polyacetylene.” *Physical Review Letters* **42**, 1698–1701 (1979). doi:10.1103/PhysRevLett.42.1698.

[6] Su, W. P.; Schrieffer, J. R.; Heeger, A. J. “Soliton excitations in polyacetylene.” *Physical Review B* **22**, 2099–2111 (1980). doi:10.1103/PhysRevB.22.2099.

[7] Efroni, Y.; Ilani, S.; Meir, Y. “Topological transitions and fractional charges induced by strain and a magnetic field in carbon nanotubes.” arXiv:1608.05976 (2016; v3 2017).

[8] Allan, D. W. “Statistics of Atomic Frequency Standards.” *Proceedings of the IEEE* **54**, 221–230 (1966). doi:10.1109/PROC.1966.4634.

[9] Descartes, R. *Meditations on First Philosophy* (1641). (Any modern scholarly edition, e.g., Cambridge University Press, 1996.)

[10] Dewey, J. *Logic: The Theory of Inquiry.* New York: Henry Holt (1938).

[11] Peirce, C. S. “The Fixation of Belief.” *Popular Science Monthly* **12**, 1–15 (1877). (Reprinted in *Collected Papers of Charles Sanders Peirce*.)

[12] **Brain-CA patent (teleomorphic/CA framing).** *Artificial intelligence based on cellular automata.* US Patent **11,847,386 B1** (Dec 19, 2023) (and divisional **12,050,846 B1**, 2024). Assignee: Brain-CA Technologies, Inc.

[13] **Brain-CA whitepaper.** “The BRAIN-CA™ Estimator and The Cincinnati Algorithm.” Technical whitepaper (June 2024). Brain-CA Technologies.

[14] (Context note) Brain-CA press announcement summarizing patent family and “teleomorphic” paradigm (Aug 2024). Brain-CA Technologies.

---

# Appendices

## Appendix A. Formal statement/proof sketch of TST and $\delta$ calculus lemmas

**Standing context.**
Fix a pinned manifest **III.json** containing: rounding precisions, tie policy, $\Phi_{\min}$, $\Phi_{\text{neutral}}$, $\Phi_{\max}$, decode spec, time budgets $\Pi$, RG-grid parameters, and the observer-equivalence group $G$. A **Receipt v2** bundle $B$ contains immutable, content-addressed inputs (raw bytes), SBOMs, canonicalizers, feature/diagnostic code, and gate tables. All numeric comparisons are **round-before-compare** at the declared precision in **III.json**.

**Canonical pipeline.**
Let

$$
\begin{aligned}
\mathrm{Canon}_{G}&:\text{bytes}\to\text{canonical tables},\\
\mathrm{Diag}&:\text{tables}\to\text{diagnostic cards (witnesses, counts, margins)},\\
\mathrm{Agg}&:\text{cards}\to \Phi\in[0,\Phi_{\max}],\\
\mathrm{TTDA}&:\text{(stream,batch)}\to \text{parity report},\\
\mathrm{Floors}&:\ (\text{G, PoS Screen, WITNESS policy (if used), CAUSALITY/ISO},\\
&\qquad\qquad\ \ \text{CAPTION}\!\to\!\text{RECEIPT, DETERMINISM})\to\{\textsf{pass},\textsf{fail}\}.
\end{aligned}
$$

Define the **effective acceptability**

$$
\Phi_{\mathrm{eff}} \;=\; \mathrm{clamp}\bigl(\Phi-\Pi,\ 0,\ \Phi_{\max}\bigr),
$$

and the **orientation/state mapping**

$$
x \;=\; 2(\Phi_{\mathrm{eff}}/\Phi_{\max})-1,\qquad y=\mathrm{arctanh}(x).
$$

The gate thresholds are $\Phi_{\text{neutral}}$ and $\Phi_{\min}$ with $0\le \Phi_{\text{neutral}}<\Phi_{\min}\le \Phi_{\max}$.

---

### Timeline Selection Theorem (TST): statement

**Theorem (TST: well-posed, gauge-invariant, time-stable gating).**
For any edition $E$ with manifest **III.json** and receipt bundle $B$, define

$$
\delta(E)\;=\;
\begin{cases}
+1,& \text{if }\mathrm{Floors}(B)=\textsf{pass},\ \mathrm{TTDA}(B)\text{ satisfies }|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi,\\
&\quad\text{and }\mathrm{ROUND}(\Phi_{\mathrm{eff}},\rho_\Phi)\ge \mathrm{ROUND}(\Phi_{\min},\rho_\Phi);\\[4pt]
0,& \text{if }\mathrm{Floors}(B)=\textsf{pass},\ \mathrm{TTDA}\text{ parity holds},\ \text{and }\\
&\quad \mathrm{ROUND}(\Phi_{\text{neutral}},\rho_\Phi)\le \mathrm{ROUND}(\Phi_{\mathrm{eff}},\rho_\Phi)< \mathrm{ROUND}(\Phi_{\min},\rho_\Phi);\\[4pt]
-1,& \text{otherwise.}
\end{cases}
$$

Then:

1. (**Determinacy**) $\delta(E)$ is a total, single-valued function of the bytes in $B$ and **III.json**; it does not depend on non-pinned environment details.
2. (**Gauge invariance**) For any admissible re-description $g\inG$, $\delta(E)=\delta(E^g)$ where $E^g$ applies $g$ to inputs; likewise $y$ is invariant up to rounding.
3. (**Time stability**) If $\mathrm{TTDA}$ reports $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$ and both paths use the same rounding/tie policy, then $\delta$ computed from stream vs batch agree.
4. (**Open-join reproducibility**) Any admissible observer running **REPLAY-RFD** on $B$ reproduces $\delta(E)$ up to the declared rounding; any **compliant counterexample** (first-divergence trace or floor violation) defeats $\delta=+1$.

*Proof sketch.*
(1) All gate inputs are content-addressed; rounding is fixed; therefore the composed map $B\mapsto \Phi_{\mathrm{eff}}\mapsto \delta$ is a function.
(2) $\mathrm{Canon}_{G}$ quotients inputs by $G$; diagnostics operate on equivalence classes, hence invariance.
(3) With identical rounding, the TTDA bound guarantees that any difference in diagnostics is strictly below the threshold needed to flip the ternary inequalities, so $\delta$ coincides.
(4) **REPLAY-RFD** executes the same pinned transforms and halts at the earliest mismatch; if none, the observer obtains identical rounded diagnostics and $\delta$. A compliant mismatch or a failed floor implies the original edition’s premises are false in the public method; supersession follows. □

---

### Core lemmas of the $\delta$ calculus

**Lemma A (round-before-compare determinacy).**
Let $\rho_\Phi$ be the precision for $\Phi$. If comparisons are performed on $\mathrm{ROUND}(\cdot,\rho_\Phi)$, then (i) ties are idempotent under re-evaluation, and (ii) decisions are stable under perturbations $<\tfrac12\cdot10^{-\rho_\Phi}$.
*Sketch.* Rounding induces a partition of $[0,\Phi_{\max}]$ into closed bins; decisions check bin membership only.

**Lemma B (floors dominate $\Phi$).**
If any floor fails, then $\delta=-1$ regardless of $\Phi$.
*Sketch.* Floors are conjunctive preconditions to admissibility; the gate is sequenced as $\text{Floors}\land\text{TTDA}\land(\Phi\text{ thresholds})$.

**Lemma C (gauge invariance under $G$).**
For admissible $g\inG$, the tuple of rounded diagnostics is unchanged.
*Sketch.* Canonicalizers normalize units/encodings/ordering/tokenization/locale; invariance tests in CI enforce equality on the rounded outputs.

**Lemma D (TTDA parity implies $\delta$ equality).**
If stream/batch pipelines share rounding/tie policy and TTDA reports $|\delta_{\text{stream}}-\delta_{\text{batch}}|\le \Pi+0.01\Pi$, then both yield the same $\delta$.
*Sketch.* Any residual numeric drift is bounded below the first threshold gap, so inequalities evaluate identically.

**Lemma E (monotone, capped aggregation to $\Phi$).**
If each card contributes $\Delta\Phi_i\ge 0$ via a declared monotone map (e.g., a logistic of margin at precision $\rho_\Phi$) and caps are enforced, then $\Phi$ is monotone in evidence and bounded by $\Phi_{\max}$.
*Sketch.* Sum of nonnegative capped terms, then clamp.

**Lemma F (repair vector adequacy).**
Let $x=2(\Phi_{\mathrm{eff}}/\Phi_{\max})-1$ and $y=\mathrm{arctanh}(x)$. For $\delta\in\{-1,0\}$, any admissible local change that increases $y$ (equivalently, increases $\Phi_{\mathrm{eff}}$) strictly moves the state toward $\delta=+1$.
*Sketch.* $dy/dx=1/(1-x^2)>0$ on $(-1,1)$; thus increasing $x$ increases $y$. The *repair vector* points along declared budget-respecting edits (e.g., add missing byte-bound citations, fix units) that increase $\Phi$.

**Lemma G (counterexample defeat and supersession).**
A compliant counterexample—either (i) a REPLAY-RFD first-divergence from $B$ at a content-bound step, or (ii) a reproduced floor failure—forces $\delta^+$ to be revoked and superseded by $\delta\in\{0,-1\}$.
*Sketch.* The edition’s claim includes its reproducibility; a public failure refutes a premise. The PRL entry and supersession map are part of the governance.

**Lemma H (REPLAY-RFD uniqueness of locus).**
Given a topologically sorted gate DAG with content-addressed checkpoints, REPLAY-RFD halts at a unique earliest node where digests differ or rounded outputs mismatch.
*Sketch.* Acyclicity and content addressing impose a partial order; first divergence is well-defined and independent of traversal among topological sorts.

**Lemma I (panels/coverage are not “all”).**
Panel statistics may contribute to $\Phi$ under declared caps, but cannot instantiate the universal quantifier in “acceptable to all.”
*Sketch.* “All” is implemented as open-join reproducibility under $G$, not as sample coverage; floors + TTDA + RFD define universality operationally.

**Lemma J (engineered-$\Phi$ quarantine).**
Let $\mathsf{DNT}$ be any engineered dynamics producing evidence cards. If quarantine forbids writes to **III.json**, floors, and gate code, then engineered evidence cannot change thresholds or tie policy and cannot bypass floors.
*Sketch.* Capability separation ensures engineered outputs are treated as ordinary capped cards; Lemma B applies.

---

### Corollaries

**C1 (device/lab portability).**
If two labs publish editions $E_1,E_2$ with identical **III.json**, and their Receipt bundles differ only by raw bytes and benign $G$-re-descriptions, then any admissible observer reproduces $\delta(E_1)=\delta(E_2)$ when $\Phi_{\mathrm{eff}}$ and floors/TTDA agree after rounding.
*Sketch.* Lemmas A–D.

**C2 (stability under mirroring).**
Mirrored bundles with identical content hashes yield identical $\delta$; any mismatch implies corruption or environment drift, found by REPLAY-RFD.
*Sketch.* Determinacy + RFD.

**C3 (no narrative override).**
Render-bound artifacts (figures/videos) have no effect on $\delta$ unless byte-bound via CAPTION→RECEIPT and recomputed in the gate path.
*Sketch.* Floor B (CAPTION→RECEIPT) + pipeline definition.

---

### Proof-of-method checklist (normative)

* **Inputs:** content-addressed; **no network fetches** at decision time.
* **Rounding/ties:** pinned in **III.json**; applied before every comparison.
* **G-floor:** invariance suite passes under units/locale/tokenization/ordering permutations.
* **TTDA:** UTC-LCRO badge; stream/batch parity bound satisfied.
* **Floors:** WITNESS policy (if used), CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM all $\textsf{pass}$.
* **Aggregation:** monotone, capped; map to $x,y$; compute $\delta$.
* **Replay:** REPLAY-RFD script yields no divergence; otherwise file PRL entry and supersede.

---

**Conclusion.**
TST makes the ternary gate $\delta$ **well-posed, gauge-invariant, time-stable, and publicly reproducible** under the declared method. The lemmas codify how rounding, floors, TTDA, and replay interact so that *one* compliant counterexample is sufficient for defeat, while genuine progress appears as monotone, receipt-true increments in $\Phi$ that move the system along the repair vector toward $\delta=+1$.

## Appendix B. G-floor test suite and admissible re-description classes

**Purpose.**
The G-floor enforces **gauge invariance under admissible re-descriptions**: if inputs are equivalently expressed (units, encodings, orderings, tokenization, locale, benign paraphrase of captions), then all **rounded diagnostics that feed $\Phi$** must be unchanged. This appendix specifies (i) the *classes* of admissible re-description in $G$, (ii) the **canonicalization** map used by loaders, and (iii) the **test suite** that certifies invariance. Failures are floor violations (→ $\delta=-1$).

---

### B.1 Admissible re-description classes $G$

We model $G$ as a finite product of generators; an admissible re-description is any finite composition of the following transformations, each **semantics-preserving** at declared precision:

1. **Units & dimensions (U).**
   Linear unit changes with pinned constants (SI base & accepted): °C↔K, in↔mm↔cm↔m, psi↔Pa, eV↔J, Hz↔rad/s (with $2\pi$ rule declared), dB add/mult conventions (pinned), percent↔fraction. Includes micro symbol normalization (µ/μ→10⁻⁶), × vs “x” (×→·). **Excludes:** nonlinear remapping without physical identity (e.g., gamma correction), ad-hoc “calibration” without published map.

2. **Numeric formatting (N).**
   Decimal comma vs dot, thin spaces as thousand separators, exponent glyphs (E/e/×10^n), Unicode minus (U+2212) vs hyphen-minus, leading/trailing zeros, signed zero normalization, NaN/Infs to canonical tokens, per-mille↔percent (with factor 0.1). **Excludes:** rounding changes beyond **III.json** precision, manual significant-figure edits.

3. **Locale & language (L).**
   Language of labels/captions; month/day names; RTL/LTR reflow; Indic/Arabic-Indic digits → ASCII digits; CSV list separators (comma/semicolon) tied to decimal comma. **Excludes:** semantic relabeling (changing meaning), dropping required fields.

4. **Encoding & Unicode normalization (E).**
   UTF-8/16 with/without BOM; NFC/NFKC normalization; homoglyph smoothing for measurement tokens (Ω/Ohm, μ/u, “−”/“-”). **Excludes:** lossy transcoding that changes bytes of content-bound tables.

5. **Structural ordering (S).**
   Row/column permutation with schema-preserving keys; JSON key reordering; YAML whitespace variance; stable joins with explicit sort keys; CRLF/LF line endings. **Excludes:** joins without keys, order-dependent reductions, group-by re-bucketing.

6. **Containers & compression (C).**
   CSV/TSV/Parquet/Feather carrying the same logical table; gzip/zstd/zip archives; tar layout differences; file path separators. **Excludes:** Excel formulas, macros, hidden sheets that alter values.

7. **Time base & stamps (T).**
   Timezone labels, UTC offsets, DST notations; ISO-8601 variants; epoch seconds vs RFC3339; leap-second notation; calendar names—**all normalized to UTC-LCRO**. **Excludes:** resampling/re-binning, time warping, or patching stamps without published rule.

8. **Tokenization & segmentation (K).**
   For text used as evidence (captions, protocol), token boundary conventions (BPE/wordpiece/whitespace), case-folding in non-code fields. **Excludes:** semantic paraphrase of **content-bound** tables; token filters that drop numerics/units.

9. **Benign paraphrase of *render-bound* narrative (P).**
   Rewording a caption **whose bytes are bound to a content-bound table** via CAPTION→RECEIPT. Narrative style may change; the **bound data** must not. **Excludes:** paraphrase that removes/changes the bound table or alters its interpretation.

$G = U \times N \times L \times E \times S \times C \times T \times K \times P$. Admissibility is *relative to* the pinned canonicalizer: if the transform is not recognized/pinned, it is **not** in $G$.

---

### B.2 Canonicalization map (normative)

The loader implements

$$
\mathrm{Canon}_{G}:\ \text{bytes}\ \to\ \text{canonical table(s)}
$$

as a pure function with the following steps (content-addressed checkpoints):

1. **Decode & normalize (E).** Detect encoding, strip BOM, apply NFC; map homoglyphs $\{\mu,\text{µ}\}\to$ “u” in unit tokens; U+2212→“-”; ×→“·”.
2. **Parse container (C).** Uniform table model with schema/units metadata; reject executable content.
3. **Normalize numerics (N).** Decimal comma→dot; kill thin-spaces; standardize exponents; map “%” to fraction per field schema; handle signed zero; replace NaN payloads with canonical NaN.
4. **Normalize units (U).** Apply pinned conversion factors; carry dimension tags; ensure SI base where possible.
5. **Locale fields (L).** Translate date/month/day names; digits to ASCII; list separators mapped; preserve field semantics.
6. **Time (T).** Convert to UTC; record original zone; enforce monotonicity if declared; flag overlaps/gaps.
7. **Structure (S).** Sort rows/cols by pinned keys; stable join order; hash keys for joins.
8. **Tokenization (K).** For narrative/captions, produce token stream for diagnostics; **do not** use for gate numerics.
9. **Round & seal.** Apply **round-before-compare** precisions per field as in **III.json**; emit digests.

All subsequent diagnostics operate on this canonical form.

---

### B.3 Test suite (invariance & adversarial)

**Goal.** Prove that for any $g\inG$, the rounded diagnostic vector $\mathrm{ROUND}(\text{diag},\rho)$ is unchanged.

#### B.3.1 Invariance harness

* **Seed corpus.** Minimal tables (scalars, vectors, matrices) with units; timestamped sequences spanning DST/leap seconds; CSV/TSV/Parquet/JSON/YAML variants; multilingual labels; tricky Unicode (minus, micro, Ω, ×); CRLF/LF.

* **Transform bank.** Implement each generator in $G$: U: °C↔K, psi↔Pa, eV↔J; N: comma/dot, per-mille, exponent spellings; L: month/day in 6 languages; E: NFC/NFKC, BOM; S: row/col permutation; C: container flips; T: timezone/dst/epoch shims; K: tokenization variants; P: caption paraphrases with bound-table retained.

* **Property test (per transform).**

  ```
  diag0 = DIAG(CANON(bytes))
  diag1 = DIAG(CANON(apply(g, bytes)))
  assert ROUND(diag0, ρ) == ROUND(diag1, ρ)
  ```

  where `DIAG` includes witness stats, counts, margins, and any gate-path feature.

* **Composition test.** Randomly compose up to length 6 and re-run.

* **Permutation stability.** For joins/aggregations, verify order-independence at declared precision.

* **Locale fuzz.** Randomly mix digit systems and separators within allowed fields; must still parse to identical numerics.

#### B.3.2 Adversarial (must FAIL)

Transformations **not** in $G$ must flip the invariance test, yielding explicit **floor violations**:

* Resampling/rebinning, smoothing/denoising, interpolation; time warping/rescaling.
* Changing significant figures/rounding beyond **III.json**; truncation.
* Non-linear “calibration” without pinned map; unit changes with misdeclared dimensions.
* CSV row drops or duplicate collapse; unstable joins; key edits.
* Token filters dropping numerics; language “translation” that alters operands or units.
* Changing RNG seeds or numeric modes for gate computations.
* Substituting render-bound figures for content-bound tables.

Each adversarial transform ships a *counterexample card* demonstrating the failure.

---

### B.4 Golden cases & tricky corners

* **Minus/Hyphen/En-dash.** U+2212, U+002D, U+2013 → canonical “-”.
* **Micro.** Greek mu (μ), micro sign (µ) → “u” token in units; $10^{-6}$ multiplier only when part of unit.
* **Ohm.** Ω, ohm, “R” suffixes → Ω canonical; treat “kΩ”, “MΩ” with SI prefixes.
* **Percent/per-mille.** “12.5%”, “0.125”, “125‰” → same numeric with schema pin.
* **Decimal comma CSV.** `;` as field separator, `,` as decimal; normalize both.
* **DST overlaps.** Ambiguous local times normalized to UTC with LCRO trail; duplicates flagged.
* **Signed zero.** `-0.0` equals `0.0` in comparisons; preserve sign only for display (render-bound).
* **NaN/Inf.** Canonical tokens; excluded from sums unless method declares otherwise.
* **Scientific text.** “1e3”, “10^3”, “1×10³” → same numeric.
* **Tokenization drift.** BPE vs wordpiece must not alter numeric extraction or unit parsing.

---

### B.5 Conformance artifacts

* **G-floor report.** JSON with: transform id, input/output digests, rounded diagnostic vectors, PASS/FAIL, and divergence locus (if any).
* **$G$-fuzzer seeds.** Reproducible seeds and transform sequences for CI.
* **Locale packs.** Dictionaries for month/day names, numerals, decimal/grouping symbols.
* **Unit tables.** Pinned conversion constants with provenance; hash included in receipts.
* **Counterexample shelf.** Curated failing transforms with minimal reproducing bundles.

A release **MUST** pass the full invariance harness and publish its **G-floor report** in the Receipt bundle.

---

### B.6 Pseudocode (normative harness)

```text
function G_FLOOR_TEST(bytes, III, bank):
    canon0 = CANON(bytes, III)                # content-addressed
    diag0  = ROUND(DIAG(canon0), III.prec)
    for g in bank.admissible:                 # generators and compositions
        b1 = APPLY(g, bytes)
        canon1 = CANON(b1, III)
        diag1  = ROUND(DIAG(canon1), III.prec)
        assert diag0 == diag1                 # invariance
    for bad in bank.adversarial:
        b2 = APPLY(bad, bytes)
        canon2 = CANON(b2, III)
        diag2  = ROUND(DIAG(canon2), III.prec)
        assert diag0 != diag2 or RAISED_FLOOR_VIOLATION()
    EMIT_G_REPORT(digests, passes, divergences)
```

---

### B.7 Governance & versioning

* **Pinned $G$ spec.** The exact transform set and canonicalizer version are hashed and referenced in **III.json**.
* **Backwards compatibility.** Expanding $G$ or canonicalizers is a **MAJOR** change; prior editions remain valid but must declare the version.
* **CI requirement.** No edition may ship without a **PASS** G-floor report; any lab adopting a different locale or unit practice must contribute test cases upstream.

---

**Bottom line.**
The G-floor converts “admissible re-description” from a slogan into a **byte-checked contract**: if two descriptions mean the same thing, the gate sees the same numbers—*anywhere*, for *anyone*, at the declared precision. If not, the edition fails fast, with a reproducible counterexample.

## Appendix C. TTDA derivations, RG-grid definitions, and parity diagnostics

**Standing model.**
TTDA (Ternary Threshold & Deviation Accounting) binds *time* so that the ternary gate $\delta$ is **time-stable** under admissible execution schedules. An edition pins: (i) **UTC-LCRO** stamp(s) and oscillator class, (ii) a **Right-to-Temporal-Resolution** budget, (iii) an **RG-grid** segmentation of events, and (iv) a **parity budget** $\Pi$ for stream↔batch drift. All comparisons are **round-before-compare** at precisions in **III.json**.

---

### TTDA inequality and $\delta$-stability

Let $\Phi_{\text{stream}}$ and $\Phi_{\text{batch}}$ be the (rounded) acceptability fields computed on the *stream* and *batch* pipelines **from the same content-bound bytes**. Define the **effective** fields

$$
\Phi_{\mathrm{eff}}^{(\cdot)}=\mathrm{clamp}(\Phi^{(\cdot)}-\Pi,\,0,\,\Phi_{\max}),
$$

where $\Pi$ is the preregistered *deviation budget* (units of $\Phi$). TTDA requires the **parity bound**

$$
\bigl|\delta_{\text{stream}}-\delta_{\text{batch}}\bigr|\le \Pi+0.01\,\Pi,
$$

interpreted operationally as: (i) both pipelines use the *same* rounding/tie policy; (ii) the *rounded* inequalities that define $\delta$ evaluate identically.

**Gap lemma (rounding form).**
Let $\rho_\Phi$ be the rounding precision for $\Phi$ and $\Delta_\rho=\tfrac{1}{2}\cdot 10^{-\rho_\Phi}$ the *half-ulp*. If

$$
\bigl|\Phi_{\text{stream}}-\Phi_{\text{batch}}\bigr| \;<\; \min\bigl\{\;\underbrace{\Phi_{\min}-\Phi_{\text{neutral}}}_{\text{threshold gap}}\;,\;\underbrace{2\Delta_\rho}_{\text{one rounding bin}}\;\bigr\} - \Pi,
$$

then $\mathrm{ROUND}(\Phi_{\mathrm{eff}}^{\text{stream}},\rho_\Phi)$ and $\mathrm{ROUND}(\Phi_{\mathrm{eff}}^{\text{batch}},\rho_\Phi)$ fall in the **same** bin relative to $\Phi_{\text{neutral}}$ and $\Phi_{\min}$; hence $\delta_{\text{stream}}=\delta_{\text{batch}}$.
*Sketch.* Subtracting $\Pi$ and rounding can only shrink differences; staying strictly within a single bin on both thresholds yields identical ternary outcomes.

**Consequences.**

* If a measured stream↔batch drift threatens to cross a **rounded** threshold, TTDA *forces* $\delta$ to $0$ (neutral) rather than risk a spurious flip.
* Publishing $\Pi$ converts “timing noise” into an explicit, auditable resource: the author spends $\Pi$ where needed and cannot silently exceed it.

---

### RG-grid construction (phase alias refuter)

The **RG-grid** partitions event time into *phase-shifted* windows to expose aliasing or schedule-locked artifacts.

* Choose a fundamental horizon $H>0$ (e.g., a scan row, a block of trials) and an integer granularity $m\ge 3$.
* Define bins of width $\Delta=H/m$ and the three **phases**

$$
k \in \Bigl\{0,\ \frac{H}{3},\ \frac{2H}{3}\Bigr\}.
$$

* For phase $k$, the bin edges are $k+j\Delta$ for $j=0,\ldots,m$.

**Diagnostics must:**
(1) produce the same **rounded** witness statistics $W$ in each phase; (2) report **ladder curves** $W_h$ vs block sizes $n_h$ that agree across phases within rounding; (3) flag any phase-dependent divergence as a floor failure (aliasing).

**Budgets.**
TTDA carries an explicit sum $\Pi_{\text{time}} = \Pi_{\text{class}} + \varepsilon_{\text{join}} + \varepsilon_{\text{clock}} + \varepsilon_{\text{priv}}$ for (respectively) classed timing jitter, stream/batch join tolerance, clock error, and privacy-mask timing slack. The *net* $\Pi$ used in $\Phi_{\mathrm{eff}}$ must satisfy $\Pi \le \Pi_{\text{time}}$ and is pinned in **III.json**.

---

### UTC-LCRO badge and clock model

Each bundle includes a **UTC-LCRO** badge per capture device:

$$
\text{LCRO} = (\text{UTC stamp},\ \text{offset to reference},\ \text{oscillator class},\ \text{drift bound},\ \text{leap-second handling}).
$$

* **UTC stamp:** RFC3339 with sub-second resolution (pinned).
* **Offset:** signed offset (ns) to the lab’s reference clock at stamp time.
* **Class & drift:** oscillator spec (e.g., OCXO, Rb) and a bound $|\dot{\Delta}|\le \alpha$ (ns/s).
* **Leaps:** explicit flag for smear vs step; conversions are *canonicalized* in the loader.

**Note.** Authors may optionally publish *Allan deviation* summaries $\sigma_y(\tau)$ for context; TTDA does **not** require them for gating but accepts them as witness cards in metrology contexts.

---

### Parity diagnostics (what we compute and publish)

For each gate-critical statistic $S$ (e.g., a witness margin, a count ratio), compute on stream and batch:

* **Point drift:** $\Delta S = \mathrm{ROUND}(S_{\text{stream}}-S_{\text{batch}}, \rho_S)$.
* **Bin class agreement:** same rounded bin? (boolean).
* **Phase stability:** $\max_k |S_{\text{stream}}^{(k)}-S_{\text{batch}}^{(k)}|$ across RG phases.
* **Threshold margin:** distance (rounded) to nearest gate threshold after subtracting $\Pi$.
* **Attribution of drift:** decomposition by pipeline stage (ingest → canonicalize → features → aggregate), each with digests and per-stage $\Delta$.

A **PASS** requires: (i) bin class agreement for *all* gate-critical $S$; (ii) max phase drift within rounding; (iii) $|\delta_{\text{stream}}-\delta_{\text{batch}}|=0$ at the ternary level; (iv) cumulative $\Pi$ spend $\le\Pi_{\text{time}}$.

---

### Failure taxonomy and repair vectors

* **F-1 (clock skew beyond $\varepsilon_{\text{clock}}$).** *Repair:* recalibrate LCRO offsets; re-emit timings; increase $\varepsilon_{\text{clock}}$ **only** via MAJOR edition with justification.
* **F-2 (join non-associativity).** *Repair:* pin stable sort keys and grouping; publish $\varepsilon_{\text{join}}$; re-run.
* **F-3 (phase-locked artifact).** *Repair:* randomize scheduling or increase $H$; ensure phase-invariant acquisition; re-measure.
* **F-4 (rounding inconsistency).** *Repair:* centralize rounding; assert round-before-compare; regenerate all gate tables.
* **F-5 (privacy mask re-timing).** *Repair:* publish masked timing spec; account in $\varepsilon_{\text{priv}}$; show rounded invariance.

Any F-class unresolved at publication forces $\delta\to -1$ (floors dominate).

---

### Pseudocode (normative parity harness)

```text
function TTDA_PARITY(bytes_stream, bytes_batch, III):
    S0 = PIPELINE(bytes_stream, III, phase=None)  # canonical → features → gate stats
    S1 = PIPELINE(bytes_batch,  III, phase=None)
    Δ = ROUND(S0 - S1, III.prec.stats)
    Π_spent = ACCOUNT_TIMING_BUDGET(S0.meta, S1.meta, III)
    phases = {0, H/3, 2H/3}
    stable = True
    for k in phases:
        Sk0 = PIPELINE(bytes_stream, III, phase=k)
        Sk1 = PIPELINE(bytes_batch,  III, phase=k)
        stable &= SAME_ROUNDED_BIN(Sk0, Sk1, III.prec.stats)
    δ0 = GATE_DECISION_FROM(S0, III)
    δ1 = GATE_DECISION_FROM(S1, III)
    parity_ok = (δ0 == δ1) && stable && (Π_spent <= III.Pi_time)
    REPORT_JSON({Δ, δ0, δ1, Π_spent, stable, phases_result})
    return parity_ok
```

---

### Worked margin accounting (illustrative)

Suppose $\rho_\Phi=2$ (two decimals), $\Phi_{\text{neutral}}=0.40$, $\Phi_{\min}=0.70$, $\Phi_{\max}=1.00$, hence $\Delta_\rho=0.005$. Let $\Pi=0.03$.

* If $\Phi_{\text{stream}}=0.68$, $\Phi_{\text{batch}}=0.72$: raw drift $0.04$ crosses $\Phi_{\min}$, but after TTDA
  $\Phi_{\mathrm{eff}}^{\text{stream}}=0.65$, $\Phi_{\mathrm{eff}}^{\text{batch}}=0.69$, both **round to 0.65/0.69**, below 0.70; $\delta$ is $0$ on **both** paths.
* If $\Phi_{\text{stream}}=0.705$, $\Phi_{\text{batch}}=0.695$: both round to $0.71$ and $0.70$ before $-\Pi$; after subtracting $\Pi$ they round to $0.68$ and $0.67$; still **same side** of the threshold → $\delta$ agrees.

These examples illustrate how TTDA **absorbs** bounded drift and converts near-threshold ambiguity into a *neutral* outcome rather than contradictory ternary verdicts.

---

### Data products

TTDA produces, per edition: `ttda/report.json` with (i) LCRO badges, (ii) phase stability tables, (iii) per-stage drift attribution, (iv) $\Pi$ spend ledger, (v) final parity verdict, and `ttda/plots/` (render-bound, byte-bound via CAPTION→RECEIPT) for audit readability.

---

**Bottom line.**
TTDA makes “same bytes, same decision” *true in time*: the RG-grid defeats aliasing; UTC-LCRO constrains clocks; the $\Pi$ budget upper-bounds permissible drift; and **round-before-compare** converts residual noise into a deterministic ternary outcome. When parity fails, it fails **early**, with a reproducible locus and a prescribed repair vector.

## Appendix D. Receipt v2 JSON schema and verification scripts

**Purpose.**
Receipt v2 is the *normative, machine-verifiable* envelope that binds a Gravastar edition’s bytes, floors, timing, and gate results. It enables **REPLAY-RFD** (Replay-to-First-Divergence), byte-equality checks for **CAPTION→RECEIPT**, and audit of **III.json** references. This appendix supplies (i) a compact JSON-Schema for receipts, (ii) field semantics, and (iii) reference verification scripts (pseudocode/CLI) that an auditor can implement verbatim.

---

**JSON-Schema (Draft-07; compact).**

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Gravastar Receipt v2",
  "type": "object",
  "required": ["schema_version","edition","bundle_sha256","created_utc",
               "iii_manifest","container","floors","ttda","gate","artifacts",
               "caption_bindings","sbom","rfd"],
  "properties": {
    "schema_version": { "type": "string", "enum": ["2.0"] },
    "edition": {
      "type": "object",
      "required": ["edition_id","author","lab","doi_or_archive_id"],
      "properties": {
        "edition_id": { "type": "string" },                // vMAJOR.MINOR.PATCH
        "author":     { "type": "string" },
        "lab":        { "type": "string" },
        "doi_or_archive_id": { "type": "string" },
        "explain_url": { "type": "string" }
      }
    },
    "bundle_sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" },
    "created_utc":   { "type": "string", "format": "date-time" },

    "iii_manifest": {
      "type": "object",
      "required": ["path","sha256","phi_max","phi_min","phi_neutral","precisions",
                   "tie_policy","decode_spec","g_group_sha256"],
      "properties": {
        "path":    { "type": "string" },                   // relative path to III.json
        "sha256":  { "type": "string", "pattern": "^[a-f0-9]{64}$" },
        "phi_max": { "type": "number" },
        "phi_min": { "type": "number" },
        "phi_neutral": { "type": "number" },
        "precisions": {
          "type": "object",
          "required": ["phi","stats","c","energy"],
          "properties": {
            "phi":    { "type": "integer" },
            "stats":  { "type": "integer" },
            "c":      { "type": "integer" },
            "energy": { "type": "integer" }
          }
        },
        "tie_policy":  { "type": "string", "enum": ["floor_to_neutral","strict"] },
        "decode_spec": { "type": "string" },               // deterministic decode config
        "g_group_sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" }
      }
    },

    "container": {
      "type": "object",
      "required": ["oci_digest","numeric_mode","rng_freeze"],
      "properties": {
        "oci_digest":  { "type": "string", "pattern": "^sha256:[a-f0-9]{64}$" },
        "numeric_mode":{ "type": "string" },              // BLAS flags, dtype pins, etc.
        "rng_freeze":  { "type": "boolean" }
      }
    },

    "floors": {
      "type": "object",
      "required": ["g_floor","pos_screen","witness_policy","causality_iso",
                   "caption_binding","determinism"],
      "properties": {
        "g_floor": {
          "type": "object",
          "required": ["report_path","sha256","pass"],
          "properties": {
            "report_path": { "type": "string" },
            "sha256":      { "type": "string", "pattern": "^[a-f0-9]{64}$" },
            "pass":        { "type": "boolean" }
          }
        },
        "pos_screen":    { "type": "boolean" },
        "witness_policy":{ "type": "string" },            // e.g., "CHSH:event-ready"
        "causality_iso": {
          "type": "object",
          "required": ["A_star","c_hat","pass"],
          "properties": {
            "A_star": { "type": "number" },
            "c_hat":  { "type": "number" },               // rounded front-speed
            "pass":   { "type": "boolean" }
          }
        },
        "caption_binding": { "type": "boolean" },
        "determinism":     { "type": "boolean" }
      }
    },

    "ttda": {
      "type": "object",
      "required": ["utc_lcro","pi_budget","parity","rg_grid"],
      "properties": {
        "utc_lcro": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["device","stamp","offset_ns","oscillator","drift_ns_per_s","leap_policy"],
            "properties": {
              "device":          { "type": "string" },
              "stamp":           { "type": "string", "format": "date-time" },
              "offset_ns":       { "type": "integer" },
              "oscillator":      { "type": "string" },
              "drift_ns_per_s":  { "type": "number" },
              "leap_policy":     { "type": "string", "enum": ["step","smear"] }
            }
          }
        },
        "pi_budget": { "type": "number" },
        "parity": {
          "type": "object",
          "required": ["delta_stream","delta_batch","pass"],
          "properties": {
            "delta_stream": { "type": "integer", "enum": [-1,0,1] },
            "delta_batch":  { "type": "integer", "enum": [-1,0,1] },
            "pass":         { "type": "boolean" }
          }
        },
        "rg_grid": {
          "type": "object",
          "required": ["H","m","phases"],
          "properties": {
            "H": { "type": "number" },
            "m": { "type": "integer", "minimum": 3 },
            "phases": {
              "type": "array",
              "items": { "type": "number" },
              "minItems": 3
            }
          }
        }
      }
    },

    "gate": {
      "type": "object",
      "required": ["phi","phi_eff","x","y","delta"],
      "properties": {
        "phi":     { "type": "number" },
        "phi_eff": { "type": "number" },
        "x":       { "type": "number" },
        "y":       { "type": "number" },
        "delta":   { "type": "integer", "enum": [-1,0,1] },
        "repair_vector": { "type": "array", "items": { "type": "string" } }
      }
    },

    "artifacts": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["role","path","sha256","bytes","mime"],
        "properties": {
          "role": { "type": "string",
                    "enum": ["inputs","canon","features","gates","plots","cards","rfd","methods","sbom"] },
          "path":   { "type": "string" },
          "sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" },
          "bytes":  { "type": "integer", "minimum": 0 },
          "mime":   { "type": "string" }
        }
      }
    },

    "caption_bindings": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["figure_id","caption_path","table_path","table_sha256","token_trail"],
        "properties": {
          "figure_id":    { "type": "string" },
          "caption_path": { "type": "string" },
          "table_path":   { "type": "string" },
          "table_sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" },
          "token_trail":  { "type": "string" }            // byte-equality trailer embedded in caption
        }
      }
    },

    "sbom": {
      "type": "object",
      "required": ["paths","sha256","licenses"],
      "properties": {
        "paths":   { "type": "array", "items": { "type": "string" } },
        "sha256":  { "type": "array", "items": { "type": "string", "pattern": "^[a-f0-9]{64}$" } },
        "licenses":{ "type": "array", "items": { "type": "string" } }
      }
    },

    "rfd": {
      "type": "object",
      "required": ["entry","graph","expect"],
      "properties": {
        "entry":  { "type": "string" },                   // e.g., rfd/replay.sh
        "graph":  { "type": "array",
                    "items": { "type": "object",
                               "required": ["id","deps","in","out","sha256"],
                               "properties": {
                                 "id":   { "type": "string" },
                                 "deps": { "type": "array", "items": { "type": "string" } },
                                 "in":   { "type": "array", "items": { "type": "string" } },
                                 "out":  { "type": "array", "items": { "type": "string" } },
                                 "sha256": { "type": "array", "items": { "type": "string", "pattern": "^[a-f0-9]{64}$" } }
                               } } },
        "expect": { "type": "object",
                    "required": ["gate_sha256","rounded_tables"],
                    "properties": {
                      "gate_sha256":   { "type": "string", "pattern": "^[a-f0-9]{64}$" },
                      "rounded_tables":{ "type": "array", "items": { "type": "string" } }
                    } }
      }
    }
  }
}
```

**Field semantics (normative highlights).**

* `bundle_sha256` is the **only** authority for the archive’s integrity. Auditors MUST verify the tarball hash equals this value before any further steps.
* `iii_manifest.sha256` binds the **III.json** used for gating (precisions, thresholds, tie policy). Changing it is a **MAJOR** edition.
* `container.oci_digest` pins the execution environment; REPLAY-RFD MUST be run inside this image or a byte-identical mirror.
* `floors.causality_iso.c_hat` is the *rounded* fitted front-speed; `pass` must be `true` for $\hat c\le 1$.
* `caption_bindings.*.token_trail` is the CAPTION→RECEIPT *byte token* embedded in the caption that must match the bound table’s `table_sha256`.
* `rfd.graph` declares a **topologically sorted** DAG of steps; each node lists its inputs/outputs and expected hashes. First mismatch defines the RFD locus.

---

**Verification scripts (reference).**

*CLI layout (suggested).*

```
receipt-verify schema   --receipt receipt.json
receipt-verify bundle   --bundle bundle.tar.zst --sha256 <hex>
receipt-verify sbom     --receipt receipt.json
receipt-verify caption  --receipt receipt.json --archive bundle.tar.zst
receipt-verify floors   --receipt receipt.json --archive bundle.tar.zst
receipt-verify ttda     --receipt receipt.json --archive bundle.tar.zst
receipt-verify gate     --receipt receipt.json --archive bundle.tar.zst
receipt-rfd    run      --receipt receipt.json --archive bundle.tar.zst --container sha256:...
```

*Pseudocode (single-shot auditor).*

```text
function AUDIT_RECEIPT(bundle_path):
    R = LOAD_JSON("receipt.json")
    ASSERT JSON_SCHEMA_OK(R, SCHEMA_V2)

    ASSERT SHA256(bundle_path) == R.bundle_sha256

    III = EXTRACT(bundle_path, R.iii_manifest.path)
    ASSERT SHA256(III) == R.iii_manifest.sha256

    ASSERT OCI_IMAGE_PRESENT(R.container.oci_digest)

    FOR each a in R.artifacts:
        BYTES = EXTRACT(bundle_path, a.path)
        ASSERT SHA256(BYTES) == a.sha256

    SBOM_OK = VERIFY_SBOM(R.sbom, bundle_path)
    ASSERT SBOM_OK

    // CAPTION→RECEIPT
    FOR each b in R.caption_bindings:
        CAP = EXTRACT(bundle_path, b.caption_path)
        TAB = EXTRACT(bundle_path, b.table_path)
        ASSERT SHA256(TAB) == b.table_sha256
        ASSERT TOKEN_TRAIL_PRESENT(CAP, b.token_trail)

    // Floors
    GF = EXTRACT(bundle_path, R.floors.g_floor.report_path)
    ASSERT SHA256(GF) == R.floors.g_floor.sha256
    ASSERT R.floors.g_floor.pass && R.floors.caption_binding &&
           R.floors.determinism && R.floors.pos_screen &&
           R.floors.causality_iso.pass

    // TTDA parity
    ASSERT R.ttda.parity.pass
    ASSERT ABS(R.ttda.parity.delta_stream - R.ttda.parity.delta_batch) == 0

    // Gate invariants
    ASSERT ROUND_IN_ACCORDANCE(III.precisions.phi)
    ASSERT CONSISTENT_GATE_TABLES(bundle_path, R.gate, III)

    // REPLAY-RFD
    RESULT = RUN_RFD(R.rfd, bundle_path, R.container.oci_digest)
    IF RESULT.first_divergence:
        EMIT_COUNTEREXAMPLE(RESULT)
        RETURN FAIL
    RETURN PASS
```

**Exit codes (recommended).**

* `0` PASS; `10` schema error; `11` bundle hash mismatch; `12` SBOM/license error; `13` caption binding failure; `14` floor failure; `15` TTDA parity failure; `16` gate mismatch; `17` RFD divergence; `18` environment/container mismatch.

**Security & privacy notes.**

* No network access during verification; all bytes must be present in the bundle.
* If privacy masking is used, masked tables must be the *gate-path* inputs; unmasked sources, if any, are out-of-band and must not influence `gate`.
* Scripts must treat paths as data (no shell eval); reject archives with symlink traversal or path escapes.

**Versioning & extensibility.**

* `schema_version:"2.0"` is immutable for a release series. New optional fields go under `"x_ext": {...}`; changing required fields increments the major schema and requires a MAJOR edition.
* Auditors should ignore unknown `x_` fields but MUST enforce known invariants.

**Minimal working example (excerpt).**

```json
{
  "schema_version": "2.0",
  "edition": { "edition_id": "v1.2.0", "author": "R. Melikov",
               "lab": "Adamas-1D", "doi_or_archive_id": "10.5281/zenodo.XXXX",
               "explain_url": "https://…" },
  "bundle_sha256": "4e2d…",
  "created_utc": "2025-09-24T15:10:00Z",
  "iii_manifest": {
    "path": "III.json",
    "sha256": "ab10…",
    "phi_max": 1.0, "phi_min": 0.70, "phi_neutral": 0.40,
    "precisions": { "phi": 2, "stats": 3, "c": 3, "energy": 3 },
    "tie_policy": "floor_to_neutral",
    "decode_spec": "greedy;max_new_tokens=512",
    "g_group_sha256": "cafe…"
  },
  "container": { "oci_digest": "sha256:dead…", "numeric_mode": "float64;blas=netlib",
                 "rng_freeze": true },
  "floors": {
    "g_floor": { "report_path": "floors/g_floor.json", "sha256":"f00d…", "pass": true },
    "pos_screen": true,
    "witness_policy": "CHSH:event-ready",
    "causality_iso": { "A_star": 0.993, "c_hat": 0.84, "pass": true },
    "caption_binding": true,
    "determinism": true
  },
  "ttda": {
    "utc_lcro": [{ "device":"scopeA","stamp":"2025-09-24T15:09:58Z",
                   "offset_ns": 12, "oscillator":"OCXO", "drift_ns_per_s": 0.2,
                   "leap_policy":"smear" }],
    "pi_budget": 0.03,
    "parity": { "delta_stream": 1, "delta_batch": 1, "pass": true },
    "rg_grid": { "H": 3.0, "m": 9, "phases": [0, 1.0, 2.0] }
  },
  "gate": { "phi": 0.74, "phi_eff": 0.71, "x": 0.42, "y": 0.45, "delta": 1,
            "repair_vector": [] },
  "artifacts": [
    { "role":"inputs","path":"inputs/chsh.csv","sha256":"aa55…","bytes":123456,"mime":"text/csv" },
    { "role":"gates","path":"gates/gate_table.csv","sha256":"bb66…","bytes":2048,"mime":"text/csv" }
  ],
  "caption_bindings": [
    { "figure_id":"fig1","caption_path":"plots/fig1_caption.txt",
      "table_path":"gates/gate_table.csv","table_sha256":"bb66…",
      "token_trail":"[cap→rec:bb66…]" }
  ],
  "sbom": { "paths": ["sbom/os.json","sbom/pip.json"],
            "sha256": ["cc77…","dd88…"],
            "licenses": ["Apache-2.0","CC-BY-4.0"] },
  "rfd": {
    "entry":"rfd/replay.sh",
    "graph":[
      {"id":"canon","deps":[],"in":["inputs/chsh.csv"],"out":["canon/chsh.parquet"],
       "sha256":["ee99…"]},
      {"id":"gate","deps":["canon"],"in":["canon/chsh.parquet"],"out":["gates/gate_table.csv"],
       "sha256":["bb66…"]}
    ],
    "expect": { "gate_sha256":"bb66…", "rounded_tables":["gates/gate_table.csv"] }
  }
}
```

**Bottom line.**
Receipt v2 is the *contract* that makes Gravastar auditable: it fixes **what** bytes matter, **how** they are processed, and **where** a divergence must appear if a claim is wrong. The schema above, coupled with the verification scripts, is sufficient for any admissible observer to validate floors, reproduce $\delta$, and file a precise, public counterexample when warranted.

## Appendix E. ScanProtocol v1 checklists and operator run-cards

**Purpose.**
ScanProtocol v1 standardizes how evidence is acquired so that floors dominate $\Phi$, TTDA parity holds, and **REPLAY-RFD** can reproduce the run byte-for-byte. This appendix supplies normative **checklists** (pre/run/post), **operator run-cards** for common scenarios, and **failure/repair trees**. All comparisons are round-before-compare at precisions pinned in **III.json**.

---

### E.1 Universal pre-run checklist (must complete before any scan)

**Governance & bytes**

* [ ] Pin edition ID and pull the **III.json** manifest; verify `sha256(III.json)` matches receipt draft.
* [ ] Freeze container: record `oci_digest`, numeric mode, RNG status (expect `rng_freeze=true`).
* [ ] Disable network access for the run host(s); mount read-only inputs volume.
* [ ] Prepare **Receipt v2** skeleton (empty gate; populated SBOM paths; planned artifacts list).

**Clock & TTDA**

* [ ] Issue **UTC-LCRO** badge(s): record UTC stamp, oscillator class, offset to lab ref, drift bound, leap policy.
* [ ] Declare RG-grid parameters $(H,m,\text{phases})$ and $\Pi$ (deviation budget).
* [ ] Verify stream/batch pipelines share rounding/tie policy and decode spec.

**G-floor readiness**

* [ ] Load canonicalizer version; run dry-run on seed corpus (units/locale/container/time).
* [ ] Confirm $G$ test bank availability; plan invariance sweep post-run.
* [ ] Pin PoS Screen configuration (neutrality ops only).

**Acquisition hardware**

* [ ] Power/grounding check; environmental log (T, RH, vibration class).
* [ ] Calibrate sensors/actuators; store calibration tables as content-addressed artifacts.
* [ ] Declare $\tau_{\text{reset}}$; compute minimum wait: $3\tau_{\text{reset}}$.

**Method & basis**

* [ ] Register **bidirectional scan** intent (forward & reverse).
* [ ] Register **dark-window readout** parameters (integration time, blackout timing).
* [ ] If interference/phase matters: publish **basis disclosure** (bright/dark, analyzers, phase refs).

**Caption→Receipt**

* [ ] Create figure/table placeholders and pre-allocate **token trailers** for CAPTION→RECEIPT.
* [ ] Confirm that every plotted quantity is derived from a content-bound table.

**Safety & people**

* [ ] Operator roster (primary, secondary); witness policy (e.g., “CHSH\:event-ready”).
* [ ] Interlocks tested; emergency shutdown verified.

---

### E.2 Universal run checklist (complete during scan)

**Start-of-run**

* [ ] Emit run header: UTC-LCRO, environment snapshot, III.json hash, container digest.
* [ ] Record pre-scan baseline (“dark”); commit hash as artifact.

**Scan execution**

* [ ] Execute **forward scan** at declared grid; persist raw bytes per step; no in-place edits.
* [ ] Wait $\ge 3\tau_{\text{reset}}$.
* [ ] Execute **reverse scan** (identical grid reversed); persist raw bytes per step.
* [ ] For each step, take **dark-window readout** according to schedule; persist timestamps.

**RG-grid**

* [ ] Repeat acquisition across three RG phases $\{0,\;H/3,\;2H/3\}$; label artifacts with phase.
* [ ] Log any scheduler interruptions; if phase slip occurs, annotate and re-acquire.

**Determinism**

* [ ] Record RNG seeds; confirm deterministic code paths (no nondeterministic kernels).
* [ ] For GPU/accelerators, pin math mode (e.g., TF32 off) per III.json numeric policy.

**Provenance & captions**

* [ ] For each figure/table planned: write content table **first**, compute SHA-256, and append token trailer into caption stub.
* [ ] Do **not** export rendered images before content-bound tables are sealed.

**Mid-run health**

* [ ] Monitor drift against $\Pi$; if approaching threshold gap after rounding, flag potential neutralization (TTDA).
* [ ] If any floor pre-check fails, abort gracefully and mark run invalid (no partial gate).

---

### E.3 Universal post-run checklist (before gating)

**Canonicalization & diagnostics**

* [ ] Run canonicalizer on all raw bytes; store canonical tables; emit digests.
* [ ] Compute diagnostic cards (witness margins, counts, universality ratio $R(u)$, $A^\star$, $\hat c$).
* [ ] Enforce **round-before-compare**; publish rounded tables referenced by gate.

**G-floor certification**

* [ ] Execute invariance suite on admissible $G$ transforms; expect equality of rounded diagnostics.
* [ ] Run adversarial transforms; expect **FAIL** with explicit divergence loci.

**TTDA parity**

* [ ] Process **stream** and **batch** pipelines; publish parity report:

  * [ ] $|\delta_{\text{stream}}-\delta_{\text{batch}}|=0$
  * [ ] Phase stability across RG phases within rounding
  * [ ] $\Pi$ spend ledger $\le \Pi_{\text{time}}$

**CAPTION→RECEIPT**

* [ ] Bind captions to tables by token trailer; verify byte equality to table SHA-256.

**Gate & receipt**

* [ ] Aggregate to $\Phi$, compute $\Phi_{\mathrm{eff}}$, map $x,y$, decide $\delta$.
* [ ] Populate **Receipt v2**; include all artifacts, SBOM, floor reports, TTDA report.
* [ ] Dry-run **REPLAY-RFD** locally; if any first-divergence appears, file counterexample and repair (no gate).

**Archive & publish**

* [ ] Create content-addressed bundle; verify top-level hash matches receipt.
* [ ] Publish edition with open-join audit instructions and explain\_url.

---

### E.4 Operator run-card: CHSH-style witness

**Scenario.** Two-station, event-ready Bell test; log coincidence counts and settings; gate reports admissibility, not a physics claim.

**Parameters to pin**

* Settings randomizers: seed & lag bounds.
* Coincidence window; spacelike separation geometry (render-bound for context).
* Readout dead-time; jitter budget; $\tau_{\text{reset}}$.

**Steps**

1. Pre-run: sync UTC-LCRO at both stations; record offsets & oscillator class.
2. Acquire per RG phase: randomized settings sequences; forward/reverse ordering over blocks.
3. Persist raw timetags; no on-device coincidence.
4. Canonicalize; compute CHSH $S$ with pinned window; publish counts & margins as tables.
5. Floors: CAUSALITY/ISO (front-speed fit $\hat c\le 1$), WITNESS policy, G-floor invariance (units/time).
6. TTDA: stream (online coincidence) vs batch (offline coincidence); parity must hold.
7. Gate; bind figures (histograms, ladder curves) via CAPTION→RECEIPT; run REPLAY-RFD.

**Abort criteria**

* Settings bias > declared limit; timing skew beyond $\varepsilon_{\text{clock}}$; RG-phase dependence in $S$.

---

### E.5 Operator run-card: Adamas-1D CNT strain/spectroscopy

**Scenario.** Strain-tuned CNT device; forward/reverse strain ramps; dark-window readout; possible SSH-like features (contextual).

**Parameters to pin**

* Strain actuator calibration & hysteresis; spectroscopy sweep grid; $\tau_{\text{reset}}$; dark window parameters.

**Steps**

1. Pre-run: calibrate actuator; store calibration table; pin thermal environment drift bounds.
2. Execute forward ramp; per point: dark window, spectrum capture → persist.
3. Wait $\ge 3\tau_{\text{reset}}$; execute reverse ramp same grid.
4. Repeat for three RG phases by offsetting start times.
5. Canonicalize; compute $R(u)$, $A^\star$; run causality fit $\hat c$; assemble diagnostics.
6. Floors: G-floor (units, locale, container), CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM.
7. TTDA: compare stream (online feature extraction) vs batch (offline); publish parity.
8. Gate, bind plots (e.g., strain vs feature energy) to tables; REPLAY-RFD.

**Abort criteria**

* Phase-locked artifacts; actuator slip exceeding calibration residual; rounding inconsistency.

---

### E.6 Failure tree (quick triage)

* **F-A G-floor FAIL** → Check unit map, locale parsing, key order; re-canonicalize; if transform not in $G$, remove or extend $G$ via MAJOR edition.
* **F-B TTDA parity FAIL** → Inspect per-stage drift; neutralize (set $\delta=0$); increase $\varepsilon_{\text{join}}/\varepsilon_{\text{clock}}$ only with justification in new edition.
* **F-C CAPTION binding FAIL** → Re-emit table; update token trailer; never edit image alone.
* **F-D DETERMINISM FAIL** → Fix seeds/math mode; regenerate features; re-run.
* **F-E RG aliasing** → Randomize scheduler or adjust $H,m$; reacquire.

---

### E.7 Minimal operator log (must ship)

* Run header (UTC-LCRO, environment, III.json hash, container digest)
* Grid & phases used; $\tau_{\text{reset}}$ and actual waits
* Floor checkmarks with report paths
* TTDA parity summary ($\delta_{\text{stream}},\delta_{\text{batch}}, \Pi$ spend)
* CAPTION→RECEIPT bindings table (figure ID → table path → SHA-256)
* Gate tuple $(\Phi,\Phi_{\mathrm{eff}},x,y,\delta)$
* REPLAY-RFD status (PASS or first-divergence locus)

---

### E.8 Quick-reference (laminated card)

**Before:** III.json ✓, RNG freeze ✓, UTC-LCRO ✓, $\tau_{\text{reset}}$ ✓, dark-window ✓, bidirectional ✓, phases ✓
**During:** forward→wait→reverse; persist raw; no edits; token trailer after table SHA ✓
**After:** canonicalize; floors; TTDA parity; bind captions; gate; REPLAY-RFD ✓

**Golden rule:** *If it isn’t in the bytes, it isn’t in the gate.*

## Appendix F. Estimation of DII-4 invariants $\bigl(R(u),\,A^\star,\,\hat c,\,W(n)\!:\!B(n)\bigr)$

**Purpose.**
DII-4 is the default, preregistered invariant set that feeds $\Phi$ through **monotone, capped** cards (§A, Lemma E). This appendix gives **normative** estimators and checks for: the **universality ratio** $R(u)$, **near-isotropy** $A^\star$, the **front-speed cap** $\hat c$, and **witness-vs-bound ladders** $W(n)\!:\!B(n)$. All computations obey **round-before-compare** at precisions pinned in **III.json**; inputs are canonicalized via the G-floor loader.

---

### F.1 Common contract (applies to all four invariants)

* **Inputs.** Content-addressed, canonical tables with schema declared in **III.json**. No network I/O at gate time.
* **Rounding.** Each statistic $S\in\{R(u),A^\star,\hat c, W,B\}$ is rounded to its pinned precision $\rho_S$ **before** any comparison or mapping to $\Phi$.
* **Phase/Direction stability.** Compute per **RG phase** $k\in\{0,H/3,2H/3\}$ and **scan direction** $d\in\{\rightarrow,\leftarrow\}$. Publish phase/direction panels and require bin agreement after rounding.
* **Cards → $\Phi$.** Each invariant $S$ emits a nonnegative contribution $\Delta\Phi_S$ through a **declared monotone map** (examples below). Capping at $\Phi_{\max}$ is mandatory.
* **Failure semantics.** If any **floor** (G-floor, TTDA parity, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM) fails in the path to an invariant, that card contributes **zero** and may set a floor FAIL (→ $\delta=-1$).
* **REPLAY-RFD.** The first divergence for each invariant must be reproducible from its inputs and code hash (Appendix D).

---

### F.2 $R(u)$: Universality ratio

**Intent.** Quantify **cross-platform/lab universality** of gate-relevant diagnostics under the same method.

**Inputs (minimal).**

* Matched runs $p=1,\dots,P$ (labs/devices/pipelines), each yielding the rounded diagnostic vector $D_p\in\mathbb R^q$ (e.g., margins, counts, fitted parameters), and a mask $M\in\{0,1\}^q$ marking which coordinates are *gate-relevant*.

**Estimator.**

1. Define a **consensus bin** per coordinate $j$: the modal rounded value among $\{D_{p,j}\}_p$.
2. Mark **agreement** for platform $p$ at $j$ iff $M_j=1$ and $D_{p,j}$ equals the consensus bin.
3. Let $a=\sum_{p,j} \mathbf 1[\text{agree}_{p,j}]$, $m=\sum_{p,j} M_j$.
4. Universality ratio:

   $$
   R(u)\;=\;\frac{a}{m}\in[0,1].
   $$

**Uncertainty (optional, reported not gated).** Wilson interval for a binomial proportion with $m$ trials.

**Quality checks.**

* Phase/direction panels agree after rounding.
* No coordinate used if its upstream **precision or tie policy** differs across $p$ (enforced by III.json hash).

**Example card map.**

$$
\Delta\Phi_{R}=\Phi_{\max}\cdot \sigma\!\Bigl(\alpha_R\,[\,R(u)-\tau_R\,]\Bigr),\quad
\text{with }\sigma(z)=\tfrac{1}{1+e^{-z}},\ \tau_R\uparrow\text{(preregistered)}.
$$

---

### F.3 $A^\star$: Near-isotropy

**Intent.** Detect anisotropy/scan-locking: the invariant should not depend on direction or RG phase beyond rounding.

**Inputs.** A scalar diagnostic $S_{k,d}$ per phase $k$ and direction $d$, rounded to $\rho_S$.

**Estimator.**

1. Let $\bar S=\text{median}\{S_{k,d}\}$.
2. Compute the **max absolute deviation** $\Delta^\star=\max_{k,d}|S_{k,d}-\bar S|$.
3. Normalize by the pinned isotropy tolerance $\tau_{\text{iso}}>0$ (III.json):

   $$
   A^\star\;=\;\max\!\Bigl(0,\,1-\frac{\Delta^\star}{\tau_{\text{iso}}}\Bigr)\in[0,1].
   $$

   $A^\star=1$ is perfectly near-isotropic at the declared resolution; $A^\star=0$ or below implies strong phase/direction effects.

**Quality checks.**

* Report the $(k,d)$ attaining $\Delta^\star$; publish per-panel values.
* If any $S_{k,d}$ differs by **bin class**, flag CAUSALITY/ISO for review (may floor-FAIL).

**Example card map.**

$$
\Delta\Phi_{A}=\Phi_{\max}\cdot \max\!\bigl(0,\,A^\star-\tau_A\bigr)\ /\ (1-\tau_A),\quad \tau_A\in(0,1).
$$

---

### F.4 $\hat c$: Fitted front-speed cap

**Intent.** Fit a **propagation speed** from first-arrival (or first-crossing) times across baselines; enforce $\hat c\le 1$ after unit normalization.

**Inputs.** Pairs $(d_i,t_i)$, $i=1..N$, where $d_i$ is source–sensor separation in normalized distance units, and $t_i$ is first-arrival timestamp (UTC-LCRO) relative to an event time $t_0$ (also UTC-LCRO), after canonical time corrections.

**Estimator (robust slope).**

1. Define delays $\Delta t_i = t_i - t_0$ (rounded to $\rho_t$); require $\Delta t_i>0$.
2. Perform **Theil–Sen** regression of $\Delta t$ on $d$: slope $\beta = \text{median}_{i<j}\frac{\Delta t_j-\Delta t_i}{d_j-d_i}$.
3. Convert to speed $v=1/\beta$ (guard $\beta>0$); normalize by the declared cap unit $c_\text{unit}$ so $c_\text{unit}\equiv 1$.
4. Round $v$ to $\rho_c$ and set $\hat c = v$.

**Floor condition (CAUSALITY/ISO).**

* **Pass** iff $\hat c \le 1$ (rounded) **and** $A^\star$ meets its threshold.
* Over-cap or non-positive $\beta$ ⇒ floor FAIL (→ $\delta=-1$).

**Example card map (non-floor contribution).**

$$
\Delta\Phi_{c}=\Phi_{\max}\cdot \max\!\bigl(0,\ 1-\hat c\,\bigr)^{\gamma_c},\quad \gamma_c\ge 1.
$$

---

### F.5 $W(n)\!:\!B(n)$: Witness vs separability bounds (ladder curves)

**Intent.** Provide a **block-size ladder** of a witness statistic $W(n)$ against a corresponding **separability (or null) bound** $B(n)$, without committing the gate to any specific physical claim. Typical examples: CHSH $S(n)$ vs $B(n)=2$; or task-specific linear witnesses with finite-sample corrections.

**Inputs.**

* A sequence of i.i.d. (or declared-mixing) blocks of size $n\in\mathcal N$ (e.g., $\mathcal N=\{n_1<n_2<\cdots<n_h\}$).
* Per block: counts or sufficient statistics to compute $W(n)$; pinned definition of $B(n)$ (analytical or simulation-free finite-sample correction, declared in III.json).

**Estimator.**

1. For each $n\in\mathcal N$, compute $W(n)$ and its **rounded** value; compute the **rounded margin**

   $$
   m(n)=\mathrm{ROUND}\bigl(W(n)-B(n),\,\rho_W\bigr).
   $$
2. Build the ladder $\{(n,\,W(n),\,B(n),\,m(n))\}_{n\in\mathcal N}$.
3. Enforce **monotone evidence**: the **nondecreasing hull** of positive margins contributes to $\Phi$; negative margins contribute **zero**.

**Quality checks.**

* Phase/direction panels agree in bin class for $m(n)$.
* Publish the per-$n$ **first divergence** location (if any) under REPLAY-RFD.
* If the witness requires random settings, publish RNG seeds and verify DETERMINISM.

**Example card map.**
A smooth cap of the *best* margin:

$$
\Delta\Phi_{W}=\Phi_{\max}\cdot \sigma\!\Bigl(\alpha_W\,\max_{n\in\mathcal N} m(n)\Bigr)\cdot \bigl(1-e^{-\lambda_W\,N_+}\bigr),
$$

where $N_+$ is the number of **positive** margins after rounding (stability bonus).

---

### F.6 Putting DII-4 together (aggregation & reporting)

**Aggregation (example, monotone & capped).**

$$
\Phi \leftarrow \mathrm{clamp}\Bigl(\sum_{S\in\{R,A^\star,\hat c, W:B\}} w_S\,\Delta\Phi_S,\ 0,\ \Phi_{\max}\Bigr),
$$

with preregistered nonnegative weights $w_S$ summing $\le 1$. Weights and maps **must** be declared in **III.json** and are part of the method (changing them is a MAJOR edition).

**Reporting (must ship).**

* Rounded scalars $R(u), A^\star, \hat c$; ladder table for $W(n), B(n), m(n)$.
* Phase/direction panels; RG-stability verdict.
* Per-invariant **artifact list** and code hashes; RFD step IDs and first-divergence (if any).
* The four card contributions $\Delta\Phi_S$ and the final $\Phi$, $\Phi_{\mathrm{eff}}$.

**Failure/repair vectors.**

* **Low $R(u)$.** Align canonicalizers/precisions across platforms; remove non-pinned decoding differences; rerun G-floor.
* **Low $A^\star$.** Increase dwell/reset; randomize scheduler; check actuator hysteresis; revisit RG parameters.
* **$\hat c>1$.** Re-calibrate timestamps/offsets; verify path length $d_i$; inspect first-crossing detector for bias.
* **Weak $W(n)\!:\!B(n)$.** Increase $n$; fix settings bias; correct finite-sample bound; publish negative margins (they contribute 0 but are informative).

---

### F.7 Minimal schemas (canonical tables)

**F.7.1 Universality table (per coordinate).**

```
platform_id, coord_id, value_rounded, gate_relevant (0/1)
```

**F.7.2 Isotropy panels.**

```
phase_id, direction, stat_name, value_rounded
```

**F.7.3 Front-speed points.**

```
sensor_id, distance_norm, t0_utc, t1_utc, delta_t_rounded
```

**F.7.4 Witness ladder.**

```
n, W_rounded, B_rounded, margin_rounded
```

All four are **content-bound** and referenced by **CAPTION→RECEIPT** in figures.

---

**Bottom line.**
DII-4 turns “universality, isotropy, causality, and witness-vs-bound” into **byte-checkable, rounded invariants** that (i) are portable across labs, (ii) resist aliasing and unit/locale drift, and (iii) contribute to $\Phi$ only through **declared monotone maps**. If a card fails, the edition fails **fast** with a public divergence locus; if it passes, the contribution is *receipted* and reproducible by any admissible observer.

## Appendix G. Adamas-1D hardware specs and calibration curves

**Purpose.**
Adamas-1D is a minimal, receipt-first physical testbed for byte-true scans of one-dimensional devices (e.g., strained carbon-nanotube bridges). This appendix fixes **class-level hardware specifications**, **calibration curves**, **uncertainty budgets**, and **file formats** so any admissible lab can reproduce gate-relevant diagnostics and pass floors (G-floor, TTDA, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM). All parameters that affect gating are pinned in **III.json**; every calibration artifact is content-addressed and bound to figures/tables by CAPTION→RECEIPT token trailers.

---

### Platform overview (class specs, not brands)

**Mechanical actuation (strain path).**

* Flexure or nanopositioning stage with closed-loop piezo actuator.
* Travel: ≥ 20 µm; closed-loop resolution ≤ 1 nm; **bidirectional repeatability** ≤ 5 nm after creep compensation.
* Hysteresis loop area (open-loop) documented; closed-loop residual hysteresis ≤ 0.2% FSR after controller linearization.
* **Reset constant** $\tau_{\text{reset}}$ declared per device; waits use $\ge 3\tau_{\text{reset}}$ (ScanProtocol v1).

**Device under test (DUT).**

* Suspended CNT (or equivalent 1D conductor) spanning a calibrated gap $L_0$ (SEM/AFM or optical fit).
* Contacts: low-leakage, ESD-protected; contact resistance logged and stable within declared tolerance across RG phases.
* Optional optical access for spectroscopy (Raman/PL/reflectance).

**Electrical measurement chain.**

* SMU or low-noise source/measure with current resolution ≤ 1 nA, voltage resolution ≤ 100 µV; input noise density ≤ 10 nV/√Hz (10–10 kHz).
* Optional lock-in detection with reference stability ≤ 10 ppm; time-constant, filter slope, and demod scheme pinned.

**Optical/spectroscopy chain (if used).**

* Spectrometer: 400–1000 nm (or relevant band), pixel-to-wavelength calibration via line lamps or wafer standards; effective resolution ≤ 1 nm FWHM (or Raman shift ≤ 2 cm⁻¹).
* Dark shutter and programmable integration to support dark-window readout.

**Timing & clocks.**

* Trigger fan-out and timestamping referenced to **UTC-LCRO**; event timestamps quantized to pinned resolution (e.g., 10 ns).
* Oscillator class (OCXO/Rb) and drift bound published in LCRO badge.

**Environment.**

* Temperature monitoring (±0.1 °C resolution) near DUT; optional low-vibration enclosure; humidity logging.
* Thermal stability spec pinned (e.g., ±0.3 °C over a scan horizon).

---

### Calibration curves (normative procedures & artifacts)

All calibrations produce **content-bound tables**; **fits never overwrite raw calibration points**. Each calibration ships with: raw CSV/Parquet, fit JSON, residual plot (byte-bound to caption), and uncertainty ledger. Naming convention (examples):

* `cal/actuator_forward.csv`, `cal/actuator_reverse.csv`
* `cal/strain_map.json`
* `cal/spec_wavelength.csv`, `cal/spec_response.csv`
* `cal/electrical_gain.csv`
* `cal/thermal_drift.csv`

**(1) Actuator displacement vs drive**

* Sweep drive $V$ forward and reverse across operating range; measure stage displacement $x$ with internal sensor or external interferometer.
* Publish two tables: $x_f(V)$ and $x_r(V)$ (rounded per III.json).
* Fit a **piecewise-polynomial or spline** for each direction; record coefficients and binning.
* **Creep model**: exponential tail $x(t)=x_\infty-\Delta e^{-t/\tau_{\text{reset}}}$; publish $\tau_{\text{reset}}$ and confidence.

**(2) Geometry & strain transfer**

* Baseline gap $L_0$ measured (SEM/AFM/optical).
* Strain estimate: $\varepsilon = \kappa_{\text{strain}} \,\Delta x / L_0$, where $\Delta x$ is actuator-to-anchorage displacement and $\kappa_{\text{strain}}\in[0,1]$ is a **transfer coefficient** accounting for fixture compliance; fit $\kappa_{\text{strain}}$ by small-signal comparison of opto-electrical shifts across forward/back scans.
* Publish `cal/strain_map.json` with $L_0$, $\kappa_{\text{strain}}$, and uncertainty propagation (Type A/B).

**(3) Spectrometer wavelength & response**

* Wavelength: fit pixel→wavelength using line standards (e.g., Hg/Ne) or Raman Si 520.7 cm⁻¹; publish residuals and rounding.
* Response: record relative spectral response using calibrated lamp; publish correction vector.
* Dark-window: acquire shuttered frames to model $I_{\text{dark}}(t,T)$ vs integration $T$; pin subtraction order (dark→linearity→response).

**(4) Electrical chain gain & linearity**

* Use precision standards to map SMU/lock-in readouts to SI units; publish linear fit and maximum integral nonlinearity in operating range.
* Input-referred noise measured in dark-window; publish PSD estimate and integration bandwidth used downstream.

**(5) Timing offsets (LCRO alignment)**

* Measure trigger propagation and acquisition latencies; publish per-path offset table (ns).
* LCRO badge includes oscillator class, offset to lab ref, drift bound; any compensation applied must be **declared** (III.json decode\_spec).

**(6) Thermal drift**

* Record device observables vs temperature (no scan) to estimate $\partial O/\partial T$ (e.g., feature energy shift per °C); publish coefficient and confidence for an optional compensation card (non-gate).

---

### Uncertainty budgets & propagation

**Ledger structure (per calibration):**

* **Type A** (statistical): standard error of fit coefficients; Allan variance for timing if applicable.
* **Type B** (systematic): sensor scale factor, geometric measurement error, lamp wavelength uncertainty, resistor tolerance, thermal gradients.
* **Correlation**: forward/back fits share terms (documented).
* **Propagation**: publish a symbolic or numeric Jacobian for mapping $(x,V,T,\ldots)\to$ derived observables (e.g., feature energy, witness margin), evaluated at operating points.

All reported diagnostics used by DII-4 must ship an **uncertainty-aware rounded value** and a **margin-to-threshold** after rounding. If the 1-σ (or declared) interval straddles a gate threshold under round-before-compare, **TTDA neutralizes** the decision (δ→0) rather than risk disagreement between pipelines.

---

### Acceptance tests (run at installation and daily quick-check)

**Installation acceptance (content-bound):**

* Actuator: forward/reverse residuals ≤ pinned limit (e.g., ≤ 5 nm RMS) across span; $\tau_{\text{reset}}$ within spec.
* Spectrometer: wavelength residuals ≤ 0.2 nm RMS (or ≤ 0.8 cm⁻¹ Raman) in band of interest.
* Electrical: gain error ≤ 0.1% in operating window; noise PSD below budget.
* Timing: end-to-end latency map stable across RG phases within rounding.
* Environment: temperature control achieves pinned stability.

**Daily quick-check (RG-phased):**

* Short actuator loop (5–10 points) to confirm bidirectional alignment.
* One dark-window sweep (electrical and optical).
* Single-line wavelength spot check (or Si peak).
* TTDA parity micro-run (stream vs batch) on a fixed canned sequence.

Artifacts are stored under `qc/YYYY-MM-DD/*.csv` with hashes registered in Receipt v2.

---

### File schemas (CSV/Parquet; minimal columns)

**Actuator calibration.**

```
V_drive [V], x_meas [nm], direction {"f","r"}, t_rel [s], phase_id {0,H/3,2H/3}
```

**Strain map.**

```
L0 [nm], kappa_strain [-], L0_unc [nm], kappa_unc [-], method {"SEM","optical","AFM","hybrid"}
```

**Spectral wavelength.**

```
pixel, lambda_meas [nm], lambda_ref [nm], residual [nm], phase_id
```

**Electrical gain.**

```
set_V [V], read_V [V], set_I [A], read_I [A], gain_err_V [ppm], gain_err_I [ppm]
```

**Timing offsets.**

```
path_label, offset_ns, stdev_ns, phase_id
```

**Thermal drift.**

```
temperature_C, observable, dO_dT_unit, fit_residual
```

All schemas are **authoritative** for downstream code; any change is a MAJOR edition.

---

### Coupling to floors and gate

* **G-floor.** All calibration tables must regenerate identical rounded fits under admissible re-descriptions (unit conversions, locale, column order, container image). Non-invariance is a floor FAIL.
* **CAUSALITY/ISO.** Front-speed $\hat c$ fitting uses UTC-LCRO-corrected times and the calibrated distance model; $A^\star$ evaluates phase/direction stability of derived features.
* **TTDA.** Stream (online) vs batch (offline) pipelines consume **the same calibration bytes**; parity is required at the rounded bin level.
* **CAPTION→RECEIPT.** Every plotted calibration curve is bound to its table hash; images alone carry no authority.
* **DETERMINISM.** Fitting routines are deterministic with pinned seeds and numeric modes; results are byte-stable across supported platforms.

---

### Failure modes & repair vectors

* **FM-A (actuator hysteresis exceeds spec).** Increase dwell; refresh controller linearization; restrict operating range; re-fit forward/back; re-run acceptance.
* **FM-B (wavelength residual drift).** Recalibrate with fresh line source; inspect slit focus; update pixel map; ship new calibration edition.
* **FM-C (electrical gain drift).** Re-zero SMU; verify cabling and guarding; recalibrate; document change in III.json.
* **FM-D (timing phase lock).** Audit trigger routing; randomize schedule (RG-grid); measure new offsets; enforce TTDA.
* **FM-E (thermal excursions).** Tighten enclosure control; increase wait times; add compensation coefficient (non-gate) with public justification.

Unrepaired FM instances that touch gate-critical paths force **δ = −1** (floors dominate).

---

### Context note (non-gate)

Adamas-1D supports scans where strain tunes electronic or optical features; prior literature reports SSH-like transitions in strained 1D systems. Such context is **not** a gate claim: Gravastar admits outcomes only through the δ calculus with floors and receipts. Any physics interpretation belongs in non-gate discussion and must be clearly delinked from admissibility.

---

**Bottom line.**
By fixing class-level specs, calibration procedures, and byte-true artifacts, Adamas-1D turns device-level experimentation into **auditable, gauge-invariant evidence**. If two labs share the bytes, the **same** rounded decisions follow—stream or batch, forward or reverse, today or tomorrow.

## Appendix H. Engineered-$\Phi$ (DNT) parameter tables and ablations (quarantined)

**Scope & quarantine.**
This appendix specifies the **Discrete Nonlinear Transport (DNT)** layer used to *engineer* $\Phi$—e.g., to study “soliton-like” pulses, pulse routing, or stabilization. **DNT is quarantined:** it **cannot relax any floor**, **cannot alter the core gate** $\delta$, and **must publish** a fitted causality cap $\hat c$. Results are reported as *engineering metrics* only; any proposal to let DNT influence gating requires a **MAJOR edition** with new receipts and floor proofs.

---

### H.1 DNT evolution rule (normative form)

State uses Gravastar’s moral geometry: $x\in(-1,1)$, $y=\mathrm{arctanh}(x)$. DNT evolves $y$ on a graph $G=(V,E)$ (sites $i\in V$):

$$
\boxed{ \; y^{(t+1)} \;=\; y^{(t)} \;+\; \Delta t\left[\, D\, (L\,y^{(t)}) \;+\; N\!\big(y^{(t)}\big) \;+\; u^{(t)} \;+\; \xi^{(t)} \,\right] \;}
$$

* $L$: **normalized graph Laplacian** (pinned: symmetric, spectrum in $[0,2]$).
* $D\ge 0$: transport coefficient.
* $N(y)$: nonlinearity (default **saturating restorative**)

  $$
  N(y) \;=\; -\beta \tanh\!\left(\frac{y}{\kappa}\right),\quad \beta,\kappa>0.
  $$
* $u^{(t)}$: exogenous control (pulses, boundary drives; content-bound table).
* $\xi^{(t)}$: declared perturbation/noise (optional; zero-mean; pinned seed).
* **CFL-like stability (required):**

  $$
  \Delta t\;\Bigl[D\,\lambda_{\max}(L)\;+\; \beta/\kappa \Bigr] \;\le\; \gamma_{\mathrm{CFL}}\quad(\gamma_{\mathrm{CFL}}\in(0,1]\;\text{in III.json})
  $$
* **Causality cap:** from space-time lags of pulse fronts, compute $\hat c$ as in §F.4; require $\hat c\le 1$ (rounded).

---

### H.2 Canonical parameter table (must ship)

**File:** `engineered_phi/dnt_config.json` (content-addressed; referenced in Receipt v2 under `x_ext.dnt`)

```json
{
  "schema": "dnt-config-1.0",
  "graph": {
    "topology": "chain|ring|grid|small_world|custom",
    "n_nodes": 256,
    "laplacian": "normalized_sym",
    "lambda_max_hint": 2.0
  },
  "dynamics": {
    "D": 0.25,
    "nonlinearity": {"form": "sat_tanh", "beta": 1.0, "kappa": 0.5},
    "dt": 0.01,
    "gamma_CFL": 0.9,
    "boundary": "reflect|periodic|absorb",
    "update": "synchronous|async-jitter<=0.1dt"
  },
  "controls": {
    "u_spec": "pulses.csv",           // time/site/amplitude table
    "seed": 1337,
    "noise": {"type": "gauss", "sigma": 0.0}
  },
  "quantization": {"q_bits": 64, "rounding": "tie-to-even"},
  "report": {
    "metrics_out": "dnt_metrics.csv",
    "snapshots": ["t000,t050,t100"],
    "c_hat_fit": "frontfit.json"
  }
}
```

**Controls table schema (`pulses.csv`):**

```
t, site, amplitude, width, phase
```

All times are UTC-LCRO anchored (rounded to $\rho_t$); seeds and numeric mode are pinned (DETERMINISM).

---

### H.3 Metrics & cards (engineering lane)

**File:** `engineered_phi/dnt_metrics.csv` (rounded per III.json)

```
run_id, phase_id, direction, t, 
E2_norm, width, v_hat, S_ret, E_disp, A_star_local, c_hat_local
```

* **Energy norm:** $E2=\|y^{(t)}\|_2^2$.
* **Width:** second-moment width of primary pulse.
* **Velocity $\hat v$:** lag-correlation front speed.
* **Retention $S_{\mathrm{ret}}\in[0,1]$:** $\exp\{-|E2^{(t)}-E2^{(0)}|/E2^{(0)}\}$.
* **Dispersion $E_{\mathrm{disp}}\in[0,1]$:** $\exp\{-|\,\mathrm{width}^{(t)}-\mathrm{width}^{(0)}\,|/ \mathrm{width}^{(0)}\}$.
* **Local isotropy $A^\star_{\text{local}}$:** phase/direction stability of metrics (as §F.3).
* **$\hat c_{\text{local}}$:** instantaneous cap from $\hat v$ (must aggregate to overall $\hat c\le 1$).

**Engineering card (non-gate suggestion):**

$$
\Phi_{\text{eng}} \;=\; \Phi_{\max}\cdot \underbrace{\bigl(S_{\mathrm{ret}}\cdot E_{\mathrm{disp}}\bigr)}_{\text{coherence}} \cdot \underbrace{\mathbf 1[\hat c\le 1]}_{\text{causality}} \cdot \underbrace{A^\star_{\text{local}}}_{\text{stability}}.
$$

$\Phi_{\text{eng}}$ is *quarantined*: it is **reported**, not added to the gate $\Phi$.

---

### H.4 Ablations (must-run grid)

**File:** `engineered_phi/dnt_ablations.json` (declares the sweep); outputs to `engineered_phi/ablations/…`

**Ablation axes (minimum set):**

1. **Transport off:** $D\in\{0, 0.1, 0.25, 0.5\}$.
2. **Nonlinearity off/weak/strong:** $\beta\in\{0, 0.5, 1.0, 2.0\}$, $\kappa\in\{0.25, 0.5, 1.0\}$.
3. **Topology:** chain | ring | small-world(p=0.05) | 2D-grid(16×16).
4. **Boundary:** reflect | absorb | periodic.
5. **Update order:** synchronous | async-jitter $\le 0.1\Delta t$.
6. **Noise:** $\sigma \in \{0, 10^{-4}, 10^{-3}\}$.
7. **Quantization:** $q\_bits \in \{64, 32, 16\}$ (IEEE, pinned rounding).
8. **Controls:** pulse width $\in\{3,5,9\}$, amplitude $\in\{0.2,0.3,0.5\}$, single vs. dual pulse.
9. **CFL margin:** $\gamma_{\mathrm{CFL}}\in\{0.5,0.9\}$.
10. **Stream vs batch:** identical math, different pipeline orderings (TTDA parity must hold).

**Report per cell (rounded):**

* $\max_t S_{\mathrm{ret}}$, $\max_t E_{\mathrm{disp}}$, best $\hat v$ with CI, overall $\hat c$.
* Failure flags: **CFL breach**, **$\hat c>1$**, **TTDA parity fail**, **A$^\star_{\text{local}}$ fail**.
* First-divergence locus under **REPLAY-RFD**.

---

### H.5 REPLAY-RFD for DNT (engineered lane)

* **Graph bytes** (adjacency/Laplacian), **initial state**, **controls**, and **config JSON** are **content-bound** and referenced in Receipt v2 under `x_ext.dnt`.
* **Deterministic runner** (`dnt_run.py`) emits snapshots at pinned $t$’s and the full metrics CSV.
* **RFD rule:** the *earliest* mismatch in either a snapshot hash or any metric cell is the divergence. Auditors need no network; the container image and bytes suffice.

---

### H.6 Example tables (schemas)

**`engineered_phi/snapshots/index.csv`**

```
t, path, sha256
```

**`engineered_phi/frontfit.json`**

```json
{"method":"lag-xcorr","v_hat":0.84,"c_hat":0.84,"rho_t":3,"ci":[0.78,0.90]}
```

**`engineered_phi/ablations/results.csv`**

```
cell_id, axes_json, Sret_max, Edisp_max, v_hat_best, c_hat, Astar_local, flags, rfd_ok
```

All are **byte-authoritative**; figures derived from these must bind via **CAPTION→RECEIPT**.

---

### H.7 Compliance & failure semantics

* **Floors dominate.** Any DNT run with $\hat c>1$ (rounded), TTDA parity failure, or G-floor violation is **invalid** and may not be summarized positively; publish as a failed ablation cell with divergence locus.
* **No gate coupling.** DNT outputs **do not** contribute to DII-4 or the gate $\Phi$. Cross-contamination (using engineered outputs in core diagnostics) is a **floor failure**.
* **Promotion path (future).** To lift quarantine, propose a MAJOR edition: (i) formal card map, (ii) new floor proofs, (iii) multi-lab universality $R(u)$ for the new card, (iv) explicit $\hat c$ governance. Until then, DNT remains **report-only**.

---

**Bottom line.**
This appendix fixes the **bytes, knobs, and tests** for engineered-$\Phi$ studies. With pinned configs, ablations, and REPLAY-RFD, any admissible observer can reproduce DNT behavior, confirm the causality cap, and assess “soliton-like” coherence—*without touching the gate*.

## Appendix I. REPLAY-RFD auditor’s guide and first-divergence exemplars

**Purpose.**
REPLAY-RFD (*Replay-to-First-Divergence*) is Gravastar’s byte-true audit primitive. It lets any admissible observer reproduce an edition’s pipeline inside the pinned container and report the **earliest** place where bytes (or rounded tables) cease to match the receipt. This appendix gives a procedural guide, comparison rules, divergence taxonomy, minimal counterexample packs, and worked exemplars. REPLAY-RFD is an audit/repro procedure—**not** the Cook–Mertz *Tree Evaluation [2,3,4]* complexity problem.

---

### I.1 Preconditions and materials (must have)

* The **edition bundle** (content-addressed archive) and **Receipt v2** JSON.
* The **pinned container** (`oci_digest`), offline. No network access during replay.
* The **III.json** manifest the receipt binds to (hash must match).
* System capable of running the container with stable numeric mode (as pinned).
* Optional: a second host/platform for cross-parity confirmation (useful, not required).

**Rights & scope.** Auditors may inspect and execute every byte shipped in the bundle. If an edition withholds bytes required to reach the gate or floors, the audit **fails closed** (δ cannot be claimed +1).

---

### I.2 Replay contract (what counts as “match”)

1. **Hash equality for files** declared in the RFD graph (`sha256` arrays).
2. **Rounded-table equality** for gate-path tables listed under `rfd.expect.rounded_tables`: values must be equal **after** rounding at precisions pinned in **III.json** (*round-before-compare*).
3. **Floor booleans** equal to receipt (`g_floor.pass`, `causality_iso.pass`, `caption_binding`, `determinism`, `pos_screen`).
4. **TTDA parity**: `delta_stream == delta_batch` and `pass == true`.
5. **Gate tuple** equality: $(\Phi,\Phi_{\text{eff}},x,y,\delta)$ after rounding.
6. **Caption→receipt** token trails in figure captions must match the table SHA-256 they bind.

If any check fails, the **first** failing step/file/table is the divergence locus.

---

### I.3 Minimal replay procedure (auditor run-book)

* **Step 0 (sanity).** Verify the bundle’s top-level hash equals `bundle_sha256`; verify `III.json` hash.
* **Step 1 (container).** Launch the pinned `oci_digest` in offline mode; mount archive read-only.
* **Step 2 (graph walk).** Execute RFD DAG in topological order. For each node:

  * Emit inputs’ hashes; run the node’s command; hash outputs.
  * Compare each expected hash to the receipt’s `sha256` list.
  * If mismatch → **record locus and stop** (first divergence).
* **Step 3 (rounded tables).** For any node that produces tables named in `rounded_tables`, apply the rounding rules from **III.json** and compare cell-wise.
* **Step 4 (floors & TTDA).** Run floor scripts from the bundle; compare booleans and reported scalars after rounding.
* **Step 5 (gate).** Recompute the gate tuple; compare after rounding.
* **Step 6 (binds).** Scan captions for token trailers; byte-check against table hashes.

Output a signed **Audit Report** (template in §I.6) with the first-divergence locus, the exact bytes/tables involved, and reproduction commands.

---

### I.4 Divergence taxonomy (what typically breaks first)

* **D-HSH (hash mismatch).** Output file hash differs from receipt at node *k*. Usual causes: hidden nondeterminism, different numeric mode, unpinned library.
* **D-RND (rounding policy).** Unrounded numbers match but rounded values differ due to misapplied precision, tie-policy, or locale.
* **D-GFL (gauge invariance).** A re-description in $G$ (units, column order, tokenization, locale) yields a different rounded diagnostic ⇒ G-floor FAIL.
* **D-TTD (TTDA parity).** $\delta_{\text{stream}} \ne \delta_{\text{batch}}$ or `pass=false`, after rounding.
* **D-CAP (caption binding).** Caption token trailer does not match the bound table’s SHA-256.
* **D-CAU (causality cap).** Fitted $\hat c>1$ (rounded) or isotropy $A^\star$ below threshold ⇒ CAUSALITY/ISO FAIL.
* **D-DET (determinism).** RNG not frozen; kernel nondeterminism; cross-device FMA differences not pinned.
* **D-SBM (SBOM/bytes).** Missing or altered dependency bytes; SBOM hashes don’t match.
* **D-GTE (gate mismatch).** $\Phi$ or $\delta$ differs after rounding despite prior steps passing—usually upstream rounding or map weights out of sync with **III.json**.

Auditors report **only the first** divergence class encountered.

---

### I.5 First-divergence exemplars (worked, minimal)

**Exemplar A — D-CAP (caption→receipt).**

* *Context.* Figure 2 caption ends with token `[cap→rec: bb66…]`. Bound table `gates/gate_table.csv` hashes to `bb67…`.
* *First divergence.* `caption_bindings[fig2]` byte check.
* *Audit note.* The image may **look** identical; the **bytes** are not bound. δ cannot claim +1 until caption is fixed and receipt updated.

**Exemplar B — D-TTD (stream↔batch parity).**

* *Observed.* `delta_stream=+1`, `delta_batch=0` with $|\delta_s-\delta_b|=1 > \Pi+0.01\Pi$ where $\Pi=0.03$.
* *First divergence.* TTDA parity step.
* *Likely cause.* Different decode spec or rounding epoch in stream vs batch; or late aggregation changed the bin.
* *Repair vector.* Unify decode spec; enforce single rounding kernel; re-emit rounded tables.

**Exemplar C — D-GFL (gauge invariance).**

* *Test.* Re-encode inputs with SI units instead of mixed, reorder columns, change locale decimal comma → canonicalize.
* *Observed.* Rounded witness margin flips by one bin only for the locale transform.
* *First divergence.* G-floor invariance suite.
* *Implication.* Method is not invariant under admissible $G$ transform; δ must be −1 until canonicalizer is fixed.

**Exemplar D — D-CAU ($\hat c>1$).**

* *Observed.* Front-speed fit yields $\hat c=1.02$ (rounded precision $\rho_c=2$).
* *First divergence.* CAUSALITY/ISO report.
* *Interpretation.* Either timing offsets/geometry are mis-calibrated, or the fitted model/rounding is wrong. Floors dominate ⇒ δ=−1.

**Exemplar E — D-RND (rounding/tie policy).**

* *Observed.* Auditor and receipt both compute $W$ as 2.0005 with $\rho_W=3$; tie policy differs (“ties to even” vs “ties away”).
* *First divergence.* Rounded table equality on `rounded_tables`.
* *Repair vector.* Pin and publish the tie policy in **III.json**; re-emit rounded tables.

**Exemplar F — D-DET (nondeterminism).**

* *Observed.* Hash of `features.parquet` differs across identical replays; RNG seed was not frozen in a GPU op.
* *First divergence.* Node producing `features.parquet`.
* *Repair vector.* Freeze seeds; switch to deterministic kernels or pin math mode; re-issue edition.

---

### I.6 Audit report (minimal template)

```
Edition: Gravastar vX.Y.Z
Receipt: sha256 <…>
Auditor: <name/email>   Date (UTC): <…>
Container: <oci_digest>  Host: <cpu/gpu/os>

First divergence:
  Type: D-XXX (see taxonomy)
  Node: <rfd.graph.id>
  Input hashes: <list>
  Expected out hash: <hex>
  Observed out hash: <hex>   (or rounded cell delta at row/col: <…>)
  III.json: sha256 <…>  Precisions: {phi:…, stats:…, c:…}

Reproduction:
  Command #1: <…>
  Command #2: <…>
  (…)
Artifacts attached:
  - diff/<node>/expected.bin
  - diff/<node>/observed.bin
  - logs/<node>.txt

Verdict:
  Floors: {g_floor: pass/FAIL, causality_iso: pass/FAIL, …}
  TTDA parity: pass/FAIL  (Δ = …, Π = …)
  Gate tuple (receipt): (Φ, Φ_eff, x, y, δ)
  Gate tuple (auditor): (Φ, Φ_eff, x, y, δ)
```

Sign the report (detached signature) and publish alongside the counterexample pack.

---

### I.7 Counterexample pack (what to publish)

* **Minimal bytes** to reproduce the first divergence (inputs for the failing node, the node script, and outputs).
* The **Receipt v2**, **III.json**, and the auditor’s **container digest**.
* A **README** with the exact commands and host info.
* Optional: a short **PoS-impact note** describing whether the divergence suggests δ should be 0 or −1 (the calculus decides).

---

### I.8 Triage order (fastest path to a clear result)

1. Bundle hash & III.json hash.
2. Container launch & SBOM hash check.
3. Caption→receipt token trails.
4. Run TTDA parity.
5. Run CAUSALITY/ISO.
6. Walk RFD graph until first mismatch.
7. Run G-floor invariance suite.

This order surfaces the most frequent and most decisive divergences early.

---

### I.9 Repair vectors (author side, when a divergence is valid)

* **Pin precisions & ties** in **III.json**; re-emit rounded tables.
* **Harden canonicalizer** for all declared $G$ transforms.
* **Freeze RNG & math** paths; adopt deterministic kernels; document numeric mode.
* **Re-calibrate time/geometry** before fitting $\hat c$.
* **Re-bind captions** to table hashes; never edit images alone.
* **Unify stream/batch decode**; share a single rounding module.

Repairs require a **new edition** with updated Receipt v2 and (if needed) MAJOR bumps to **III.json**.

---

**Bottom line.**
REPLAY-RFD turns admissibility into a concrete, public exercise: **walk the bytes, stop at the first mismatch, publish the locus**. If there is no mismatch, the claim earns δ=+1 at the declared resolution; if there is, the counterexample defeats it—precisely, minimally, and reproducibly.

## Appendix J. Right-to-Temporal-Resolution API (endpoints, budgets, audit logs)

**Purpose.**
The Right-to-Temporal-Resolution (RtTR) API makes **time a first-class, auditable resource**. It exposes **clock facts**, the **time spine**, **RG-grid** parameters, **TTDA parity** results, and a **budgeted interface** for requesting finer (or coarser) temporal resolution without end-running floors. All endpoints are **bundle-local** (offline): implemented as CLI commands or Unix-socket RPC inside the pinned container. Artifacts are **content-addressed JSON** and are referenced in **Receipt v2**. Rounding is **round-before-compare** at precisions pinned in **III.json**.

---

### J.1 Design constraints

* **Floors dominate.** No resolution change may weaken **G-floor**, **CAUSALITY/ISO**, **CAPTION→RECEIPT**, **DETERMINISM**, or **TTDA parity**.
* **UTC-LCRO anchoring.** All times carry a **Clock Disclosure Badge** (oscillator class, offset, drift, leap policy).
* **Budgets are explicit.** RtTR spends from preregistered $\Pi$ and the RG budget vector $\{\Pi_{\text{class}},\varepsilon_{\text{join}},\varepsilon_{\text{clock}},\varepsilon_{\text{priv}}\}$ in **III.json**.
* **Open-join audit.** Every call emits an **audit log record**; resolution decisions are reproducible via **REPLAY-RFD**.

---

### J.2 Endpoints (CLI/RPC)

**Notation.** Commands shown as CLI; an equivalent JSON-RPC form is allowed. Fields marked *(rounded)* are rounded per **III.json**.

#### 1) `time.clock.badge.show`

Return the current **UTC-LCRO** badge(s).

**Output (JSON).**

```json
{
  "schema": "rttr.clock.badge/1",
  "edition_id": "gravastar-vX.Y.Z",
  "badges": [
    {
      "badge_id": "lcro:labA:001",
      "utc_issued": "2025-07-03T14:26:10.124Z",
      "oscillator_class": "OCXO",
      "offset_ns": 38,
      "drift_ppb": 60,
      "leap_policy": "IERS",
      "valid_through": "2025-07-10T00:00:00Z"
    }
  ],
  "hash": "sha256:…"
}
```

---

#### 2) `time.spine.show`

Show the **time spine** used for the edition: rounding epoch, quantization, and decode spec.

**Output.**

```json
{
  "schema": "rttr.spine/1",
  "round_epoch": "unix",
  "quantum_ns": 10,
  "tie_policy": "ties-to-even",
  "decode_spec": "ts_utc+offset_ns@LCRO",
  "hash": "sha256:…"
}
```

---

#### 3) `ttda.report`

Emit **TTDA** metrics and the streaming↔batch parity verdict.

**Output.**

```json
{
  "schema": "rttr.ttda/1",
  "delta_stream": 1,
  "delta_batch": 1,
  "parity": { "abs_diff": 0, "budget_Pi": 0.03, "threshold": 0.0303, "pass": true },
  "Pi_spend": {
    "class": 0.006, "join": 0.004, "clock": 0.002, "priv": 0.000
  },
  "rg_grid": { "H": 3600, "m": 3, "phases": ["0","1200","2400"] },
  "lcro_badge_ref": "sha256:…",
  "hash": "sha256:…"
}
```

---

#### 4) `rg.grid.show`

Reveal the **RG-grid** parameters (period $H$, multiplicity $m$, phase offsets) and scheduling policy.

**Output.**

```json
{
  "schema": "rttr.rg/1",
  "H": 3600,
  "m": 3,
  "phases_s": [0,1200,2400],
  "scheduler": "deterministic-with-randomized-phase",
  "hash": "sha256:…"
}
```

---

#### 5) `rttr.request`

Ask to **change temporal resolution** for a named pipeline segment (e.g., acquisition, feature extraction).

**Input.**

```json
{
  "schema": "rttr.request/1",
  "segment": "acquisition",
  "target_quantum_ns": 5,
  "window": {"start_utc":"2025-07-03T14:25:00Z","end_utc":"2025-07-03T14:40:00Z"},
  "reason": "front detection jitter study",
  "est_budget_spend": {"class": 0.004, "join": 0.002, "clock": 0.003, "priv": 0.000}
}
```

**Output (grant or deny).**

```json
{
  "decision": "GRANT",
  "effective_quantum_ns": 5,
  "budget_grant": {"class": 0.004, "join": 0.002, "clock": 0.003, "priv": 0.000},
  "constraints": {
    "must_publish_parity": true,
    "must_publish_frontfit": true,
    "no-change-to-floors": true
  },
  "expires_utc": "2025-07-03T15:10:00Z",
  "hash": "sha256:…"
}
```

If **DENY**, include `reason_code` ∈ {`BUDGET_EXCEEDED`, `CAUSALITY_RISK`, `PARITY_RISK`, `FLOOR_CONFLICT`, `SCHEMA_MISMATCH`}.

---

#### 6) `rttr.apply`

Finalize an approved request, committing the new quantum and emitting a **before/after** parity check.

**Output.**

```json
{
  "schema": "rttr.apply/1",
  "request_hash": "sha256:…",
  "applied": true,
  "pre_parity": {"abs_diff":0,"pass":true},
  "post_parity": {"abs_diff":0,"pass":true},
  "Pi_spend_delta": {"class":0.004,"join":0.002,"clock":0.003,"priv":0.000},
  "hash": "sha256:…"
}
```

---

#### 7) `ttda.parity.diff`

Produce a **side-by-side** stream vs batch diff at the rounded table level (for REPLAY-RFD).

**Output.**

```json
{
  "schema": "rttr.parity.diff/1",
  "tables": [
    {
      "name": "witness_margins.csv",
      "precision": "rho_W=3",
      "diff": []
    }
  ],
  "hash": "sha256:…"
}
```

---

#### 8) `audit.logs.export`

Export **RtTR audit logs** for the edition (paged).

**Output.**

```json
{
  "schema": "rttr.audit/1",
  "records": [
    {
      "ts_utc":"2025-07-03T14:26:12.001Z",
      "event":"CLOCK_BADGE_ISSUED",
      "details":{"badge":"lcro:labA:001"},
      "actor":"system",
      "hash":"sha256:…"
    },
    {
      "ts_utc":"2025-07-03T14:31:00.000Z",
      "event":"RTTR_REQUEST",
      "details":{"segment":"acquisition","target_quantum_ns":5},
      "actor":"auditor:alice@example.org",
      "hash":"sha256:…"
    },
    {
      "ts_utc":"2025-07-03T14:31:01.500Z",
      "event":"RTTR_DECISION",
      "details":{"decision":"GRANT","expires":"2025-07-03T15:10:00Z"},
      "actor":"system",
      "hash":"sha256:…"
    }
  ],
  "page": 1,
  "next": null
}
```

---

### J.3 Budgets and spending rules

**Budget vector (from III.json).**

```json
{
  "rttr_budget": {
    "Pi_total": 0.03,
    "class": 0.010,
    "join": 0.010,
    "clock": 0.010,
    "priv": 0.003,
    "CARRYOVER": false
  }
}
```

* **class**: resolution-class changes (quantum, tie policy) permissible only via **MAJOR** edition, except temporary RtTR grants within **class** ≤ allowance.
* **join**: phase alignment/joinery spend (re-chunking streams).
* **clock**: extra clock work (re-sync, offset estimation, drift tracking).
* **priv**: privacy-motivated time perturbations (must be zero for public editions unless declared).
* **Pi\_total** bounds $|\delta_{\text{stream}}-\delta_{\text{batch}}| \le \Pi + 0.01\Pi$.

**Spending semantics.**

* A **GRANT** reserves spend; an **APPLY** burns it; an **EXPIRE** returns unspent to the pool.
* Any move that would push **post\_parity.pass=false** is **DENY**.
* Budget arithmetic is rounded to the precision in **III.json** to avoid bin ping-pong.

---

### J.4 Error codes (uniform)

* `BUDGET_EXCEEDED`: request exceeds remaining vector or Pi.
* `PARITY_RISK`: predicted post-parity would violate the bound.
* `CAUSALITY_RISK`: fitted $\hat c$ uncertainty at requested quantum could exceed 1 (rounded).
* `FLOOR_CONFLICT`: change would undermine a floor script (e.g., numeric mode).
* `SCHEMA_MISMATCH`: request references unknown segment or invalid window.
* `BAD_BADGE`: LCRO badge expired or inconsistent.
* `RFD_BLOCK`: first divergence already filed; edition frozen pending repair.

---

### J.5 Audit log schema (normative)

Each record:

```json
{
  "ts_utc": "RFC3339Z",
  "actor": "system|auditor:<id>|author:<id>",
  "event": "CLOCK_BADGE_ISSUED|SPINE_REGISTERED|RTTR_REQUEST|RTTR_DECISION|RTTR_APPLY|TTDA_PARITY|RFD_FIRST_DIVERGENCE|FLOOR_FAIL",
  "details": { "freeform": "JSON, content-addressable refs allowed" },
  "hash": "sha256:…",
  "prev_hash": "sha256:…"
}
```

Logs are a **hash-chained ledger** (append-only). The head hash is included in **Receipt v2**.

---

### J.6 Security & privacy

* **Offline by default.** Endpoints operate inside the pinned container; no external NTP/PTP allowed during replay.
* **Deterministic numerics.** Time quantization and tie policy are pinned; changing them outside RtTR is a **floor violation**.
* **No PII.** Actors are pseudonymous; optional proof of control via detached signatures stored alongside logs.
* **Retention.** RtTR logs are kept for the edition’s life; trimming requires a **MAJOR** edition with a public rationale.

---

### J.7 Worked example (minimal)

**Goal.** Auditor requests finer quantum (10 ns → 5 ns) during a 15-minute acquisition to study front jitter.

1. `time.spine.show` → quantum=10 ns.
2. `rttr.request` (target 5 ns, window 15 min) → **GRANT**, budget burn forecast class=0.004, clock=0.003.
3. `rttr.apply` → **applied**, **pre\_parity.pass=true**, **post\_parity.pass=true**.
4. `ttda.report` → parity bound holds, Pi\_spend updated.
5. `audit.logs.export` → shows REQUEST, DECISION, APPLY events chained.
6. **REPLAY-RFD** reproduces the same apply decision and post-parity tables.

If any step produced `PARITY_RISK` or `CAUSALITY_RISK`, the decision would be **DENY**, with the denial record anchored in the log and referenced by Receipt v2.

---

**Bottom line.**
The RtTR API formalizes *who may change time, by how much, and with which proofs*. By exposing clock facts, the time spine, RG-grid, parity results, and a budgeted request/apply flow—with hash-chained audit logs—any admissible observer can **exercise, inspect, or contest** temporal resolution **without weakening floors** and with a clean path to **first-divergence** if something drifts. If it isn’t in the **RtTR bytes**, it isn’t in **time**.

## Appendix K. Extended examples: round-before-compare, tie policy, and repair vectors

**Purpose.**
This appendix turns the abstract *round-before-compare* rule into concrete, byte-checkable practice. It supplies worked numeric examples, pinned tie-policy behavior, common failure modes, and minimal **repair vectors** that restore agreement without weakening floors. All examples assume the precisions and policies declared in **III.json**; change those → **new edition**.

---

### K.1 Canonical rounding operator and compare rule

Let $\rho$ be the pinned precision for a quantity $S$ (e.g., $\rho=3$ decimal places) **or** a quantization grid $\Delta$ (e.g., time quantum $10\,\mathrm{ns}$). Define:

* **Decimal precision form:** $\mathrm{ROUND}(x;\rho)$ = round to $\rho$ decimal places with **ties-to-even**.
* **Grid form:** $\mathrm{QUANT}(t;\Delta)$ = nearest multiple of $\Delta$ relative to the pinned epoch, ties-to-even on the integer index.

**Round-before-compare (RBC).** For any comparison of scalars or vectors $\{x_i\}$, compute

$$
\tilde x_i=\mathrm{ROUND}(x_i;\rho)\quad\text{(or }\tilde t_i=\mathrm{QUANT}(t_i;\Delta)\text{),}
$$

then compare $\tilde x_i$ (not the raw $x_i$). Derived quantities (margins, means, regressions) must be formed **from the rounded tables** if the compare is at that level and **from the raw** if compares are later after a separate rounding step—whichever path is pinned in **III.json**. Mixing paths is a violation.

---

### K.2 Tie policy behavior (worked micro-examples)

**Pinned policy:** ties-to-even.

**Example K2.1 — Witness margin at the cliff.**
Pinned $\rho_W=3$. Suppose $W=1.9995$, $B=2.0000$.

* Rounded: $\tilde W=\mathrm{ROUND}(1.9995;3)=2.000$ (5 rounds to even), $\tilde B=2.000$.
* Margin (rounded): $m=\tilde W-\tilde B=0.000 \Rightarrow$ *no positive evidence*.

If a pipeline used “ties-away-from-zero,” it would get $\tilde W=2.000$ as well; but if it misapplies *pre-rounding of the difference only*, $m=\mathrm{ROUND}(W-B;3)=\mathrm{ROUND}(-0.0005;3)=-0.001$. That mis-implementation produces a **different bin**.
**Repair vector K-R1:** Round inputs *first*, then subtract: $m=\tilde W-\tilde B$. Pin this in **III.json** (`witness.margin_rule="round_inputs_subtract"`).

**Example K2.2 — Locale & comma ties.**
Raw CSV contains `2,0005` (decimal comma). Canonicalizer converts to `2.0005` **before** rounding. Ties-to-even → `2.001`.
**Repair vector K-R2:** Ensure locale canonicalization precedes rounding; enforce with a pre-commit schema validator.

---

### K.3 Stream vs batch parity and rounding placement

**Scenario.** Stream pipeline increments a cumulative mean; batch recomputes once at the end. Pinned $\rho=4$.

Raw samples: $x=\{1.23495,\,1.23495,\,\ldots\}$ (repeated $N$ times).

* **Wrong (stream):** round each sample to $\rho$ and then average → $\bar x_s=1.2350$.
* **Wrong (batch):** average raw, then round once → $\bar x_b=1.2350$. *These match here by coincidence*, but in general they need not.

**Pinned rule (declare in III.json):**
`rounding_epoch="post-aggregate"` for means/variances; `running_accumulator="Kahan"` to minimize drift; **only the final aggregate** is rounded for reporting/compare.
**Repair vector K-R3:** Move per-sample rounding to the *boundaries* declared in the manifest (e.g., quantize timestamps at ingest; round aggregates at report). Re-emit rounded tables.

---

### K.4 Time quantization and $\hat c$ fitting

Pinned quantum $\Delta=10\,\mathrm{ns}$; epoch = UNIX.

**Data.** Event at $t_0$. Arrivals:

$$
t=\{t_0+102.345\,\mathrm{ns},\; t_0+203.345\,\mathrm{ns},\; t_0+304.345\,\mathrm{ns}\}
$$

**Quantized:** $\tilde t=\{102.34,\,203.34,\,304.34\}\,\mathrm{ns}$ (ties-to-even).
Distances (normed): $d=\{1,2,3\}$.

**Fit (Theil–Sen on quantized pairs)** → slope $\beta \approx 101.00\,\mathrm{ns/unit}\Rightarrow \hat c=1/\beta=0.009900…$ (units pinned).
If batch accidentally fits to **unquantized** floats while stream fits to quantized times, $\hat c$ can cross the rounding threshold ($\rho_c=3$) on one path and not the other → **TTDA parity failure**.
**Repair vector K-R4:** Fit must consume the *same* rounded time table on both pipelines. Declare `fit_inputs="time_quantized_table"`.

---

### K.5 Double-rounding and bin ping-pong

**Anti-pattern.** Rounding at $\rho_1=4$ and again at $\rho_2=3$ after a nonlinear map can shift bins.
**Example.** $z=\exp(x)$ near a threshold; rounding $x$ then mapping vs mapping then rounding differ by one ulp in $z$.
**Pinned rule:** Declare the **single rounding locus** per statistic in **III.json**; forbid intermediate rounding unless explicitly annotated (`audit_only=true`).
**Repair vector K-R5:** Remove intermediate `printf`/CSV roundings from the gate path; keep analysis precision high until the pinned locus.

---

### K.6 End-to-end δ impact (worked micro-case)

Pinned thresholds: $\Phi_{\min}=0.60$, $\Phi_{\text{neutral}}=0.20$, $\Phi_{\max}=1.00$.
Cards (before rounding): $\Delta\Phi_R=0.3015$, $\Delta\Phi_A=0.1995$, $\Delta\Phi_c=0.0995$, $\Delta\Phi_W=0.0005$.
Pinned $\rho_\Phi=3$.

* Rounded: $0.302,\,0.200,\,0.100,\,0.001$.
* Sum $\to \Phi=0.603\Rightarrow \delta=+1$.

If a pipeline rounded *each card at $\rho=2$*, it would get $0.30+0.20+0.10+0.00=0.60$ → still $+1$.
If it rounded *pre-sum at $\rho=1$*, it could emit $0.6$. Now a later bug that subtracts $0.1\%$ for “energy cost” before rounding yields $0.5994\to 0.599\Rightarrow \delta=0$.
**Repair vector K-R6:** Pin card precisions and **sum then round once** at $\rho_\Phi$; disallow hidden adjustments on the gate path.

---

### K.7 Test vectors (must ship with Receipt v2)

Add `tests/rounding/tests.json`:

```json
{
  "schema":"round-tests/1",
  "tie_policy":"ties-to-even",
  "decimal": [
    {"rho":3, "x":1.9995, "expect":2.000},
    {"rho":3, "x":-1.9995, "expect":-2.000},
    {"rho":2, "x":2.345, "expect":2.34}
  ],
  "grid": [
    {"Delta_ns":10, "t_rel_ns":102.345, "expect_ns":102.34},
    {"Delta_ns":10, "t_rel_ns":105.000, "expect_ns":105.00}
  ],
  "margin": [
    {"rho":3, "W":1.9995, "B":2.0000, "rule":"round_inputs_subtract", "expect":0.000}
  ]
}
```

Auditors run `tools/round_check.py` inside the container; mismatch ⇒ **first divergence** (D-RND).

---

### K.8 Minimal pseudocode (reference)

```python
def round_decimal(x, rho, ties="even"):
    q = Decimal(10) ** (-rho)
    if ties == "even":
        return Decimal(x).quantize(q, rounding=ROUND_HALF_EVEN)
    raise ValueError("unsupported tie policy")

def quantize_time_ns(t_ns, quantum_ns, epoch="unix", ties="even"):
    k = t_ns / quantum_ns
    if ties == "even":
        k_rounded = round_half_even(k)  # exact rational or Decimal
    return k_rounded * quantum_ns

def margin_round_inputs(W, B, rho):
    return round_decimal(W, rho) - round_decimal(B, rho)
```

**Note.** The *reference implementation* is for audit; production code may differ internally but must yield **identical rounded outputs**.

---

### K.9 Common divergence patterns → repairs

* **D-RND-1 (mismatched tie policy).**
  *Symptom:* Only values ending in *.…5* disagree.
  *Repair:* Publish `tie_policy="ties-to-even"` in **III.json**; update rounding kernel; re-emit tables.

* **D-RND-2 (float vs decimal).**
  *Symptom:* Last-digit jitter across platforms.
  *Repair:* Use exact decimal/binary128 for rounding locus; avoid `%f` formatting prior to rounding.

* **D-RND-3 (locale).**
  *Symptom:* EU CSVs disagree on *.…5* and thousands separators.
  *Repair:* Canonicalize locale before rounding; enforce schema in ingest.

* **D-RND-4 (two-stage rounding).**
  *Symptom:* Stream and batch differ only when an intermediate file exists.
  *Repair:* Move to single locus; mark intermediate as `audit_only`.

* **D-RND-5 (grid off-by-one).**
  *Symptom:* Quantized times drift by one quantum at exact halves.
  *Repair:* Use integer index with half-even; pin epoch.

Each valid divergence triggers **δ≠+1** until repaired; do **not** “nudge thresholds” to hide rounding bugs.

---

### K.10 Author checklist (pre-release)

1. **III.json** declares: precisions, tie policy, rounding loci per statistic, time epoch/quantum.
2. Stream and batch consume the **same** rounded tables at compare points.
3. REPLAY-RFD graph includes unit tests from §K.7.
4. No CSV/plotting step performs hidden rounding on gate-path bytes.
5. Locale canonicalizer proven idempotent (G-floor).
6. Parity report shows $|\delta_s-\delta_b| \le \Pi+0.01\Pi$ with **the same rounding kernel**.
7. Figures’ CAPTION→RECEIPT tokens bind to the **rounded** tables they visualize.

---

**Bottom line.**
Rounding is not a formatting nicety—it is part of the **method**. By pinning precisions, enforcing **ties-to-even**, quantizing time against a declared epoch, and applying **round-before-compare** at one locus, we make $\delta$ decisions **portable, reproducible, and floor-safe**. When a bin flips, the fix is a **repair vector**, not a reinterpretation.

## Appendix L. Glossary of terms and notation (PoS, floors, $G$, receipts, etc.)

**Acceptability field $\Phi(x,t)$.** Scalar in $[0, \Phi_{\max}]$ summarizing admissibility evidence at state $x$, time $t$. Two preregistered bands: $\Phi_{\min}$ (strict pass) and $\Phi_{\text{neutral}}$ (indifference). See §3.1.

**Adamas-1D.** Minimal, receipt-first physical testbed (e.g., CNT strain/spectroscopy) used to demonstrate portability, $\delta$-windows, and REPLAY-RFD. See §11 and App. G.

**Admissible observer.** Any observer who (i) conforms to the declared observer-equivalence group $G$ and (ii) follows the public method; must reproduce rounded results within budgets. See §2.2.

**Alias refuter (three-grid).** ScanProtocol v1 diagnostic using three sampling grids to detect aliasing/beat artifacts. See §8.3.

**$A^\star$ (near-isotropy).** Stability metric across phase/direction scans; part of DII-4 and CAUSALITY/ISO floor. See §5.4 and App. F.

**Batch / stream parity (TTDA).** Requirement that $|\delta_{\text{stream}}-\delta_{\text{batch}}| \le \Pi + 0.01\Pi$. See §6.3.

**Bright/dark basis disclosure.** Required declaration of measurement basis when interference/phase matters. See §8.4.

**Byte-equality binding (CAPTION→RECEIPT).** Caption token trailer must match the bound table/file hash; images alone carry no authority. See §5.5 and §7.2.

**Counterexample (compliant).** A valid reproduction following the method that yields a defeating outcome; any compliant counterexample defeats the claim. See §4.3 and App. I.

**$\hat c$ (front-speed cap).** Fitted maximum front speed; a floor must report $\hat c \le 1$ (rounded). Part of DII-4 and CAUSALITY/ISO. See §5.4 and App. F.

**$\delta \in \{-1,0,+1\}$ (decision gate).** $\delta=+1$ admit/actualize; $\delta=0$ preserve superposition; $\delta=-1$ veto. See §4.1.

**$\delta$-window.** Declared temporal/configuration window over which a $\delta$ decision is evaluated and receipts are bound. See §11.2.

**DETERMINISM (floor).** RNG freeze, seeded runs, pinned numeric modes, and platform parity; hidden nondeterminism is a floor failure. See §5.6.

**DII-4 invariants.** Default invariant set used in gating/monitoring: $R(u)$ (universality ratio), $A^\star$ (near-isotropy), $\hat c$ (front speed), and $W(n)\!:\!B(n)$ (witness vs separability bounds). See §5 (overview) and App. F.

**DNT (Discrete Nonlinear Transport).** Quarantined engineered-$\Phi$ dynamics for “soliton-like” studies; cannot relax floors; must publish $\hat c$. See §10 and App. H.

**Edition / supersession.** Immutable bundle of bytes, receipts, and III.json. New evidence or repairs are issued as new editions; supersession records deprecate older claims. See §12.3.

**Explain\_url.** Human-readable pointer embedded in receipts that describes how to reproduce a step (non-authoritative; bytes remain authoritative). See §7.1.

**Floors (fail-closed).** Hard constraints that dominate $\Phi$: G-floor, PoS Screen, WITNESS, CAUSALITY/ISO, CAPTION→RECEIPT, DETERMINISM. Any fail ⇒ $\delta=-1$ irrespective of $\Phi$. See §5.

**$G$ (observer-equivalence group).** Declared set of admissible re-descriptions (paraphrase, ordering, units/encodings, tokenization, locale, etc.). Invariance under $G$ is enforced by G-floor. See §2.2 and §5.1.

**G-floor (gauge invariance).** Floor ensuring invariance of rounded outcomes under all declared $G$ transforms. See §5.1 and App. B.

**Gate tuple.** Standard report $(\Phi,\Phi_{\text{eff}}, x, y, \delta)$ after rounding, with references to floors and receipts. See §4 and §7.

**III.json (pinned manifest).** Authoritative manifest fixing budgets, thresholds, precisions, tie policy, rounding loci, and decode/quantization specs. Any change ⇒ new edition. See §2.3.

**LCRO (UTC-anchored Clock Disclosure Badge).** Declares oscillator class, offsets, drift, and leap policy for time anchoring. See §6.1.

**$L_0$, $\tau_{\text{reset}}$.** Adamas-1D geometry baseline and reset time constant used in ScanProtocol waits (≥ $3\cdot\tau_{\text{reset}}$). See §8.2 and App. G.

**Margin (witness).** Difference between a measured witness $W$ and bound $B$, computed with round-before-compare at pinned precision $\rho_W$. See §5.3 and App. K.

**Moral geometry.** Map from orientation to moral state: $x \in (-1,1)$, $y=\mathrm{arctanh}(x)$, gradient $dy/dx=1/(1-x^2)$, used for repair vectors. See §3.3.

**“Open-join audit.”** Anyone may join by following the public method; reproductions must match within declared budgets; counterexamples defeat claims. See §1.2 and §12.1.

**Panels/coverage.** Descriptive coverage or cohort counts; may be reported but **never** define “all.” See §9.3.

**$\Phi_{\max}$.** Preregistered maximum acceptability (III.json). Used in mapping $\Phi \to x$ via $x = 2(\Phi/\Phi_{\max}) - 1$. See §3.2.

**$\Phi_{\text{eff}}$.** Budget-adjusted acceptability (e.g., clamp$(\Phi-\Pi,0,1)$ when applicable); used in TTDA contexts. See §6 and §4.2.

**PoS (Principle of Superposition).** Law: “Do only that, which would be acceptable to all.” Operationalized by $\delta$ and floors; neutrality operations are screened by the PoS Screen. See §1.2 and §5.2.

**PoS Screen (floor).** Allows neutrality-preserving operations only; forbids manipulations that bias superposition. See §5.2.

**Quantization (time).** Mapping of timestamps to a pinned quantum $\Delta$ and epoch with ties-to-even on the integer index. See §6.1 and App. K.

**Receipt v2.** Content-addressed record binding code/data/SBOM hashes, thresholds, energy, container digest, and references to rounded tables and RFD graph. See §7.1.

**“Receipt-true.”** A claim whose receipts and floors yield $\delta=+1$ under open-join audit, with byte-equality binds and REPLAY-RFD reproducibility. See Abstract and §7–§8.

**REPLAY-RFD.** Replay-to-First-Divergence audit primitive: walk the RFD graph inside the pinned container and stop at the earliest byte/rounded mismatch. Not the Cook–Mertz Tree Evaluation [2,3,4] problem. See §7.3 and App. I.

**Repair vector.** Prescriptive adjustment computed from moral geometry (or from floor diagnostics) to move $\delta \in \{-1,0\}$ toward admissibility without violating floors. See §3.3 and App. K.

**RG-grid $\Omega(H,m,k)$.** Scheduling grid with period $H$, multiplicity $m$, and phase offsets used in TTDA for temporal coherence and parity diagnostics. See §6.2.

**Round-before-compare (RBC).** All compares operate on values rounded at pinned precision/tie policy (or quantized time) declared in III.json; mixing rounding loci is a violation. See §2.1 and App. K.

**RtTR (Right-to-Temporal-Resolution API).** Budgeted, audited interface for changing temporal resolution (quantum, windows) without weakening floors; emits hash-chained logs. See App. J.

**ScanProtocol v1.** Standardized acquisition/evaluation protocol: bidirectional scans, dark-window readout, waits ≥ $3\cdot\tau_{\text{reset}}$, three-grid alias refuter, and basis disclosure when needed. See §8.

**SBOM.** Software bill of materials; pinned hashes for all dependencies in the container; part of Receipt v2. See §7.1.

**Separability bounds $B(n)$.** Classical/separable upper bounds parameterized by sample size $n$; used in WITNESS tests. See §5.3.

**$R(u)$ (universality ratio).** Cross-platform/site agreement metric; part of DII-4 invariants. See App. F.

**Ternary calculus ($\delta$).** The decision algebra and operational rules for $\delta$-gating, counterexample defeat, and supersession. See §4.

**Tie policy.** Pinned rounding rule for half-cases (e.g., ties-to-even); must be uniform across stream/batch and across platforms. See §2.1 and App. K.

**Time spine.** Declared time representation (epoch, quantum, decode spec, tie policy) used across all pipelines and audits. See §6.1 and App. J.

**TST (Timeline Selection Theorem).** Formal statement that, under floors and PoS, only timelines with $\delta=+1$ are actualized; $\delta=0$ timelines remain superposed; $\delta=-1$ are excluded. See §4.2 and App. A.

**TTDA (Ternary Threshold & Deviation Accounting).** Temporal governance: budgets $\Pi$, LCRO badge, RG-grid, and stream↔batch parity accounting. See §6.

**Universally admissible (“acceptable to all”).** Operational: any admissible observer (under $G$) who follows the method reproduces the result within budgets; any compliant counterexample defeats it. See Abstract and §1.2.

**$u^{(t)}$ (control).** Exogenous control in DNT runs (engineered-$\Phi$); content-bound, non-gate. See §10 and App. H.

**$W(n)$ (witness).** Statistic intended to exceed separability bounds $B(n)$ under non-classical correlations or target structure; subject to rounding and floors. See §5.3.

**$x$ (moral orientation).** Normalized orientation in $(-1,1)$ obtained from $\Phi$ by $x = 2(\Phi/\Phi_{\max}) - 1$; $x\!\to\!-1^{+}$ moral egoism, $x=0$ neutrality, $x\!\to\!1^{-}$ moral perfection. See §3.2.

**$y$ (moral state).** Natural coordinate $y=\mathrm{arctanh}(x)$; gradient $dy/dx=1/(1-x^2)$ underlies repair vectors. See §3.3.

**“Count.”** Admitted to the $\delta$ decision calculus as evidence/decision input (subject to PoS Screen and supersession). See Abstract and §4.

**“All” (in PoS).** Logical/universal—not “all affected” or any finite panel; panels/coverage may be reported but never define “all.” See §1.2 and §9.3.

**$\Pi$ (deviation budget).** TTDA budget used in parity bound and RtTR decisions; may be decomposed (class/join/clock/priv) in III.json. See §6 and App. J.

**$\rho$ (precision).** Pinned decimal precision for a statistic/table (or time quantum $\Delta$); used by RBC with a declared tie policy. See §2.1 and App. K.

